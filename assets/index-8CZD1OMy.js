(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function yA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},jl={};var Vv;function _A(){if(Vv)return jl;Vv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=n,jl.jsxs=n,jl}var kv;function vA(){return kv||(kv=1,dm.exports=_A()),dm.exports}var G=vA(),mm={exports:{}},At={};var Lv;function EA(){if(Lv)return At;Lv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,H={};function tt(M,X,rt){this.props=M,this.context=X,this.refs=H,this.updater=rt||Y}tt.prototype.isReactComponent={},tt.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},tt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function st(){}st.prototype=tt.prototype;function nt(M,X,rt){this.props=M,this.context=X,this.refs=H,this.updater=rt||Y}var ot=nt.prototype=new st;ot.constructor=nt,Q(ot,tt.prototype),ot.isPureReactComponent=!0;var ft=Array.isArray;function ut(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(M,X,rt){var lt=rt.ref;return{$$typeof:r,type:M,key:X,ref:lt!==void 0?lt:null,props:rt}}function O(M,X){return C(M.type,X,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(rt){return X[rt]})}var I=/\/+/g;function jt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):X.toString(36)}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ut,ut):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,X,rt,lt,vt){var _t=typeof M;(_t==="undefined"||_t==="boolean")&&(M=null);var Nt=!1;if(M===null)Nt=!0;else switch(_t){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(M.$$typeof){case r:case t:Nt=!0;break;case E:return Nt=M._init,K(Nt(M._payload),X,rt,lt,vt)}}if(Nt)return vt=vt(M),Nt=lt===""?"."+jt(M,0):lt,ft(vt)?(rt="",Nt!=null&&(rt=Nt.replace(I,"$&/")+"/"),K(vt,X,rt,"",function(Vt){return Vt})):vt!=null&&(D(vt)&&(vt=O(vt,rt+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+Nt)),X.push(vt)),1;Nt=0;var te=lt===""?".":lt+":";if(ft(M))for(var Ft=0;Ft<M.length;Ft++)lt=M[Ft],_t=te+jt(lt,Ft),Nt+=K(lt,X,rt,_t,vt);else if(Ft=x(M),typeof Ft=="function")for(M=Ft.call(M),Ft=0;!(lt=M.next()).done;)lt=lt.value,_t=te+jt(lt,Ft++),Nt+=K(lt,X,rt,_t,vt);else if(_t==="object"){if(typeof M.then=="function")return K(le(M),X,rt,lt,vt);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function it(M,X,rt){if(M==null)return M;var lt=[],vt=0;return K(M,lt,"","",function(_t){return X.call(rt,_t,vt++)}),lt}function gt(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(rt){(M._status===0||M._status===-1)&&(M._status=1,M._result=rt)},function(rt){(M._status===0||M._status===-1)&&(M._status=2,M._result=rt)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Rt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Bt={map:it,forEach:function(M,X,rt){it(M,function(){X.apply(this,arguments)},rt)},count:function(M){var X=0;return it(M,function(){X++}),X},toArray:function(M){return it(M,function(X){return X})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return At.Activity=T,At.Children=Bt,At.Component=tt,At.Fragment=n,At.Profiler=o,At.PureComponent=nt,At.StrictMode=s,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,At.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},At.cache=function(M){return function(){return M.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(M,X,rt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=Q({},M.props),vt=M.key;if(X!=null)for(_t in X.key!==void 0&&(vt=""+X.key),X)!A.call(X,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&X.ref===void 0||(lt[_t]=X[_t]);var _t=arguments.length-2;if(_t===1)lt.children=rt;else if(1<_t){for(var Nt=Array(_t),te=0;te<_t;te++)Nt[te]=arguments[te+2];lt.children=Nt}return C(M.type,vt,lt)},At.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},At.createElement=function(M,X,rt){var lt,vt={},_t=null;if(X!=null)for(lt in X.key!==void 0&&(_t=""+X.key),X)A.call(X,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(vt[lt]=X[lt]);var Nt=arguments.length-2;if(Nt===1)vt.children=rt;else if(1<Nt){for(var te=Array(Nt),Ft=0;Ft<Nt;Ft++)te[Ft]=arguments[Ft+2];vt.children=te}if(M&&M.defaultProps)for(lt in Nt=M.defaultProps,Nt)vt[lt]===void 0&&(vt[lt]=Nt[lt]);return C(M,_t,vt)},At.createRef=function(){return{current:null}},At.forwardRef=function(M){return{$$typeof:m,render:M}},At.isValidElement=D,At.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:gt}},At.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},At.startTransition=function(M){var X=R.T,rt={};R.T=rt;try{var lt=M(),vt=R.S;vt!==null&&vt(rt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(ut,Rt)}catch(_t){Rt(_t)}finally{X!==null&&rt.types!==null&&(X.types=rt.types),R.T=X}},At.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},At.use=function(M){return R.H.use(M)},At.useActionState=function(M,X,rt){return R.H.useActionState(M,X,rt)},At.useCallback=function(M,X){return R.H.useCallback(M,X)},At.useContext=function(M){return R.H.useContext(M)},At.useDebugValue=function(){},At.useDeferredValue=function(M,X){return R.H.useDeferredValue(M,X)},At.useEffect=function(M,X){return R.H.useEffect(M,X)},At.useEffectEvent=function(M){return R.H.useEffectEvent(M)},At.useId=function(){return R.H.useId()},At.useImperativeHandle=function(M,X,rt){return R.H.useImperativeHandle(M,X,rt)},At.useInsertionEffect=function(M,X){return R.H.useInsertionEffect(M,X)},At.useLayoutEffect=function(M,X){return R.H.useLayoutEffect(M,X)},At.useMemo=function(M,X){return R.H.useMemo(M,X)},At.useOptimistic=function(M,X){return R.H.useOptimistic(M,X)},At.useReducer=function(M,X,rt){return R.H.useReducer(M,X,rt)},At.useRef=function(M){return R.H.useRef(M)},At.useState=function(M){return R.H.useState(M)},At.useSyncExternalStore=function(M,X,rt){return R.H.useSyncExternalStore(M,X,rt)},At.useTransition=function(){return R.H.useTransition()},At.version="19.2.0",At}var Uv;function dg(){return Uv||(Uv=1,mm.exports=EA()),mm.exports}var B=dg();const _e=yA(B);var gm={exports:{}},Bl={},pm={exports:{}},ym={};var Pv;function TA(){return Pv||(Pv=1,(function(r){function t(K,it){var gt=K.length;K.push(it);t:for(;0<gt;){var Rt=gt-1>>>1,Bt=K[Rt];if(0<o(Bt,it))K[Rt]=it,K[gt]=Bt,gt=Rt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var it=K[0],gt=K.pop();if(gt!==it){K[0]=gt;t:for(var Rt=0,Bt=K.length,M=Bt>>>1;Rt<M;){var X=2*(Rt+1)-1,rt=K[X],lt=X+1,vt=K[lt];if(0>o(rt,gt))lt<Bt&&0>o(vt,rt)?(K[Rt]=vt,K[lt]=gt,Rt=lt):(K[Rt]=rt,K[X]=gt,Rt=X);else if(lt<Bt&&0>o(vt,gt))K[Rt]=vt,K[lt]=gt,Rt=lt;else break t}}return it}function o(K,it){var gt=K.sortIndex-it.sortIndex;return gt!==0?gt:K.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,T=null,w=3,x=!1,Y=!1,Q=!1,H=!1,tt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function ot(K){for(var it=n(y);it!==null;){if(it.callback===null)s(y);else if(it.startTime<=K)s(y),it.sortIndex=it.expirationTime,t(g,it);else break;it=n(y)}}function ft(K){if(Q=!1,ot(K),!Y)if(n(g)!==null)Y=!0,ut||(ut=!0,k());else{var it=n(y);it!==null&&le(ft,it.startTime-K)}}var ut=!1,R=-1,A=5,C=-1;function O(){return H?!0:!(r.unstable_now()-C<A)}function D(){if(H=!1,ut){var K=r.unstable_now();C=K;var it=!0;try{t:{Y=!1,Q&&(Q=!1,st(R),R=-1),x=!0;var gt=w;try{e:{for(ot(K),T=n(g);T!==null&&!(T.expirationTime>K&&O());){var Rt=T.callback;if(typeof Rt=="function"){T.callback=null,w=T.priorityLevel;var Bt=Rt(T.expirationTime<=K);if(K=r.unstable_now(),typeof Bt=="function"){T.callback=Bt,ot(K),it=!0;break e}T===n(g)&&s(g),ot(K)}else s(g);T=n(g)}if(T!==null)it=!0;else{var M=n(y);M!==null&&le(ft,M.startTime-K),it=!1}}break t}finally{T=null,w=gt,x=!1}it=void 0}}finally{it?k():ut=!1}}}var k;if(typeof nt=="function")k=function(){nt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,jt=I.port2;I.port1.onmessage=D,k=function(){jt.postMessage(null)}}else k=function(){tt(D,0)};function le(K,it){R=tt(function(){K(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var it=3;break;default:it=w}var gt=w;w=it;try{return K()}finally{w=gt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,it){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var gt=w;w=K;try{return it()}finally{w=gt}},r.unstable_scheduleCallback=function(K,it,gt){var Rt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Rt+gt:Rt):gt=Rt,K){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=gt+Bt,K={id:E++,callback:it,priorityLevel:K,startTime:gt,expirationTime:Bt,sortIndex:-1},gt>Rt?(K.sortIndex=gt,t(y,K),n(g)===null&&K===n(y)&&(Q?(st(R),R=-1):Q=!0,le(ft,gt-Rt))):(K.sortIndex=Bt,t(g,K),Y||x||(Y=!0,ut||(ut=!0,k()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var it=w;return function(){var gt=w;w=it;try{return K.apply(this,arguments)}finally{w=gt}}}})(ym)),ym}var zv;function bA(){return zv||(zv=1,pm.exports=TA()),pm.exports}var _m={exports:{}},mn={};var jv;function SA(){if(jv)return mn;jv=1;var r=dg();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},mn.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},mn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},mn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},mn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:x}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:w,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},mn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},mn.requestFormReset=function(g){s.d.r(g)},mn.unstable_batchedUpdates=function(g,y){return g(y)},mn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.2.0",mn}var Bv;function VE(){if(Bv)return _m.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_m.exports=SA(),_m.exports}var qv;function AA(){if(qv)return Bl;qv=1;var r=bA(),t=dg(),n=VE();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function jt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case tt:return"Profiler";case H:return"StrictMode";case ft:return"Suspense";case ut:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case nt:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case ot:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:jt(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return jt(e(i))}catch{}}return null}var le=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Rt=[],Bt=-1;function M(e){return{current:e}}function X(e){0>Bt||(e.current=Rt[Bt],Rt[Bt]=null,Bt--)}function rt(e,i){Bt++,Rt[Bt]=e.current,e.current=i}var lt=M(null),vt=M(null),_t=M(null),Nt=M(null);function te(e,i){switch(rt(_t,i),rt(vt,e),rt(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?iv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=iv(i),e=rv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(lt),rt(lt,e)}function Ft(){X(lt),X(vt),X(_t)}function Vt(e){e.memoizedState!==null&&rt(Nt,e);var i=lt.current,a=rv(i,e.type);i!==a&&(rt(vt,e),rt(lt,a))}function ti(e){vt.current===e&&(X(lt),X(vt)),Nt.current===e&&(X(Nt),Ll._currentValue=gt)}var We,Pn;function Ie(e){if(We===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);We=i&&i[1]||"",Pn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+e+Pn}var ei=!1;function Rn(e,i){if(!e||ei)return"";ei=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var j=F}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(F){j=F}e.call(Z.prototype)}}else{try{throw Error()}catch(F){j=F}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),z=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var $=`
`+N[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{ei=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ie(a):""}function kr(e,i){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==i&&i!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Rn(e.type,!1);case 11:return Rn(e.type.render,!1);case 1:return Rn(e.type,!0);case 31:return Ie("Activity");default:return""}}function Lr(e){try{var i="",a=null;do i+=kr(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fe=Object.prototype.hasOwnProperty,ee=r.unstable_scheduleCallback,zn=r.unstable_cancelCallback,Ur=r.unstable_shouldYield,Ps=r.unstable_requestPaint,Qe=r.unstable_now,sr=r.unstable_getCurrentPriorityLevel,zs=r.unstable_ImmediatePriority,ni=r.unstable_UserBlockingPriority,vn=r.unstable_NormalPriority,ar=r.unstable_LowPriority,js=r.unstable_IdlePriority,jn=r.log,Bs=r.unstable_setDisableYieldValue,Bn=null,qe=null;function cn(e){if(typeof jn=="function"&&Bs(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Bn,e)}catch{}}var de=Math.clz32?Math.clz32:Ia,Ca=Math.log,or=Math.LN2;function Ia(e){return e>>>=0,e===0?32:31-(Ca(e)/or|0)|0}var ii=256,lr=262144,xt=4194304;function me(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ge(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=me(l):(_&=b,_!==0?h=me(_):a||(a=b&~e,a!==0&&(h=me(a))))):(b=l&~d,b!==0?h=me(b):_!==0?h=me(_):a||(a=l&~e,a!==0&&(h=me(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function De(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function hn(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var e=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),e}function be(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Cn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-de(a),Z=1<<$;b[$]=0,N[$]=-1;var j=z[$];if(j!==null)for(z[$]=null,$=0;$<j.length;$++){var F=j[$];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&fn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function fn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function dn(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function En(e,i){var a=i&-i;return a=(a&42)!==0?1:qn(a),(a&(e.suspendedLanes|i))!==0?0:a}function qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hn(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:Cv(e.type))}function tn(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var bn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+bn,Ke="__reactProps$"+bn,Mi="__reactContainer$"+bn,Da="__reactEvents$"+bn,vf="__reactListeners$"+bn,Ou="__reactHandles$"+bn,Mu="__reactResources$"+bn,Vi="__reactMarker$"+bn;function Na(e){delete e[Ne],delete e[Ke],delete e[Da],delete e[vf],delete e[Ou]}function ki(e){var i=e[Ne];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Mi]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=hv(e);e!==null;){if(a=e[Ne])return a;e=hv(e)}return i}e=a,a=e.parentNode}return null}function ri(e){if(e=e[Ne]||e[Mi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Li(e){var i=e[Mu];return i||(i=e[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xe(e){e[Vi]=!0}var Ho=new Set,Fo={};function Ui(e,i){Pi(e,i),Pi(e+"Capture",i)}function Pi(e,i){for(Fo[e]=i,e=0;e<i.length;e++)Ho.add(i[e])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Yo={};function Vu(e){return fe.call(Yo,e)?!0:fe.call(Qo,e)?!1:Go.test(e)?Yo[e]=!0:(Qo[e]=!0,!1)}function xa(e,i,a){if(Vu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Oe(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Jt(e){if(!e._valueTracker){var i=Pr(e)?"checked":"value";e._valueTracker=Ko(e,i,""+e[i])}}function qs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Pr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hs=/[\n"\\]/g;function In(e){return e.replace(Hs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oa(e,i,a,l,h,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Xe(i)):e.value!==""+Xe(i)&&(e.value=""+Xe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Xo(e,_,Xe(i)):a!=null?Xo(e,_,Xe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Xe(b):e.removeAttribute("name")}function ku(e,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Jt(e);return}a=a!=null?""+Xe(a):"",i=i!=null?""+Xe(i):a,b||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Jt(e)}function Xo(e,i,a){i==="number"&&zi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Lu(e,i,a){if(i!=null&&(i=""+Xe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Xe(a):""}function jr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Xe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Jt(e)}function Dn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Uu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Jo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&$o(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&$o(e,d,i[d])}function Ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(e){return Br.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _i(){}var Zo=null;function si(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qr=null,ji=null;function Fs(e){var i=ri(e);if(i&&(e=i.stateNode)){var a=e[Ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(Oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+In(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ke]||null;if(!h)throw Error(s(90));Oa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&qs(l)}break t;case"textarea":Lu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zr(e,!!a.multiple,i,!1)}}}var ka=!1;function Hr(e,i,a){if(ka)return e(i,a);ka=!0;try{var l=e(i);return l}finally{if(ka=!1,(qr!==null||ji!==null)&&(xc(),qr&&(i=qr,e=ji,ji=qr=null,Fs(i),e)))for(i=0;i<e.length;i++)Fs(e[i])}}function vi(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(ai)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Gs=!1}var Bi=null,Wo=null,Qs=null;function tl(){if(Qs)return Qs;var e,i=Wo,a=i.length,l,h="value"in Bi?Bi.value:Bi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Qs=h.slice(e,1<l?1-l:void 0)}function Ys(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ur(){return!0}function Ei(){return!1}function en(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:Ei,this.isPropagationStopped=Ei,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),i}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=en(cr),Fr=T({},cr,{view:0,detail:0}),el=en(Fr),Gr,La,Hi,Ua=T({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(Gr=e.screenX-Hi.screenX,La=e.screenY-Hi.screenY):La=Gr=0,Hi=e),Gr)},movementY:function(e){return"movementY"in e?e.movementY:La}}),nl=en(Ua),Ks=T({},Ua,{dataTransfer:0}),zu=en(Ks),ju=T({},Fr,{relatedTarget:0}),Xs=en(ju),il=T({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=en(il),Pa=T({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qu=en(Pa),Hu=T({},cr,{data:0}),Fi=en(Hu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Qu[e])?!!i[e]:!1}function Qr(){return Yu}var Sn=T({},Fr,{key:function(e){if(e.key){var i=Fu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ku=en(Sn),Xu=T({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=en(Xu),c=T({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),p=en(c),v=T({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=en(v),U=T({},Ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=en(U),at=T({},cr,{newState:0,oldState:0}),Ct=en(at),Ae=[9,13,27,32],Kt=ai&&"CompositionEvent"in window,pe=null;ai&&"documentMode"in document&&(pe=document.documentMode);var oi=ai&&"TextEvent"in window&&!pe,Gi=ai&&(!Kt||pe&&8<pe&&11>=pe),Ti=" ",bi=!1;function $s(e,i){switch(e){case"keyup":return Ae.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function BS(e,i){switch(e){case"compositionend":return za(i);case"keypress":return i.which!==32?null:(bi=!0,Ti);case"textInput":return e=i.data,e===Ti&&bi?null:e;default:return null}}function qS(e,i){if(ja)return e==="compositionend"||!Kt&&$s(e,i)?(e=tl(),Qs=Wo=Bi=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gi&&i.locale!=="ko"?null:i.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!HS[e.type]:i==="textarea"}function gp(e,i,a,l){qr?ji?ji.push(l):ji=[l]:qr=l,i=Pc(i,"onChange"),0<i.length&&(a=new qi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var rl=null,sl=null;function FS(e){J_(e,0)}function $u(e){var i=Fn(e);if(qs(i))return e}function pp(e,i){if(e==="change")return i}var yp=!1;if(ai){var Ef;if(ai){var Tf="oninput"in document;if(!Tf){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),Tf=typeof _p.oninput=="function"}Ef=Tf}else Ef=!1;yp=Ef&&(!document.documentMode||9<document.documentMode)}function vp(){rl&&(rl.detachEvent("onpropertychange",Ep),sl=rl=null)}function Ep(e){if(e.propertyName==="value"&&$u(sl)){var i=[];gp(i,sl,e,si(e)),Hr(FS,i)}}function GS(e,i,a){e==="focusin"?(vp(),rl=i,sl=a,rl.attachEvent("onpropertychange",Ep)):e==="focusout"&&vp()}function QS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(sl)}function YS(e,i){if(e==="click")return $u(i)}function KS(e,i){if(e==="input"||e==="change")return $u(i)}function XS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Qn=typeof Object.is=="function"?Object.is:XS;function al(e,i){if(Qn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!fe.call(i,h)||!Qn(e[h],i[h]))return!1}return!0}function Tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,i){var a=Tp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Tp(a)}}function Sp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Sp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ap(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=zi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=zi(e.document)}return i}function bf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var $S=ai&&"documentMode"in document&&11>=document.documentMode,Ba=null,Sf=null,ol=null,Af=!1;function wp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||Ba==null||Ba!==zi(l)||(l=Ba,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Pc(Sf,"onSelect"),0<l.length&&(i=new qi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ba)))}function Js(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var qa={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},wf={},Rp={};ai&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Zs(e){if(wf[e])return wf[e];if(!qa[e])return e;var i=qa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rp)return wf[e]=i[a];return e}var Cp=Zs("animationend"),Ip=Zs("animationiteration"),Dp=Zs("animationstart"),JS=Zs("transitionrun"),ZS=Zs("transitionstart"),WS=Zs("transitioncancel"),Np=Zs("transitionend"),xp=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function Si(e,i){xp.set(e,i),Ui(i,[e])}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},li=[],Ha=0,Cf=0;function Zu(){for(var e=Ha,i=Cf=Ha=0;i<e;){var a=li[i];li[i++]=null;var l=li[i];li[i++]=null;var h=li[i];li[i++]=null;var d=li[i];if(li[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Op(a,h,d)}}function Wu(e,i,a,l){li[Ha++]=e,li[Ha++]=i,li[Ha++]=a,li[Ha++]=l,Cf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function If(e,i,a,l){return Wu(e,i,a,l),tc(e)}function Ws(e,i){return Wu(e,null,null,i),tc(e)}function Op(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function tc(e){if(50<Dl)throw Dl=0,Ud=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Fa={};function t1(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,i,a,l){return new t1(e,i,a,l)}function Df(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fr(e,i){var a=e.alternate;return a===null?(a=Yn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Mp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ec(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Df(e)&&(_=1);else if(typeof e=="string")_=sA(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Yn(31,a,i,h),e.elementType=C,e.lanes=d,e;case Q:return ta(a.children,h,d,i);case H:_=8,h|=24;break;case tt:return e=Yn(12,a,i,h|2),e.elementType=tt,e.lanes=d,e;case ft:return e=Yn(13,a,i,h),e.elementType=ft,e.lanes=d,e;case ut:return e=Yn(19,a,i,h),e.elementType=ut,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:_=10;break t;case st:_=9;break t;case ot:_=11;break t;case R:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Yn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ta(e,i,a,l){return e=Yn(7,e,l,i),e.lanes=a,e}function Nf(e,i,a){return e=Yn(6,e,null,i),e.lanes=a,e}function Vp(e){var i=Yn(18,null,null,0);return i.stateNode=e,i}function xf(e,i,a){return i=Yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var kp=new WeakMap;function ui(e,i){if(typeof e=="object"&&e!==null){var a=kp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Lr(i)},kp.set(e,i),i)}return{value:e,source:i,stack:Lr(i)}}var Ga=[],Qa=0,nc=null,ll=0,ci=[],hi=0,Yr=null,Qi=1,Yi="";function dr(e,i){Ga[Qa++]=ll,Ga[Qa++]=nc,nc=e,ll=i}function Lp(e,i,a){ci[hi++]=Qi,ci[hi++]=Yi,ci[hi++]=Yr,Yr=e;var l=Qi;e=Yi;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Qi=1<<32-de(i)+h|a<<h|l,Yi=d+e}else Qi=1<<d|a<<h|l,Yi=e}function Of(e){e.return!==null&&(dr(e,1),Lp(e,1,0))}function Mf(e){for(;e===nc;)nc=Ga[--Qa],Ga[Qa]=null,ll=Ga[--Qa],Ga[Qa]=null;for(;e===Yr;)Yr=ci[--hi],ci[hi]=null,Yi=ci[--hi],ci[hi]=null,Qi=ci[--hi],ci[hi]=null}function Up(e,i){ci[hi++]=Qi,ci[hi++]=Yi,ci[hi++]=Yr,Qi=i.id,Yi=i.overflow,Yr=e}var nn=null,ue=null,qt=!1,Kr=null,fi=!1,Vf=Error(s(519));function Xr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(ui(i,e)),Vf}function Pp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ne]=e,i[Ke]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Mt(xl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),ku(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),jr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ev(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=_i),i=!0):i=!1,i||Xr(e,!0)}function zp(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:nn=nn.return}}function Ya(e){if(e!==nn)return!1;if(!qt)return zp(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zd(e.type,e.memoizedProps)),a=!a),a&&ue&&Xr(e),zp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ue=cv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ue=cv(e)}else i===27?(i=ue,us(e.type)?(e=im,im=null,ue=e):ue=i):ue=nn?mi(e.stateNode.nextSibling):null;return!0}function ea(){ue=nn=null,qt=!1}function kf(){var e=Kr;return e!==null&&(Mn===null?Mn=e:Mn.push.apply(Mn,e),Kr=null),e}function ul(e){Kr===null?Kr=[e]:Kr.push(e)}var Lf=M(null),na=null,mr=null;function $r(e,i,a){rt(Lf,i._currentValue),i._currentValue=a}function gr(e){e._currentValue=Lf.current,X(Lf)}function Uf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Pf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Uf(d.return,a,e),l||(_=null);break t}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Uf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ka(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;Qn(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===Nt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}h=h.return}e!==null&&Pf(i,e,a,l),i.flags|=262144}function ic(e){for(e=e.firstContext;e!==null;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){na=e,mr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return jp(na,e)}function rc(e,i){return na===null&&ia(e),jp(e,i)}function jp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},mr===null){if(e===null)throw Error(s(308));mr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else mr=mr.next=i;return a}var e1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},n1=r.unstable_scheduleCallback,i1=r.unstable_NormalPriority,Me={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new e1,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&n1(i1,function(){e.controller.abort()})}var hl=null,jf=0,Xa=0,$a=null;function r1(e,i){if(hl===null){var a=hl=[];jf=0,Xa=Hd(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jf++,i.then(Bp,Bp),i}function Bp(){if(--jf===0&&hl!==null){$a!==null&&($a.status="fulfilled");var e=hl;hl=null,Xa=0,$a=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function s1(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qp=K.S;K.S=function(e,i){w_=Qe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&r1(e,i),qp!==null&&qp(e,i)};var ra=M(null);function Bf(){var e=ra.current;return e!==null?e:ae.pooledCache}function sc(e,i){i===null?rt(ra,ra.current):rt(ra,i.pool)}function Hp(){var e=Bf();return e===null?null:{parent:Me._currentValue,pool:e}}var Ja=Error(s(460)),qf=Error(s(474)),ac=Error(s(542)),oc={then:function(){}};function Fp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(_i,_i),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yp(e),e;default:if(typeof i.status=="string")i.then(_i,_i);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yp(e),e}throw aa=i,Ja}}function sa(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,Ja):a}}var aa=null;function Qp(){if(aa===null)throw Error(s(459));var e=aa;return aa=null,e}function Yp(e){if(e===Ja||e===ac)throw Error(s(483))}var Za=null,fl=0;function lc(e){var i=fl;return fl+=1,Za===null&&(Za=[]),Gp(Za,e,i)}function dl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function uc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Kp(e){function i(L,V){if(e){var P=L.deletions;P===null?(L.deletions=[V],L.flags|=16):P.push(V)}}function a(L,V){if(!e)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=fr(L,V),L.index=0,L.sibling=null,L}function d(L,V,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<V?(L.flags|=67108866,V):P):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function b(L,V,P,J){return V===null||V.tag!==6?(V=Nf(P,L.mode,J),V.return=L,V):(V=h(V,P),V.return=L,V)}function N(L,V,P,J){var pt=P.type;return pt===Q?$(L,V,P.props.children,J,P.key):V!==null&&(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&sa(pt)===V.type)?(V=h(V,P.props),dl(V,P),V.return=L,V):(V=ec(P.type,P.key,P.props,null,L.mode,J),dl(V,P),V.return=L,V)}function z(L,V,P,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=xf(P,L.mode,J),V.return=L,V):(V=h(V,P.children||[]),V.return=L,V)}function $(L,V,P,J,pt){return V===null||V.tag!==7?(V=ta(P,L.mode,J,pt),V.return=L,V):(V=h(V,P),V.return=L,V)}function Z(L,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Nf(""+V,L.mode,P),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return P=ec(V.type,V.key,V.props,null,L.mode,P),dl(P,V),P.return=L,P;case Y:return V=xf(V,L.mode,P),V.return=L,V;case A:return V=sa(V),Z(L,V,P)}if(le(V)||k(V))return V=ta(V,L.mode,P,null),V.return=L,V;if(typeof V.then=="function")return Z(L,lc(V),P);if(V.$$typeof===nt)return Z(L,rc(L,V),P);uc(L,V)}return null}function j(L,V,P,J){var pt=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pt!==null?null:b(L,V,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return P.key===pt?N(L,V,P,J):null;case Y:return P.key===pt?z(L,V,P,J):null;case A:return P=sa(P),j(L,V,P,J)}if(le(P)||k(P))return pt!==null?null:$(L,V,P,J,null);if(typeof P.then=="function")return j(L,V,lc(P),J);if(P.$$typeof===nt)return j(L,V,rc(L,P),J);uc(L,P)}return null}function F(L,V,P,J,pt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(P)||null,b(V,L,""+J,pt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return L=L.get(J.key===null?P:J.key)||null,N(V,L,J,pt);case Y:return L=L.get(J.key===null?P:J.key)||null,z(V,L,J,pt);case A:return J=sa(J),F(L,V,P,J,pt)}if(le(J)||k(J))return L=L.get(P)||null,$(V,L,J,pt,null);if(typeof J.then=="function")return F(L,V,P,lc(J),pt);if(J.$$typeof===nt)return F(L,V,P,rc(V,J),pt);uc(V,J)}return null}function dt(L,V,P,J){for(var pt=null,Qt=null,mt=V,Dt=V=0,Lt=null;mt!==null&&Dt<P.length;Dt++){mt.index>Dt?(Lt=mt,mt=null):Lt=mt.sibling;var Yt=j(L,mt,P[Dt],J);if(Yt===null){mt===null&&(mt=Lt);break}e&&mt&&Yt.alternate===null&&i(L,mt),V=d(Yt,V,Dt),Qt===null?pt=Yt:Qt.sibling=Yt,Qt=Yt,mt=Lt}if(Dt===P.length)return a(L,mt),qt&&dr(L,Dt),pt;if(mt===null){for(;Dt<P.length;Dt++)mt=Z(L,P[Dt],J),mt!==null&&(V=d(mt,V,Dt),Qt===null?pt=mt:Qt.sibling=mt,Qt=mt);return qt&&dr(L,Dt),pt}for(mt=l(mt);Dt<P.length;Dt++)Lt=F(mt,L,Dt,P[Dt],J),Lt!==null&&(e&&Lt.alternate!==null&&mt.delete(Lt.key===null?Dt:Lt.key),V=d(Lt,V,Dt),Qt===null?pt=Lt:Qt.sibling=Lt,Qt=Lt);return e&&mt.forEach(function(ms){return i(L,ms)}),qt&&dr(L,Dt),pt}function Et(L,V,P,J){if(P==null)throw Error(s(151));for(var pt=null,Qt=null,mt=V,Dt=V=0,Lt=null,Yt=P.next();mt!==null&&!Yt.done;Dt++,Yt=P.next()){mt.index>Dt?(Lt=mt,mt=null):Lt=mt.sibling;var ms=j(L,mt,Yt.value,J);if(ms===null){mt===null&&(mt=Lt);break}e&&mt&&ms.alternate===null&&i(L,mt),V=d(ms,V,Dt),Qt===null?pt=ms:Qt.sibling=ms,Qt=ms,mt=Lt}if(Yt.done)return a(L,mt),qt&&dr(L,Dt),pt;if(mt===null){for(;!Yt.done;Dt++,Yt=P.next())Yt=Z(L,Yt.value,J),Yt!==null&&(V=d(Yt,V,Dt),Qt===null?pt=Yt:Qt.sibling=Yt,Qt=Yt);return qt&&dr(L,Dt),pt}for(mt=l(mt);!Yt.done;Dt++,Yt=P.next())Yt=F(mt,L,Dt,Yt.value,J),Yt!==null&&(e&&Yt.alternate!==null&&mt.delete(Yt.key===null?Dt:Yt.key),V=d(Yt,V,Dt),Qt===null?pt=Yt:Qt.sibling=Yt,Qt=Yt);return e&&mt.forEach(function(pA){return i(L,pA)}),qt&&dr(L,Dt),pt}function se(L,V,P,J){if(typeof P=="object"&&P!==null&&P.type===Q&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case x:t:{for(var pt=P.key;V!==null;){if(V.key===pt){if(pt=P.type,pt===Q){if(V.tag===7){a(L,V.sibling),J=h(V,P.props.children),J.return=L,L=J;break t}}else if(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&sa(pt)===V.type){a(L,V.sibling),J=h(V,P.props),dl(J,P),J.return=L,L=J;break t}a(L,V);break}else i(L,V);V=V.sibling}P.type===Q?(J=ta(P.props.children,L.mode,J,P.key),J.return=L,L=J):(J=ec(P.type,P.key,P.props,null,L.mode,J),dl(J,P),J.return=L,L=J)}return _(L);case Y:t:{for(pt=P.key;V!==null;){if(V.key===pt)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){a(L,V.sibling),J=h(V,P.children||[]),J.return=L,L=J;break t}else{a(L,V);break}else i(L,V);V=V.sibling}J=xf(P,L.mode,J),J.return=L,L=J}return _(L);case A:return P=sa(P),se(L,V,P,J)}if(le(P))return dt(L,V,P,J);if(k(P)){if(pt=k(P),typeof pt!="function")throw Error(s(150));return P=pt.call(P),Et(L,V,P,J)}if(typeof P.then=="function")return se(L,V,lc(P),J);if(P.$$typeof===nt)return se(L,V,rc(L,P),J);uc(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(a(L,V.sibling),J=h(V,P),J.return=L,L=J):(a(L,V),J=Nf(P,L.mode,J),J.return=L,L=J),_(L)):a(L,V)}return function(L,V,P,J){try{fl=0;var pt=se(L,V,P,J);return Za=null,pt}catch(mt){if(mt===Ja||mt===ac)throw mt;var Qt=Yn(29,mt,null,L.mode);return Qt.lanes=J,Qt.return=L,Qt}finally{}}}var oa=Kp(!0),Xp=Kp(!1),Jr=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=tc(e),Op(e,null,a),i}return Wu(e,l,i,a),tc(e)}function ml(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,dn(e,a)}}function Gf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Qf=!1;function gl(){if(Qf){var e=$a;if(e!==null)throw e}}function pl(e,i,a,l){Qf=!1;var h=e.updateQueue;Jr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,z=N.next;N.next=null,_===null?d=z:_.next=z,_=N;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=z:b.next=z,$.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,$=z=N=null,b=d;do{var j=b.lane&-536870913,F=j!==b.lane;if(F?(kt&j)===j:(l&j)===j){j!==0&&j===Xa&&(Qf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var dt=e,Et=b;j=i;var se=a;switch(Et.tag){case 1:if(dt=Et.payload,typeof dt=="function"){Z=dt.call(se,Z,j);break t}Z=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Et.payload,j=typeof dt=="function"?dt.call(se,Z,j):dt,j==null)break t;Z=T({},Z,j);break t;case 2:Jr=!0}}j=b.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(z=$=F,N=Z):$=$.next=F,_|=j;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),rs|=_,e.lanes=_,e.memoizedState=Z}}function $p(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Jp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$p(a[e],i)}var Wa=M(null),cc=M(0);function Zp(e,i){e=Ar,rt(cc,e),rt(Wa,i),Ar=e|i.baseLanes}function Yf(){rt(cc,Ar),rt(Wa,Wa.current)}function Kf(){Ar=cc.current,X(Wa),X(cc)}var Kn=M(null),di=null;function ts(e){var i=e.alternate;rt(we,we.current&1),rt(Kn,e),di===null&&(i===null||Wa.current!==null||i.memoizedState!==null)&&(di=e)}function Xf(e){rt(we,we.current),rt(Kn,e),di===null&&(di=e)}function Wp(e){e.tag===22?(rt(we,we.current),rt(Kn,e),di===null&&(di=e)):es()}function es(){rt(we,we.current),rt(Kn,Kn.current)}function Xn(e){X(Kn),di===e&&(di=null),X(we)}var we=M(0);function hc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pr=0,It=null,ie=null,Ve=null,fc=!1,to=!1,la=!1,dc=0,yl=0,eo=null,a1=0;function Ee(){throw Error(s(321))}function $f(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Qn(e[a],i[a]))return!1;return!0}function Jf(e,i,a,l,h,d){return pr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?Ly:fd,la=!1,d=a(l,h),la=!1,to&&(d=ey(i,a,l,h)),ty(e),d}function ty(e){K.H=El;var i=ie!==null&&ie.next!==null;if(pr=0,Ve=ie=It=null,fc=!1,yl=0,eo=null,i)throw Error(s(300));e===null||ke||(e=e.dependencies,e!==null&&ic(e)&&(ke=!0))}function ey(e,i,a,l){It=e;var h=0;do{if(to&&(eo=null),yl=0,to=!1,25<=h)throw Error(s(301));if(h+=1,Ve=ie=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Uy,d=i(a,l)}while(to);return d}function o1(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?_l(i):i,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(It.flags|=1024),i}function Zf(){var e=dc!==0;return dc=0,e}function Wf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function td(e){if(fc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}fc=!1}pr=0,Ve=ie=It=null,to=!1,yl=dc=0,eo=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Re(){if(ie===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var i=Ve===null?It.memoizedState:Ve.next;if(i!==null)Ve=i,ie=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(e){var i=yl;return yl+=1,eo===null&&(eo=[]),e=Gp(eo,e,i),i=It,(Ve===null?i.memoizedState:Ve.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Ly:fd),e}function gc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _l(e);if(e.$$typeof===nt)return rn(e)}throw Error(s(438,String(e)))}function ed(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function yr(e,i){return typeof i=="function"?i(e):i}function pc(e){var i=Re();return nd(i,ie,e)}function nd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var b=_=null,N=null,z=i,$=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(kt&Z)===Z:(pr&Z)===Z){var j=z.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Xa&&($=!0);else if((pr&j)===j){z=z.next,j===Xa&&($=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=Z,_=d):N=N.next=Z,It.lanes|=j,rs|=j;Z=z.action,la&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else j={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=j,_=d):N=N.next=j,It.lanes|=Z,rs|=Z;z=z.next}while(z!==null&&z!==i);if(N===null?_=d:N.next=b,!Qn(d,e.memoizedState)&&(ke=!0,$&&(a=$a,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function id(e){var i=Re(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Qn(d,i.memoizedState)||(ke=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(e,i,a){var l=It,h=Re(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Qn((ie||h).memoizedState,a);if(_&&(h.memoizedState=a,ke=!0),h=h.queue,ad(sy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},ry.bind(null,l,h,a,i),null),ae===null)throw Error(s(349));d||(pr&127)!==0||iy(l,i,a)}return a}function iy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=mc(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ry(e,i,a,l){i.value=a,i.getSnapshot=l,ay(i)&&oy(e)}function sy(e,i,a){return a(function(){ay(i)&&oy(e)})}function ay(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Qn(e,a)}catch{return!0}}function oy(e){var i=Ws(e,2);i!==null&&Vn(i,e,2)}function rd(e){var i=An();if(typeof e=="function"){var a=e;if(e=a(),la){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:e},i}function ly(e,i,a,l){return e.baseState=a,nd(e,ie,typeof l=="function"?l:yr)}function l1(e,i,a,l,h){if(vc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,uy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function uy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var b=a(h,l),N=K.S;N!==null&&N(_,b),cy(e,i,b)}catch(z){sd(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),cy(e,i,d)}catch(z){sd(e,i,z)}}function cy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(e,i,l)},function(l){return sd(e,i,l)}):hy(e,i,a)}function hy(e,i,a){i.status="fulfilled",i.value=a,fy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,uy(e,a)))}function sd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}e.action=null}function fy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function dy(e,i){return i}function my(e,i){if(qt){var a=ae.formState;if(a!==null){t:{var l=It;if(qt){if(ue){e:{for(var h=ue,d=fi;h.nodeType!==8;){if(!d){h=null;break e}if(h=mi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=mi(h.nextSibling),l=h.data==="F!";break t}}Xr(l)}l=!1}l&&(i=a[0])}}return a=An(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=l,a=My.bind(null,It,l),l.dispatch=a,l=rd(!1),d=hd.bind(null,It,!1,l.queue),l=An(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=l1.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function gy(e){var i=Re();return py(i,ie,e)}function py(e,i,a){if(i=nd(e,i,dy)[0],e=pc(yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(_){throw _===Ja?ac:_}else l=i;i=Re();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,no(9,{destroy:void 0},u1.bind(null,h,a),null)),[l,d,e]}function u1(e,i){e.action=i}function yy(e){var i=Re(),a=ie;if(a!==null)return py(i,a,e);Re(),i=i.memoizedState,a=Re();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function no(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=mc(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function _y(){return Re().memoizedState}function yc(e,i,a,l){var h=An();It.flags|=e,h.memoizedState=no(1|i,{destroy:void 0},a,l===void 0?null:l)}function _c(e,i,a,l){var h=Re();l=l===void 0?null:l;var d=h.memoizedState.inst;ie!==null&&l!==null&&$f(l,ie.memoizedState.deps)?h.memoizedState=no(i,d,a,l):(It.flags|=e,h.memoizedState=no(1|i,d,a,l))}function vy(e,i){yc(8390656,8,e,i)}function ad(e,i){_c(2048,8,e,i)}function c1(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=mc(),It.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ey(e){var i=Re().memoizedState;return c1({ref:i,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(e,i){return _c(4,2,e,i)}function by(e,i){return _c(4,4,e,i)}function Sy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ay(e,i,a){a=a!=null?a.concat([e]):null,_c(4,4,Sy.bind(null,i,e),a)}function od(){}function wy(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&$f(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ry(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&$f(i,l[1]))return l[0];if(l=e(),la){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function ld(e,i,a){return a===void 0||(pr&1073741824)!==0&&(kt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=C_(),It.lanes|=e,rs|=e,a)}function Cy(e,i,a,l){return Qn(a,i)?a:Wa.current!==null?(e=ld(e,a,l),Qn(e,i)||(ke=!0),e):(pr&42)===0||(pr&1073741824)!==0&&(kt&261930)===0?(ke=!0,e.memoizedState=a):(e=C_(),It.lanes|=e,rs|=e,i)}function Iy(e,i,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var _=K.T,b={};K.T=b,hd(e,!1,i,a);try{var N=h(),z=K.S;if(z!==null&&z(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=s1(N,l);vl(e,i,$,Zn(e))}else vl(e,i,l,Zn(e))}catch(Z){vl(e,i,{then:function(){},status:"rejected",reason:Z},Zn())}finally{it.p=d,_!==null&&b.types!==null&&(_.types=b.types),K.T=_}}function h1(){}function ud(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Dy(e).queue;Iy(e,h,i,gt,a===null?h1:function(){return Ny(e),a(l)})}function Dy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ny(e){var i=Dy(e);i.next===null&&(i=e.alternate.memoizedState),vl(e,i.next.queue,{},Zn())}function cd(){return rn(Ll)}function xy(){return Re().memoizedState}function Oy(){return Re().memoizedState}function f1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Zn();e=Zr(a);var l=Wr(i,e,a);l!==null&&(Vn(l,i,a),ml(l,i,a)),i={cache:zf()},e.payload=i;return}i=i.return}}function d1(e,i,a){var l=Zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(e)?Vy(i,a):(a=If(e,i,a,l),a!==null&&(Vn(a,e,l),ky(a,i,l)))}function My(e,i,a){var l=Zn();vl(e,i,a,l)}function vl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(e))Vy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,Qn(b,_))return Wu(e,i,h,0),ae===null&&Zu(),!1}catch{}finally{}if(a=If(e,i,h,l),a!==null)return Vn(a,e,l),ky(a,i,l),!0}return!1}function hd(e,i,a,l){if(l={lane:2,revertLane:Hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(i)throw Error(s(479))}else i=If(e,a,l,2),i!==null&&Vn(i,e,2)}function vc(e){var i=e.alternate;return e===It||i!==null&&i===It}function Vy(e,i){to=fc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ky(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,dn(e,a)}}var El={readContext:rn,use:gc,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};El.useEffectEvent=Ee;var Ly={readContext:rn,use:gc,useCallback:function(e,i){return An().memoizedState=[e,i===void 0?null:i],e},useContext:rn,useEffect:vy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,yc(4194308,4,Sy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return yc(4194308,4,e,i)},useInsertionEffect:function(e,i){yc(4,2,e,i)},useMemo:function(e,i){var a=An();i=i===void 0?null:i;var l=e();if(la){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=An();if(a!==void 0){var h=a(i);if(la){cn(!0);try{a(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=d1.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=An();return e={current:e},i.memoizedState=e},useState:function(e){e=rd(e);var i=e.queue,a=My.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:od,useDeferredValue:function(e,i){var a=An();return ld(a,e,i)},useTransition:function(){var e=rd(!1);return e=Iy.bind(null,It,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=An();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ae===null)throw Error(s(349));(kt&127)!==0||iy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vy(sy.bind(null,l,d,e),[e]),l.flags|=2048,no(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),a},useId:function(){var e=An(),i=ae.identifierPrefix;if(qt){var a=Yi,l=Qi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=a1++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:cd,useFormState:my,useActionState:my,useOptimistic:function(e){var i=An();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hd.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:ed,useCacheRefresh:function(){return An().memoizedState=f1.bind(null,It)},useEffectEvent:function(e){var i=An(),a={impl:e};return i.memoizedState=a,function(){if((Xt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},fd={readContext:rn,use:gc,useCallback:wy,useContext:rn,useEffect:ad,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ry,useReducer:pc,useRef:_y,useState:function(){return pc(yr)},useDebugValue:od,useDeferredValue:function(e,i){var a=Re();return Cy(a,ie.memoizedState,e,i)},useTransition:function(){var e=pc(yr)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:_l(e),i]},useSyncExternalStore:ny,useId:xy,useHostTransitionStatus:cd,useFormState:gy,useActionState:gy,useOptimistic:function(e,i){var a=Re();return ly(a,ie,e,i)},useMemoCache:ed,useCacheRefresh:Oy};fd.useEffectEvent=Ey;var Uy={readContext:rn,use:gc,useCallback:wy,useContext:rn,useEffect:ad,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ry,useReducer:id,useRef:_y,useState:function(){return id(yr)},useDebugValue:od,useDeferredValue:function(e,i){var a=Re();return ie===null?ld(a,e,i):Cy(a,ie.memoizedState,e,i)},useTransition:function(){var e=id(yr)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:_l(e),i]},useSyncExternalStore:ny,useId:xy,useHostTransitionStatus:cd,useFormState:yy,useActionState:yy,useOptimistic:function(e,i){var a=Re();return ie!==null?ly(a,ie,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Oy};Uy.useEffectEvent=Ey;function dd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var md={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Zn(),h=Zr(l);h.payload=i,a!=null&&(h.callback=a),i=Wr(e,h,l),i!==null&&(Vn(i,e,l),ml(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Zn(),h=Zr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Wr(e,h,l),i!==null&&(Vn(i,e,l),ml(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Zn(),l=Zr(a);l.tag=2,i!=null&&(l.callback=i),i=Wr(e,l,a),i!==null&&(Vn(i,e,a),ml(i,e,a))}};function Py(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(h,d):!0}function zy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&md.enqueueReplaceState(i,i.state,null)}function ua(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function jy(e){Ju(e)}function By(e){console.error(e)}function qy(e){Ju(e)}function Ec(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(e,i,a){return a=Zr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(e,i)},a}function Fy(e){return e=Zr(e),e.tag=3,e}function Gy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Hy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Hy(i,a,l),typeof h!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function m1(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ka(i,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 31:case 13:return di===null?Oc():a.alternate===null&&Te===0&&(Te=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),jd(e,l,h)),!1;case 22:return a.flags|=65536,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),jd(e,l,h)),!1}throw Error(s(435,a.tag))}return jd(e,l,h),Oc(),!1}if(qt)return i=Kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Vf&&(e=Error(s(422),{cause:l}),ul(ui(e,a)))):(l!==Vf&&(i=Error(s(423),{cause:l}),ul(ui(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=ui(l,a),h=gd(e.stateNode,l,h),Gf(e,h),Te!==4&&(Te=2)),!1;var d=Error(s(520),{cause:l});if(d=ui(d,a),Il===null?Il=[d]:Il.push(d),Te!==4&&(Te=2),i===null)return!0;l=ui(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=gd(a.stateNode,l,e),Gf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ss===null||!ss.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,e,a,l),Gf(a,h),!1}a=a.return}while(a!==null);return!1}var pd=Error(s(461)),ke=!1;function sn(e,i,a,l){i.child=e===null?Xp(i,null,a,l):oa(i,e.child,a,l)}function Qy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return ia(i),l=Jf(e,i,a,_,d,h),b=Zf(),e!==null&&!ke?(Wf(e,i,h),_r(e,i,h)):(qt&&b&&Of(i),i.flags|=1,sn(e,i,l,h),i.child)}function Yy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ky(e,i,d,l,h)):(e=ec(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Ad(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&e.ref===i.ref)return _r(e,i,h)}return i.flags|=1,e=fr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ky(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(al(d,l)&&e.ref===i.ref)if(ke=!1,i.pendingProps=l=d,Ad(e,h))(e.flags&131072)!==0&&(ke=!0);else return i.lanes=e.lanes,_r(e,i,h)}return yd(e,i,a,l,h)}function Xy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return $y(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&sc(i,d!==null?d.cachePool:null),d!==null?Zp(i,d):Yf(),Wp(i);else return l=i.lanes=536870912,$y(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(sc(i,d.cachePool),Zp(i,d),es(),i.memoizedState=null):(e!==null&&sc(i,null),Yf(),es());return sn(e,i,h,a),i.child}function Tl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $y(e,i,a,l,h){var d=Bf();return d=d===null?null:{parent:Me._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&sc(i,null),Yf(),Wp(i),e!==null&&Ka(e,i,l,!0),i.childLanes=h,null}function Tc(e,i){return i=Sc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Jy(e,i,a){return oa(i,e.child,null,a),e=Tc(i,i.pendingProps),e.flags|=2,Xn(i),i.memoizedState=null,e}function g1(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=Tc(i,l),i.lanes=536870912,Tl(null,e);if(Xf(i),(e=ue)?(e=uv(e,fi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Yr!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=Vp(e),a.return=i,i.child=a,nn=i,ue=null)):e=null,e===null)throw Xr(i);return i.lanes=536870912,null}return Tc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Xf(i),h)if(i.flags&256)i.flags&=-257,i=Jy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(ke||Ka(e,i,a,!1),h=(a&e.childLanes)!==0,ke||h){if(l=ae,l!==null&&(_=En(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ws(e,_),Vn(l,e,_),pd;Oc(),i=Jy(e,i,a)}else e=d.treeContext,ue=mi(_.nextSibling),nn=i,qt=!0,Kr=null,fi=!1,e!==null&&Up(i,e),i=Tc(i,l),i.flags|=4096;return i}return e=fr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function bc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function yd(e,i,a,l,h){return ia(i),a=Jf(e,i,a,l,void 0,h),l=Zf(),e!==null&&!ke?(Wf(e,i,h),_r(e,i,h)):(qt&&l&&Of(i),i.flags|=1,sn(e,i,a,h),i.child)}function Zy(e,i,a,l,h,d){return ia(i),i.updateQueue=null,a=ey(i,l,a,h),ty(e),l=Zf(),e!==null&&!ke?(Wf(e,i,d),_r(e,i,d)):(qt&&l&&Of(i),i.flags|=1,sn(e,i,a,d),i.child)}function Wy(e,i,a,l,h){if(ia(i),i.stateNode===null){var d=Fa,_=a.contextType;typeof _=="object"&&_!==null&&(d=rn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=md,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Hf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?rn(_):Fa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(dd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&md.enqueueReplaceState(d,d.state,null),pl(i,l,d,h),gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var b=i.memoizedProps,N=ua(a,b);d.props=N;var z=d.context,$=a.contextType;_=Fa,typeof $=="object"&&$!==null&&(_=rn($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||z!==_)&&zy(i,d,l,_),Jr=!1;var j=i.memoizedState;d.state=j,pl(i,l,d,h),gl(),z=i.memoizedState,b||j!==z||Jr?(typeof Z=="function"&&(dd(i,a,Z,l),z=i.memoizedState),(N=Jr||Py(i,a,N,l,j,z,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ff(e,i),_=i.memoizedProps,$=ua(a,_),d.props=$,Z=i.pendingProps,j=d.context,z=a.contextType,N=Fa,typeof z=="object"&&z!==null&&(N=rn(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||j!==N)&&zy(i,d,l,N),Jr=!1,j=i.memoizedState,d.state=j,pl(i,l,d,h),gl();var F=i.memoizedState;_!==Z||j!==F||Jr||e!==null&&e.dependencies!==null&&ic(e.dependencies)?(typeof b=="function"&&(dd(i,a,b,l),F=i.memoizedState),($=Jr||Py(i,a,$,l,j,F,N)||e!==null&&e.dependencies!==null&&ic(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=oa(i,e.child,null,h),i.child=oa(i,null,a,h)):sn(e,i,a,h),i.memoizedState=d.state,e=i.child):e=_r(e,i,h),e}function t_(e,i,a,l){return ea(),i.flags|=256,sn(e,i,a,l),i.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(e){return{baseLanes:e,cachePool:Hp()}}function Ed(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Jn),e}function e_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?ts(i):es(),(e=ue)?(e=uv(e,fi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Yr!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=Vp(e),a.return=i,i.child=a,nn=i,ue=null)):e=null,e===null)throw Xr(i);return nm(e)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(es(),h=i.mode,b=Sc({mode:"hidden",children:b},h),l=ta(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(e,_,a),i.memoizedState=_d,Tl(null,l)):(ts(i),Td(i,b))}var N=e.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(ts(i),i.flags&=-257,i=bd(e,i,a)):i.memoizedState!==null?(es(),i.child=e.child,i.flags|=128,i=null):(es(),b=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),b=ta(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,oa(i,e.child,null,a),l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(e,_,a),i.memoizedState=_d,i=Tl(null,l));else if(ts(i),nm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,ul({value:l,source:null,stack:null}),i=bd(e,i,a)}else if(ke||Ka(e,i,a,!1),_=(a&e.childLanes)!==0,ke||_){if(_=ae,_!==null&&(l=En(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ws(e,l),Vn(_,e,l),pd;em(b)||Oc(),i=bd(e,i,a)}else em(b)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,ue=mi(b.nextSibling),nn=i,qt=!0,Kr=null,fi=!1,e!==null&&Up(i,e),i=Td(i,l.children),i.flags|=4096);return i}return h?(es(),b=l.fallback,h=i.mode,N=e.child,z=N.sibling,l=fr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?b=fr(z,b):(b=ta(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Tl(null,l),l=i.child,b=e.child.memoizedState,b===null?b=vd(a):(h=b.cachePool,h!==null?(N=Me._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Hp(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Ed(e,_,a),i.memoizedState=_d,Tl(e.child,l)):(ts(i),a=e.child,e=a.sibling,a=fr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Td(e,i){return i=Sc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Sc(e,i){return e=Yn(22,e,null,i),e.lanes=0,e}function bd(e,i,a){return oa(i,e.child,null,a),e=Td(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function n_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Uf(e.return,i,a)}function Sd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function i_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=we.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,rt(we,_),sn(e,i,l,a),l=qt?ll:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n_(e,a,i);else if(e.tag===19)n_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&hc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&hc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Sd(i,!0,a,null,d,l);break;case"together":Sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function _r(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),rs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ka(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=fr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=fr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Ad(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ic(e)))}function p1(e,i,a){switch(i.tag){case 3:te(i,i.stateNode.containerInfo),$r(i,Me,e.memoizedState.cache),ea();break;case 27:case 5:Vt(i);break;case 4:te(i,i.stateNode.containerInfo);break;case 10:$r(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Xf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ts(i),i.flags|=128,null):(a&i.child.childLanes)!==0?e_(e,i,a):(ts(i),e=_r(e,i,a),e!==null?e.sibling:null);ts(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ka(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return i_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(we,we.current),l)break;return null;case 22:return i.lanes=0,Xy(e,i,a,i.pendingProps);case 24:$r(i,Me,e.memoizedState.cache)}return _r(e,i,a)}function r_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ke=!0;else{if(!Ad(e,a)&&(i.flags&128)===0)return ke=!1,p1(e,i,a);ke=(e.flags&131072)!==0}else ke=!1,qt&&(i.flags&1048576)!==0&&Lp(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=sa(i.elementType),i.type=e,typeof e=="function")Df(e)?(l=ua(e,l),i.tag=1,i=Wy(null,i,e,l,a)):(i.tag=0,i=yd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===ot){i.tag=11,i=Qy(null,i,e,l,a);break t}else if(h===R){i.tag=14,i=Yy(null,i,e,l,a);break t}}throw i=jt(e)||e,Error(s(306,i,""))}}return i;case 0:return yd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ua(l,i.pendingProps),Wy(e,i,l,h,a);case 3:t:{if(te(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Ff(e,i),pl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,$r(i,Me,l),l!==d.cache&&Pf(i,[Me],a,!0),gl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=t_(e,i,l,a);break t}else if(l!==h){h=ui(Error(s(424)),i),ul(h),i=t_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=mi(e.firstChild),nn=i,qt=!0,Kr=null,fi=!0,a=Xp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),l===h){i=_r(e,i,a);break t}sn(e,i,l,a)}i=i.child}return i;case 26:return bc(e,i),e===null?(a=gv(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=zc(_t.current).createElement(a),l[Ne]=i,l[Ke]=e,an(l,a,e),xe(l),i.stateNode=l):i.memoizedState=gv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Vt(i),e===null&&qt&&(l=i.stateNode=fv(i.type,i.pendingProps,_t.current),nn=i,fi=!0,h=ue,us(i.type)?(im=h,ue=mi(l.firstChild)):ue=h),sn(e,i,i.pendingProps.children,a),bc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=ue)&&(l=Q1(l,i.type,i.pendingProps,fi),l!==null?(i.stateNode=l,nn=i,ue=mi(l.firstChild),fi=!1,h=!0):h=!1),h||Xr(i)),Vt(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Zd(h,d)?l=null:_!==null&&Zd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Jf(e,i,o1,null,null,a),Ll._currentValue=h),bc(e,i),sn(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=ue)&&(a=Y1(a,i.pendingProps,fi),a!==null?(i.stateNode=a,nn=i,ue=null,e=!0):e=!1),e||Xr(i)),null;case 13:return e_(e,i,a);case 4:return te(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=oa(i,null,l,a):sn(e,i,l,a),i.child;case 11:return Qy(e,i,i.type,i.pendingProps,a);case 7:return sn(e,i,i.pendingProps,a),i.child;case 8:return sn(e,i,i.pendingProps.children,a),i.child;case 12:return sn(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,$r(i,i.type,l.value),sn(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ia(i),h=rn(h),l=l(h),i.flags|=1,sn(e,i,l,a),i.child;case 14:return Yy(e,i,i.type,i.pendingProps,a);case 15:return Ky(e,i,i.type,i.pendingProps,a);case 19:return i_(e,i,a);case 31:return g1(e,i,a);case 22:return Xy(e,i,a,i.pendingProps);case 24:return ia(i),l=rn(Me),e===null?(h=Bf(),h===null&&(h=ae,d=zf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Hf(i),$r(i,Me,h)):((e.lanes&a)!==0&&(Ff(e,i),pl(i,null,null,a),gl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),$r(i,Me,l)):(l=d.cache,$r(i,Me,l),l!==h.cache&&Pf(i,[Me],a,!0))),sn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function vr(e){e.flags|=4}function wd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(x_())e.flags|=8192;else throw aa=oc,qf}else e.flags&=-16777217}function s_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ev(i))if(x_())e.flags|=8192;else throw aa=oc,qf}function Ac(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ye():536870912,e.lanes|=i,ao|=i)}function bl(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ce(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function y1(e,i,a){var l=i.pendingProps;switch(Mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(i),null;case 1:return ce(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),gr(Me),Ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ya(i)?vr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kf())),ce(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(vr(i),d!==null?(ce(i),s_(i,d)):(ce(i),wd(i,h,null,l,a))):d?d!==e.memoizedState?(vr(i),ce(i),s_(i,d)):(ce(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&vr(i),ce(i),wd(i,h,e,l,a)),null;case 27:if(ti(i),a=_t.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&vr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ce(i),null}e=lt.current,Ya(i)?Pp(i):(e=fv(h,l,a),i.stateNode=e,vr(i))}return ce(i),null;case 5:if(ti(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&vr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ce(i),null}if(d=lt.current,Ya(i))Pp(i);else{var _=zc(_t.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ne]=i,d[Ke]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(an(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&vr(i)}}return ce(i),wd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&vr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=_t.current,Ya(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(e.nodeValue,a)),e||Xr(i,!0)}else e=zc(e).createTextNode(l),e[Ne]=i,i.stateNode=e}return ce(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ya(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ne]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ce(i),e=!1}else a=kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Xn(i),i):(Xn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ce(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ya(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ce(i),h=!1}else h=kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Xn(i),i):(Xn(i),null)}return Xn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),ce(i),null);case 4:return Ft(),e===null&&Yd(i.stateNode.containerInfo),ce(i),null;case 10:return gr(i.type),ce(i),null;case 19:if(X(we),l=i.memoizedState,l===null)return ce(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)bl(l,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=hc(e),d!==null){for(i.flags|=128,bl(l,!1),e=d.updateQueue,i.updateQueue=e,Ac(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Mp(a,e),a=a.sibling;return rt(we,we.current&1|2),qt&&dr(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&Qe()>Dc&&(i.flags|=128,h=!0,bl(l,!1),i.lanes=4194304)}else{if(!h)if(e=hc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Ac(i,e),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return ce(i),null}else 2*Qe()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,bl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,a=we.current,rt(we,h?a&1|2:a&1),qt&&dr(i,l.treeForkCount),e):(ce(i),null);case 22:case 23:return Xn(i),Kf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ce(i),i.subtreeFlags&6&&(i.flags|=8192)):ce(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&X(ra),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),gr(Me),ce(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _1(e,i){switch(Mf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return gr(Me),Ft(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ti(i),null;case 31:if(i.memoizedState!==null){if(Xn(i),i.alternate===null)throw Error(s(340));ea()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Xn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ea()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(we),null;case 4:return Ft(),null;case 10:return gr(i.type),null;case 22:case 23:return Xn(i),Kf(),e!==null&&X(ra),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return gr(Me),null;case 25:return null;default:return null}}function a_(e,i){switch(Mf(i),i.tag){case 3:gr(Me),Ft();break;case 26:case 27:case 5:ti(i);break;case 4:Ft();break;case 31:i.memoizedState!==null&&Xn(i);break;case 13:Xn(i);break;case 19:X(we);break;case 10:gr(i.type);break;case 22:case 23:Xn(i),Kf(),e!==null&&X(ra);break;case 24:gr(Me)}}function Sl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Wt(i,i.return,b)}}function ns(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var N=a,z=b;try{z()}catch($){Wt(h,N,$)}}}l=l.next}while(l!==d)}}catch($){Wt(i,i.return,$)}}function o_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Jp(i,a)}catch(l){Wt(e,e.return,l)}}}function l_(e,i,a){a.props=ua(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function Al(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Wt(e,i,h)}}function Ki(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function u_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function Rd(e,i,a){try{var l=e.stateNode;j1(l,e.type,a,i),l[Ke]=i}catch(h){Wt(e,e.return,h)}}function c_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function Cd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||c_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Id(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_i));else if(l!==4&&(l===27&&us(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Id(e,i,a),e=e.sibling;e!==null;)Id(e,i,a),e=e.sibling}function wc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(wc(e,i,a),e=e.sibling;e!==null;)wc(e,i,a),e=e.sibling}function h_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);an(i,l,a),i[Ne]=e,i[Ke]=a}catch(d){Wt(e,e.return,d)}}var Er=!1,Le=!1,Dd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,$e=null;function v1(e,i){if(e=e.containerInfo,$d=Qc,e=Ap(e),bf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,b=-1,N=-1,z=0,$=0,Z=e,j=null;e:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(b=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)j=Z,Z=F;for(;;){if(Z===e)break e;if(j===a&&++z===h&&(b=_),j===d&&++$===l&&(N=_),(F=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=F}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:e,selectionRange:a},Qc=!1,$e=i;$e!==null;)if(i=$e,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,$e=e;else for(;$e!==null;){switch(i=$e,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=ua(a.type,h);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Wt(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)tm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,$e=e;break}$e=i.return}}function d_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(e,a),l&4&&Sl(5,a);break;case 1:if(br(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Wt(a,a.return,_)}else{var h=ua(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(a,a.return,_)}}l&64&&o_(a),l&512&&Al(a,a.return);break;case 3:if(br(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jp(e,i)}catch(_){Wt(a,a.return,_)}}break;case 27:i===null&&l&4&&h_(a);case 26:case 5:br(e,a),i===null&&l&4&&u_(a),l&512&&Al(a,a.return);break;case 12:br(e,a);break;case 31:br(e,a),l&4&&p_(e,a);break;case 13:br(e,a),l&4&&y_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=I1.bind(null,a),K1(e,a))));break;case 22:if(l=a.memoizedState!==null||Er,!l){i=i!==null&&i.memoizedState!==null||Le,h=Er;var d=Le;Er=l,(Le=i)&&!d?Sr(e,a,(a.subtreeFlags&8772)!==0):br(e,a),Er=h,Le=d}break;case 30:break;default:br(e,a)}}function m_(e){var i=e.alternate;i!==null&&(e.alternate=null,m_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Na(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,Nn=!1;function Tr(e,i,a){for(a=a.child;a!==null;)g_(e,i,a),a=a.sibling}function g_(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Le||Ki(a,i),Tr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Le||Ki(a,i);var l=ye,h=Nn;us(a.type)&&(ye=a.stateNode,Nn=!1),Tr(e,i,a),Ml(a.stateNode),ye=l,Nn=h;break;case 5:Le||Ki(a,i);case 6:if(l=ye,h=Nn,ye=null,Tr(e,i,a),ye=l,Nn=h,ye!==null)if(Nn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(d){Wt(a,i,d)}else try{ye.removeChild(a.stateNode)}catch(d){Wt(a,i,d)}break;case 18:ye!==null&&(Nn?(e=ye,ov(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),go(e)):ov(ye,a.stateNode));break;case 4:l=ye,h=Nn,ye=a.stateNode.containerInfo,Nn=!0,Tr(e,i,a),ye=l,Nn=h;break;case 0:case 11:case 14:case 15:ns(2,a,i),Le||ns(4,a,i),Tr(e,i,a);break;case 1:Le||(Ki(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),Tr(e,i,a);break;case 21:Tr(e,i,a);break;case 22:Le=(l=Le)||a.memoizedState!==null,Tr(e,i,a),Le=l;break;default:Tr(e,i,a)}}function p_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{go(e)}catch(a){Wt(i,i.return,a)}}}function y_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{go(e)}catch(a){Wt(i,i.return,a)}}function E1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new f_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new f_),i;default:throw Error(s(435,e.tag))}}function Rc(e,i){var a=E1(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=D1.bind(null,e,l);l.then(h,h)}})}function xn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(us(b.type)){ye=b.stateNode,Nn=!1;break t}break;case 5:ye=b.stateNode,Nn=!1;break t;case 3:case 4:ye=b.stateNode.containerInfo,Nn=!0;break t}b=b.return}if(ye===null)throw Error(s(160));g_(d,_,h),ye=null,Nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,e),i=i.sibling}var Ai=null;function __(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(i,e),On(e),l&4&&(ns(3,e,e.return),Sl(3,e),ns(5,e,e.return));break;case 1:xn(i,e),On(e),l&512&&(Le||a===null||Ki(a,a.return)),l&64&&Er&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ai;if(xn(i,e),On(e),l&512&&(Le||a===null||Ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Vi]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),an(d,l,a),d[Ne]=e,xe(d),l=d;break t;case"link":var _=_v("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break e}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;case"meta":if(_=_v("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break e}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,xe(d),l=d}e.stateNode=l}else vv(h,e.type,e.stateNode);else e.stateNode=yv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(h,e.type,e.stateNode):yv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Rd(e,e.memoizedProps,a.memoizedProps)}break;case 27:xn(i,e),On(e),l&512&&(Le||a===null||Ki(a,a.return)),a!==null&&l&4&&Rd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(xn(i,e),On(e),l&512&&(Le||a===null||Ki(a,a.return)),e.flags&32){h=e.stateNode;try{Dn(h,"")}catch(dt){Wt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Rd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Dd=!0);break;case 6:if(xn(i,e),On(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Wt(e,e.return,dt)}}break;case 3:if(qc=null,h=Ai,Ai=jc(i.containerInfo),xn(i,e),Ai=h,On(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(i.containerInfo)}catch(dt){Wt(e,e.return,dt)}Dd&&(Dd=!1,v_(e));break;case 4:l=Ai,Ai=jc(e.stateNode.containerInfo),xn(i,e),On(e),Ai=l;break;case 12:xn(i,e),On(e);break;case 31:xn(i,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rc(e,l)));break;case 13:xn(i,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rc(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=Er,$=Le;if(Er=z||h,Le=$||N,xn(i,e),Le=$,Er=z,On(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Er||Le||ca(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var Z=N.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(dt){Wt(N,N.return,dt)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(dt){Wt(N,N.return,dt)}}}else if(i.tag===18){if(a===null){N=i;try{var F=N.stateNode;h?lv(F,!0):lv(N.stateNode,!1)}catch(dt){Wt(N,N.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(e,a))));break;case 19:xn(i,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rc(e,l)));break;case 30:break;case 21:break;default:xn(i,e),On(e)}}function On(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Cd(e);wc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Dn(_,""),a.flags&=-33);var b=Cd(e);wc(e,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Cd(e);Id(e,z,N);break;default:throw Error(s(161))}}catch($){Wt(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function v_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function br(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(e,i.alternate,i),i=i.sibling}function ca(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ns(4,i,i.return),ca(i);break;case 1:Ki(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),ca(i);break;case 27:Ml(i.stateNode);case 26:case 5:Ki(i,i.return),ca(i);break;case 22:i.memoizedState===null&&ca(i);break;case 30:ca(i);break;default:ca(i)}e=e.sibling}}function Sr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(h,d,a),Sl(4,d);break;case 1:if(Sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)$p(N[h],b)}catch(z){Wt(l,l.return,z)}}a&&_&64&&o_(d),Al(d,d.return);break;case 27:h_(d);case 26:case 5:Sr(h,d,a),a&&l===null&&_&4&&u_(d),Al(d,d.return);break;case 12:Sr(h,d,a);break;case 31:Sr(h,d,a),a&&_&4&&p_(h,d);break;case 13:Sr(h,d,a),a&&_&4&&y_(h,d);break;case 22:d.memoizedState===null&&Sr(h,d,a),Al(d,d.return);break;case 30:break;default:Sr(h,d,a)}i=i.sibling}}function Nd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cl(a))}function xd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&cl(e))}function wi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(e,i,a,l),i=i.sibling}function E_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:wi(e,i,a,l),h&2048&&Sl(9,i);break;case 1:wi(e,i,a,l);break;case 3:wi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&cl(e)));break;case 12:if(h&2048){wi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Wt(i,i.return,N)}}else wi(e,i,a,l);break;case 31:wi(e,i,a,l);break;case 13:wi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?wi(e,i,a,l):wl(e,i):d._visibility&2?wi(e,i,a,l):(d._visibility|=2,io(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(_,i);break;case 24:wi(e,i,a,l),h&2048&&xd(i.alternate,i);break;default:wi(e,i,a,l)}}function io(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,b=a,N=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:io(d,_,b,N,h),Sl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?io(d,_,b,N,h):wl(d,_):($._visibility|=2,io(d,_,b,N,h)),h&&z&2048&&Nd(_.alternate,_);break;case 24:io(d,_,b,N,h),h&&z&2048&&xd(_.alternate,_);break;default:io(d,_,b,N,h)}i=i.sibling}}function wl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&Nd(l.alternate,l);break;case 24:wl(a,l),h&2048&&xd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Rl=8192;function ro(e,i,a){if(e.subtreeFlags&Rl)for(e=e.child;e!==null;)T_(e,i,a),e=e.sibling}function T_(e,i,a){switch(e.tag){case 26:ro(e,i,a),e.flags&Rl&&e.memoizedState!==null&&aA(a,Ai,e.memoizedState,e.memoizedProps);break;case 5:ro(e,i,a);break;case 3:case 4:var l=Ai;Ai=jc(e.stateNode.containerInfo),ro(e,i,a),Ai=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,ro(e,i,a),Rl=l):ro(e,i,a));break;default:ro(e,i,a)}}function b_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$e=l,A_(l,e)}b_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)S_(e),e=e.sibling}function S_(e){switch(e.tag){case 0:case 11:case 15:Cl(e),e.flags&2048&&ns(9,e,e.return);break;case 3:Cl(e);break;case 12:Cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Cc(e)):Cl(e);break;default:Cl(e)}}function Cc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$e=l,A_(l,e)}b_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ns(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}e=e.sibling}}function A_(e,i){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:ns(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$e=l;else t:for(a=e;$e!==null;){l=$e;var h=l.sibling,d=l.return;if(m_(l),l===a){$e=null;break t}if(h!==null){h.return=d,$e=h;break t}$e=d}}}var T1={getCacheForType:function(e){var i=rn(Me),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return rn(Me).controller.signal}},b1=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Ot=null,kt=0,Zt=0,$n=null,is=!1,so=!1,Od=!1,Ar=0,Te=0,rs=0,ha=0,Md=0,Jn=0,ao=0,Il=null,Mn=null,Vd=!1,Ic=0,w_=0,Dc=1/0,Nc=null,ss=null,He=0,as=null,oo=null,wr=0,kd=0,Ld=null,R_=null,Dl=0,Ud=null;function Zn(){return(Xt&2)!==0&&kt!==0?kt&-kt:K.T!==null?Hd():Hn()}function C_(){if(Jn===0)if((kt&536870912)===0||qt){var e=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),Jn=e}else Jn=536870912;return e=Kn.current,e!==null&&(e.flags|=32),Jn}function Vn(e,i,a){(e===ae&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(lo(e,0),os(e,kt,Jn,!1)),Cn(e,a),((Xt&2)===0||e!==ae)&&(e===ae&&((Xt&2)===0&&(ha|=a),Te===4&&os(e,kt,Jn,!1)),Xi(e))}function I_(e,i,a){if((Xt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||De(e,i),h=l?w1(e,i):zd(e,i,!0),d=l;do{if(h===0){so&&!l&&os(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!S1(a)){h=zd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var b=e;h=Il;var N=b.current.memoizedState.isDehydrated;if(N&&(lo(b,_).flags|=256),_=zd(b,_,!1),_!==2){if(Od&&!N){b.errorRecoveryDisabledLanes|=d,ha|=d,h=4;break t}d=Mn,Mn=h,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){lo(e,0),os(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:os(l,i,Jn,!is);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ic+300-Qe(),10<h)){if(os(l,i,Jn,!is),ge(l,0,!0)!==0)break t;wr=i,l.timeoutHandle=sv(D_.bind(null,l,a,Mn,Nc,Vd,i,Jn,ha,ao,is,d,"Throttled",-0,0),h);break t}D_(l,a,Mn,Nc,Vd,i,Jn,ha,ao,is,d,null,-0,0)}}break}while(!0);Xi(e)}function D_(e,i,a,l,h,d,_,b,N,z,$,Z,j,F){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},T_(i,d,Z);var dt=(d&62914560)===d?Ic-Qe():(d&4194048)===d?w_-Qe():0;if(dt=oA(Z,dt),dt!==null){wr=d,e.cancelPendingCommit=dt(U_.bind(null,e,i,d,a,l,h,_,b,N,$,Z,null,j,F)),os(e,d,_,!z);return}}U_(e,i,d,a,l,h,_,b,N)}function S1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Qn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function os(e,i,a,l){i&=~Md,i&=~ha,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&fn(e,a,i)}function xc(){return(Xt&6)===0?(Nl(0),!1):!0}function Pd(){if(Ot!==null){if(Zt===0)var e=Ot.return;else e=Ot,mr=na=null,td(e),Za=null,fl=0,e=Ot;for(;e!==null;)a_(e.alternate,e),e=e.return;Ot=null}}function lo(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,H1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wr=0,Pd(),ae=e,Ot=a=fr(e.current,null),kt=i,Zt=0,$n=null,is=!1,so=De(e,i),Od=!1,ao=Jn=Md=ha=rs=Te=0,Mn=Il=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return Ar=i,Zu(),a}function N_(e,i){It=null,K.H=El,i===Ja||i===ac?(i=Qp(),Zt=3):i===qf?(i=Qp(),Zt=4):Zt=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$n=i,Ot===null&&(Te=1,Ec(e,ui(i,e.current)))}function x_(){var e=Kn.current;return e===null?!0:(kt&4194048)===kt?di===null:(kt&62914560)===kt||(kt&536870912)!==0?e===di:!1}function O_(){var e=K.H;return K.H=El,e===null?El:e}function M_(){var e=K.A;return K.A=T1,e}function Oc(){Te=4,is||(kt&4194048)!==kt&&Kn.current!==null||(so=!0),(rs&134217727)===0&&(ha&134217727)===0||ae===null||os(ae,kt,Jn,!1)}function zd(e,i,a){var l=Xt;Xt|=2;var h=O_(),d=M_();(ae!==e||kt!==i)&&(Nc=null,lo(e,i)),i=!1;var _=Te;t:do try{if(Zt!==0&&Ot!==null){var b=Ot,N=$n;switch(Zt){case 8:Pd(),_=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(i=!0);var z=Zt;if(Zt=0,$n=null,uo(e,b,N,z),a&&so){_=0;break t}break;default:z=Zt,Zt=0,$n=null,uo(e,b,N,z)}}A1(),_=Te;break}catch($){N_(e,$)}while(!0);return i&&e.shellSuspendCounter++,mr=na=null,Xt=l,K.H=h,K.A=d,Ot===null&&(ae=null,kt=0,Zu()),_}function A1(){for(;Ot!==null;)V_(Ot)}function w1(e,i){var a=Xt;Xt|=2;var l=O_(),h=M_();ae!==e||kt!==i?(Nc=null,Dc=Qe()+500,lo(e,i)):so=De(e,i);t:do try{if(Zt!==0&&Ot!==null){i=Ot;var d=$n;e:switch(Zt){case 1:Zt=0,$n=null,uo(e,i,d,1);break;case 2:case 9:if(Fp(d)){Zt=0,$n=null,k_(i);break}i=function(){Zt!==2&&Zt!==9||ae!==e||(Zt=7),Xi(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Fp(d)?(Zt=0,$n=null,k_(i)):(Zt=0,$n=null,uo(e,i,d,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var b=Ot;if(_?Ev(_):b.stateNode.complete){Zt=0,$n=null;var N=b.sibling;if(N!==null)Ot=N;else{var z=b.return;z!==null?(Ot=z,Mc(z)):Ot=null}break e}}Zt=0,$n=null,uo(e,i,d,5);break;case 6:Zt=0,$n=null,uo(e,i,d,6);break;case 8:Pd(),Te=6;break t;default:throw Error(s(462))}}R1();break}catch($){N_(e,$)}while(!0);return mr=na=null,K.H=l,K.A=h,Xt=a,Ot!==null?0:(ae=null,kt=0,Zu(),Te)}function R1(){for(;Ot!==null&&!Ur();)V_(Ot)}function V_(e){var i=r_(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,i===null?Mc(e):Ot=i}function k_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:td(i);default:a_(a,i),i=Ot=Mp(i,Ar),i=r_(a,i,Ar)}e.memoizedProps=e.pendingProps,i===null?Mc(e):Ot=i}function uo(e,i,a,l){mr=na=null,td(i),Za=null,fl=0;var h=i.return;try{if(m1(e,h,i,a,kt)){Te=1,Ec(e,ui(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;Te=1,Ec(e,ui(a,e.current)),Ot=null;return}i.flags&32768?(qt||l===1?e=!0:so||(kt&536870912)!==0?e=!1:(is=e=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L_(i,e)):Mc(i)}function Mc(e){var i=e;do{if((i.flags&32768)!==0){L_(i,is);return}e=i.return;var a=y1(i.alternate,i,Ar);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);Te===0&&(Te=5)}function L_(e,i){do{var a=_1(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);Te=6,Ot=null}function U_(e,i,a,l,h,d,_,b,N){e.cancelPendingCommit=null;do Vc();while(He!==0);if((Xt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Cf,Se(e,a,d,_,b,N),e===ae&&(Ot=ae=null,kt=0),oo=i,as=e,wr=a,kd=d,Ld=h,R_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,N1(vn,function(){return q_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=it.p,it.p=2,_=Xt,Xt|=4;try{v1(e,i,a)}finally{Xt=_,it.p=h,K.T=l}}He=1,P_(),z_(),j_()}}function P_(){if(He===1){He=0;var e=as,i=oo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=it.p;it.p=2;var h=Xt;Xt|=4;try{__(i,e);var d=Jd,_=Ap(e.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Sp(b.ownerDocument.documentElement,b)){if(N!==null&&bf(b)){var z=N.start,$=N.end;if($===void 0&&($=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min($,b.value.length);else{var Z=b.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var F=j.getSelection(),dt=b.textContent.length,Et=Math.min(N.start,dt),se=N.end===void 0?Et:Math.min(N.end,dt);!F.extend&&Et>se&&(_=se,se=Et,Et=_);var L=bp(b,Et),V=bp(b,se);if(L&&V&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var P=Z.createRange();P.setStart(L.node,L.offset),F.removeAllRanges(),Et>se?(F.addRange(P),F.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),F.addRange(P))}}}}for(Z=[],F=b;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var J=Z[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Qc=!!$d,Jd=$d=null}finally{Xt=h,it.p=l,K.T=a}}e.current=i,He=2}}function z_(){if(He===2){He=0;var e=as,i=oo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=it.p;it.p=2;var h=Xt;Xt|=4;try{d_(e,i.alternate,i)}finally{Xt=h,it.p=l,K.T=a}}He=3}}function j_(){if(He===4||He===3){He=0,Ps();var e=as,i=oo,a=wr,l=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,oo=as=null,B_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ss=null),Tn(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=it.p,it.p=2,K.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{K.T=i,it.p=h}}(wr&3)!==0&&Vc(),Xi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Ud?Dl++:(Dl=0,Ud=e):Dl=0,Nl(0)}}function B_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,cl(i)))}function Vc(){return P_(),z_(),j_(),q_()}function q_(){if(He!==5)return!1;var e=as,i=kd;kd=0;var a=Tn(wr),l=K.T,h=it.p;try{it.p=32>a?32:a,K.T=null,a=Ld,Ld=null;var d=as,_=wr;if(He=0,oo=as=null,wr=0,(Xt&6)!==0)throw Error(s(331));var b=Xt;if(Xt|=4,S_(d.current),E_(d,d.current,_,a),Xt=b,Nl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{it.p=h,K.T=l,B_(e,i)}}function H_(e,i,a){i=ui(a,i),i=gd(e.stateNode,i,2),e=Wr(e,i,2),e!==null&&(Cn(e,2),Xi(e))}function Wt(e,i,a){if(e.tag===3)H_(e,e,a);else for(;i!==null;){if(i.tag===3){H_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){e=ui(a,e),a=Fy(2),l=Wr(i,a,2),l!==null&&(Gy(a,l,i,e),Cn(l,2),Xi(l));break}}i=i.return}}function jd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new b1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Od=!0,h.add(a),e=C1.bind(null,e,i,a),i.then(e,e))}function C1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(kt&a)===a&&(Te===4||Te===3&&(kt&62914560)===kt&&300>Qe()-Ic?(Xt&2)===0&&lo(e,0):Md|=a,ao===kt&&(ao=0)),Xi(e)}function F_(e,i){i===0&&(i=Ye()),e=Ws(e,i),e!==null&&(Cn(e,i),Xi(e))}function I1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(e,a)}function D1(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(e,a)}function N1(e,i){return ee(e,i)}var kc=null,co=null,Bd=!1,Lc=!1,qd=!1,ls=0;function Xi(e){e!==co&&e.next===null&&(co===null?kc=co=e:co=co.next=e),Lc=!0,Bd||(Bd=!0,O1())}function Nl(e,i){if(!qd&&Lc){qd=!0;do for(var a=!1,l=kc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,K_(l,d))}else d=kt,d=ge(l,l===ae?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||De(l,d)||(a=!0,K_(l,d));l=l.next}while(a);qd=!1}}function x1(){G_()}function G_(){Lc=Bd=!1;var e=0;ls!==0&&q1()&&(e=ls);for(var i=Qe(),a=null,l=kc;l!==null;){var h=l.next,d=Q_(l,i);d===0?(l.next=null,a===null?kc=h:a.next=h,h===null&&(co=a)):(a=l,(e!==0||(d&3)!==0)&&(Lc=!0)),l=h}He!==0&&He!==5||Nl(e),ls!==0&&(ls=0)}function Q_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-de(d),b=1<<_,N=h[_];N===-1?((b&a)===0||(b&l)!==0)&&(h[_]=hn(b,i)):N<=i&&(e.expiredLanes|=b),d&=~b}if(i=ae,a=kt,a=ge(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&zn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||De(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&zn(l),Tn(a)){case 2:case 8:a=ni;break;case 32:a=vn;break;case 268435456:a=js;break;default:a=vn}return l=Y_.bind(null,e),a=ee(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&zn(l),e.callbackPriority=2,e.callbackNode=null,2}function Y_(e,i){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vc()&&e.callbackNode!==a)return null;var l=kt;return l=ge(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(I_(e,l,i),Q_(e,Qe()),e.callbackNode!=null&&e.callbackNode===a?Y_.bind(null,e):null)}function K_(e,i){if(Vc())return null;I_(e,i,!0)}function O1(){F1(function(){(Xt&6)!==0?ee(zs,x1):G_()})}function Hd(){if(ls===0){var e=Xa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),ls=e}return ls}function X_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Va(""+e)}function $_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function M1(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=X_((h[Ke]||null).action),_=l.submitter;_&&(i=(i=_[Ke]||null)?X_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new qi("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var N=_?$_(h,_):new FormData(h);ud(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?$_(h,_):new FormData(h),ud(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Fd=0;Fd<Rf.length;Fd++){var Gd=Rf[Fd],V1=Gd.toLowerCase(),k1=Gd[0].toUpperCase()+Gd.slice(1);Si(V1,"on"+k1)}Si(Cp,"onAnimationEnd"),Si(Ip,"onAnimationIteration"),Si(Dp,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(JS,"onTransitionRun"),Si(ZS,"onTransitionStart"),Si(WS,"onTransitionCancel"),Si(Np,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function J_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,z=b.currentTarget;if(b=b.listener,N!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=z;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,z=b.currentTarget,b=b.listener,N!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=z;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=N}}}}function Mt(e,i){var a=i[Da];a===void 0&&(a=i[Da]=new Set);var l=e+"__bubble";a.has(l)||(Z_(i,e,2,!1),a.add(l))}function Qd(e,i,a){var l=0;i&&(l|=4),Z_(a,e,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Yd(e){if(!e[Uc]){e[Uc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(L1.has(a)||Qd(a,!1,e),Qd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Qd("selectionchange",!1,i))}}function Z_(e,i,a,l){switch(Cv(i)){case 2:var h=cA;break;case 8:h=hA;break;default:h=lm}a=h.bind(null,i,a,e),h=void 0,!Gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Kd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=ki(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}b=b.parentNode}}l=l.return}Hr(function(){var z=d,$=si(a),Z=[];t:{var j=xp.get(e);if(j!==void 0){var F=qi,dt=e;switch(e){case"keypress":if(Ys(a)===0)break t;case"keydown":case"keyup":F=Ku;break;case"focusin":dt="focus",F=Xs;break;case"focusout":dt="blur",F=Xs;break;case"beforeblur":case"afterblur":F=Xs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case Cp:case Ip:case Dp:F=Bu;break;case Np:F=S;break;case"scroll":case"scrollend":F=el;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=hr;break;case"toggle":case"beforetoggle":F=Ct}var Et=(i&4)!==0,se=!Et&&(e==="scroll"||e==="scrollend"),L=Et?j!==null?j+"Capture":null:j;Et=[];for(var V=z,P;V!==null;){var J=V;if(P=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||P===null||L===null||(J=vi(V,L),J!=null&&Et.push(Ol(V,J,P))),se)break;V=V.return}0<Et.length&&(j=new F(j,dt,null,a,$),Z.push({event:j,listeners:Et}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==Zo&&(dt=a.relatedTarget||a.fromElement)&&(ki(dt)||dt[Mi]))break t;if((F||j)&&(j=$.window===$?$:(j=$.ownerDocument)?j.defaultView||j.parentWindow:window,F?(dt=a.relatedTarget||a.toElement,F=z,dt=dt?ki(dt):null,dt!==null&&(se=u(dt),Et=dt.tag,dt!==se||Et!==5&&Et!==27&&Et!==6)&&(dt=null)):(F=null,dt=z),F!==dt)){if(Et=nl,J="onMouseLeave",L="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Et=hr,J="onPointerLeave",L="onPointerEnter",V="pointer"),se=F==null?j:Fn(F),P=dt==null?j:Fn(dt),j=new Et(J,V+"leave",F,a,$),j.target=se,j.relatedTarget=P,J=null,ki($)===z&&(Et=new Et(L,V+"enter",dt,a,$),Et.target=P,Et.relatedTarget=se,J=Et),se=J,F&&dt)e:{for(Et=U1,L=F,V=dt,P=0,J=L;J;J=Et(J))P++;J=0;for(var pt=V;pt;pt=Et(pt))J++;for(;0<P-J;)L=Et(L),P--;for(;0<J-P;)V=Et(V),J--;for(;P--;){if(L===V||V!==null&&L===V.alternate){Et=L;break e}L=Et(L),V=Et(V)}Et=null}else Et=null;F!==null&&W_(Z,j,F,Et,!1),dt!==null&&se!==null&&W_(Z,se,dt,Et,!0)}}t:{if(j=z?Fn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var Qt=pp;else if(mp(j))if(yp)Qt=KS;else{Qt=QS;var mt=GS}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Ma(z.elementType)&&(Qt=pp):Qt=YS;if(Qt&&(Qt=Qt(e,z))){gp(Z,Qt,a,$);break t}mt&&mt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Xo(j,"number",j.value)}switch(mt=z?Fn(z):window,e){case"focusin":(mp(mt)||mt.contentEditable==="true")&&(Ba=mt,Sf=z,ol=null);break;case"focusout":ol=Sf=Ba=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,wp(Z,a,$);break;case"selectionchange":if($S)break;case"keydown":case"keyup":wp(Z,a,$)}var Dt;if(Kt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ja?$s(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Gi&&a.locale!=="ko"&&(ja||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ja&&(Dt=tl()):(Bi=$,Wo="value"in Bi?Bi.value:Bi.textContent,ja=!0)),mt=Pc(z,Lt),0<mt.length&&(Lt=new Fi(Lt,e,null,a,$),Z.push({event:Lt,listeners:mt}),Dt?Lt.data=Dt:(Dt=za(a),Dt!==null&&(Lt.data=Dt)))),(Dt=oi?BS(e,a):qS(e,a))&&(Lt=Pc(z,"onBeforeInput"),0<Lt.length&&(mt=new Fi("onBeforeInput","beforeinput",null,a,$),Z.push({event:mt,listeners:Lt}),mt.data=Dt)),M1(Z,e,z,a,$)}J_(Z,i)})}function Ol(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Pc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vi(e,a),h!=null&&l.unshift(Ol(e,h,d)),h=vi(e,i),h!=null&&l.push(Ol(e,h,d))),e.tag===3)return l;e=e.return}return[]}function U1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function W_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,z=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||z===null||(N=z,h?(z=vi(a,d),z!=null&&_.unshift(Ol(a,z,N))):h||(z=vi(a,d),z!=null&&_.push(Ol(a,z,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var P1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function tv(e){return(typeof e=="string"?e:""+e).replace(P1,`
`).replace(z1,"")}function ev(e,i){return i=tv(i),tv(e)===i}function re(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,l);break;case"style":Jo(e,l,d);break;case"data":if(i!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Va(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&re(e,i,"name",h.name,h,null),re(e,i,"formEncType",h.formEncType,h,null),re(e,i,"formMethod",h.formMethod,h,null),re(e,i,"formTarget",h.formTarget,h,null)):(re(e,i,"encType",h.encType,h,null),re(e,i,"method",h.method,h,null),re(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Va(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=_i);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Va(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),xa(e,"popover",l);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,xa(e,a,l))}}function Xd(e,i,a,l,h,d){switch(a){case"style":Jo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&Dn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):xa(e,a,l)}}}function an(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(e,i,d,_,a,null)}}h&&re(e,i,"srcSet",a.srcSet,a,null),l&&re(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var b=d=_=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":z=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:re(e,i,l,$,a,null)}}ku(e,d,b,N,z,_,h,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:re(e,i,h,b,a,null)}i=d,a=_,e.multiple=!!l,i!=null?zr(e,!!l,i,!1):a!=null&&zr(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:re(e,i,_,b,a,null)}jr(e,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(e,i,N,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<xl.length;l++)Mt(xl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(e,i,z,l,a,null)}return;default:if(Ma(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Xd(e,i,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&re(e,i,b,l,a,null))}function j1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,N=null,z=null,$=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(F)||re(e,i,F,null,l,Z)}}for(var j in l){var F=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(F!=null||Z!=null))switch(j){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":$=F;break;case"value":_=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&re(e,i,j,F,l,Z)}}Oa(e,_,b,N,z,$,d,h);return;case"select":F=_=b=j=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(d)||re(e,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":j=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&re(e,i,h,d,l,N)}i=b,a=_,l=F,j!=null?zr(e,!!a,j,!1):!!l!=!!a&&(i!=null?zr(e,!!a,i,!0):zr(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:re(e,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&re(e,i,_,h,l,d)}Lu(e,j,F);return;case"option":for(var dt in a)if(j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:re(e,i,dt,null,l,j)}for(N in l)if(j=l[N],F=a[N],l.hasOwnProperty(N)&&j!==F&&(j!=null||F!=null))switch(N){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:re(e,i,N,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)j=a[Et],a.hasOwnProperty(Et)&&j!=null&&!l.hasOwnProperty(Et)&&re(e,i,Et,null,l,j);for(z in l)if(j=l[z],F=a[z],l.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:re(e,i,z,j,l,F)}return;default:if(Ma(i)){for(var se in a)j=a[se],a.hasOwnProperty(se)&&j!==void 0&&!l.hasOwnProperty(se)&&Xd(e,i,se,void 0,l,j);for($ in l)j=l[$],F=a[$],!l.hasOwnProperty($)||j===F||j===void 0&&F===void 0||Xd(e,i,$,j,l,F);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&re(e,i,L,null,l,j);for(Z in l)j=l[Z],F=a[Z],!l.hasOwnProperty(Z)||j===F||j==null&&F==null||re(e,i,Z,j,l,F)}function nv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&nv(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>b)break;var $=N.transferSize,Z=N.initiatorType;$&&nv(Z)&&(N=N.responseEnd,_+=$*(N<b?1:(b-z)/(N-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $d=null,Jd=null;function zc(e){return e.nodeType===9?e:e.ownerDocument}function iv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Zd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=null;function q1(){var e=window.event;return e&&e.type==="popstate"?e===Wd?!1:(Wd=e,!0):(Wd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,F1=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(e){return av.resolve(null).then(e).catch(G1)}:sv;function G1(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function ov(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),go(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ml(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Vi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ml(e.ownerDocument.body);a=h}while(a);go(i)}function lv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function tm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tm(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Q1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Vi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=mi(e.nextSibling),e===null)break}return null}function Y1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=mi(e.nextSibling),e===null))return null;return e}function uv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=mi(e.nextSibling),e===null))return null;return e}function em(e){return e.data==="$?"||e.data==="$~"}function nm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function K1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function mi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var im=null;function cv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return mi(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function hv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function fv(e,i,a){switch(i=zc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Na(e)}var gi=new Map,dv=new Set;function jc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Rr=it.d;it.d={f:X1,r:$1,D:J1,C:Z1,L:W1,m:tA,X:nA,S:eA,M:iA};function X1(){var e=Rr.f(),i=xc();return e||i}function $1(e){var i=ri(e);i!==null&&i.tag===5&&i.type==="form"?Ny(i):Rr.r(e)}var ho=typeof document>"u"?null:document;function mv(e,i,a){var l=ho;if(l&&typeof i=="string"&&i){var h=In(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),an(i,"link",e),xe(i),l.head.appendChild(i)))}}function J1(e){Rr.D(e),mv("dns-prefetch",e,null)}function Z1(e,i){Rr.C(e,i),mv("preconnect",e,i)}function W1(e,i,a){Rr.L(e,i,a);var l=ho;if(l&&e&&i){var h='link[rel="preload"][as="'+In(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+In(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+In(a.imageSizes)+'"]')):h+='[href="'+In(e)+'"]';var d=h;switch(i){case"style":d=fo(e);break;case"script":d=mo(e)}gi.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),gi.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Vl(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),an(i,"link",e),xe(i),l.head.appendChild(i)))}}function tA(e,i){Rr.m(e,i);var a=ho;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+In(l)+'"][href="'+In(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(e)}if(!gi.has(d)&&(e=T({rel:"modulepreload",href:e},i),gi.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),an(l,"link",e),xe(l),a.head.appendChild(l)}}}function eA(e,i,a){Rr.S(e,i,a);var l=ho;if(l&&e){var h=Li(l).hoistableStyles,d=fo(e);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Vl(d)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=gi.get(d))&&rm(e,a);var N=_=l.createElement("link");xe(N),an(N,"link",e),N._p=new Promise(function(z,$){N.onload=z,N.onerror=$}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function nA(e,i){Rr.X(e,i);var a=ho;if(a&&e){var l=Li(a).hoistableScripts,h=mo(e),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(e=T({src:e,async:!0},i),(i=gi.get(h))&&sm(e,i),d=a.createElement("script"),xe(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iA(e,i){Rr.M(e,i);var a=ho;if(a&&e){var l=Li(a).hoistableScripts,h=mo(e),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=gi.get(h))&&sm(e,i),d=a.createElement("script"),xe(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function gv(e,i,a,l){var h=(h=_t.current)?jc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=Li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fo(a.href);var d=Li(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Vl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),gi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(e,a),d||rA(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=Li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function fo(e){return'href="'+In(e)+'"'}function Vl(e){return'link[rel="stylesheet"]['+e+"]"}function pv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function rA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),an(i,"link",a),xe(i),e.head.appendChild(i))}function mo(e){return'[src="'+In(e)+'"]'}function kl(e){return"script[async]"+e}function yv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+In(a.href)+'"]');if(l)return i.instance=l,xe(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xe(l),an(l,"style",h),Bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=fo(a.href);var d=e.querySelector(Vl(h));if(d)return i.state.loading|=4,i.instance=d,xe(d),d;l=pv(a),(h=gi.get(h))&&rm(l,h),d=(e.ownerDocument||e).createElement("link"),xe(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),an(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,e),i.instance=d;case"script":return d=mo(a.src),(h=e.querySelector(kl(d)))?(i.instance=h,xe(h),h):(l=a,(h=gi.get(d))&&(l=T({},a),sm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),an(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,e));return i.instance}function Bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function rm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function sm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var qc=null;function _v(e,i,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Vi]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function vv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function sA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function aA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=fo(l.href),d=i.querySelector(Vl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Hc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,xe(d);return}d=i.ownerDocument||i,l=pv(l),(h=gi.get(h))&&rm(l,h),d=d.createElement("link"),xe(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),an(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Hc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var am=0;function oA(e,i){return e.stylesheets&&e.count===0&&Gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&am===0&&(am=62500*B1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>am?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function Gc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,i.forEach(lA,e),Fc=null,Hc.call(e))}function lA(e,i){if(!(i.state.loading&4)){var a=Fc.get(e);if(a)var l=a.get(null);else{a=new Map,Fc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ll={$$typeof:nt,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function uA(e,i,a,l,h,d,_,b,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=be(0),this.hiddenUpdates=be(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Tv(e,i,a,l,h,d,_,b,N,z,$,Z){return e=new uA(e,i,a,_,N,z,$,Z,b),i=1,d===!0&&(i|=24),d=Yn(3,null,null,i),e.current=d,d.stateNode=e,i=zf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Hf(d),e}function bv(e){return e?(e=Fa,e):Fa}function Sv(e,i,a,l,h,d){h=bv(h),l.context===null?l.context=h:l.pendingContext=h,l=Zr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Wr(e,l,i),a!==null&&(Vn(a,e,i),ml(a,e,i))}function Av(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function om(e,i){Av(e,i),(e=e.alternate)&&Av(e,i)}function wv(e){if(e.tag===13||e.tag===31){var i=Ws(e,67108864);i!==null&&Vn(i,e,67108864),om(e,67108864)}}function Rv(e){if(e.tag===13||e.tag===31){var i=Zn();i=qn(i);var a=Ws(e,i);a!==null&&Vn(a,e,i),om(e,i)}}var Qc=!0;function cA(e,i,a,l){var h=K.T;K.T=null;var d=it.p;try{it.p=2,lm(e,i,a,l)}finally{it.p=d,K.T=h}}function hA(e,i,a,l){var h=K.T;K.T=null;var d=it.p;try{it.p=8,lm(e,i,a,l)}finally{it.p=d,K.T=h}}function lm(e,i,a,l){if(Qc){var h=um(l);if(h===null)Kd(e,i,l,Yc,a),Iv(e,l);else if(dA(h,e,i,a,l))l.stopPropagation();else if(Iv(e,l),i&4&&-1<fA.indexOf(e)){for(;h!==null;){var d=ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=me(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-de(_);b.entanglements[1]|=N,_&=~N}Xi(d),(Xt&6)===0&&(Dc=Qe()+500,Nl(0))}}break;case 31:case 13:b=Ws(d,2),b!==null&&Vn(b,d,2),xc(),om(d,2)}if(d=um(l),d===null&&Kd(e,i,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(e,i,l,null,a)}}function um(e){return e=si(e),cm(e)}var Yc=null;function cm(e){if(Yc=null,e=ki(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Yc=e,null}function Cv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case zs:return 2;case ni:return 8;case vn:case ar:return 32;case js:return 268435456;default:return 32}default:return 32}}var hm=!1,cs=null,hs=null,fs=null,Ul=new Map,Pl=new Map,ds=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(e,i){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function zl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ri(i),i!==null&&wv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function dA(e,i,a,l,h){switch(i){case"focusin":return cs=zl(cs,e,i,a,l,h),!0;case"dragenter":return hs=zl(hs,e,i,a,l,h),!0;case"mouseover":return fs=zl(fs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ul.set(d,zl(Ul.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Pl.set(d,zl(Pl.get(d)||null,e,i,a,l,h)),!0}return!1}function Dv(e){var i=ki(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,tn(e.priority,function(){Rv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,tn(e.priority,function(){Rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=um(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return i=ri(a),i!==null&&wv(i),e.blockedOn=a,!1;i.shift()}return!0}function Nv(e,i,a){Kc(e)&&a.delete(i)}function mA(){hm=!1,cs!==null&&Kc(cs)&&(cs=null),hs!==null&&Kc(hs)&&(hs=null),fs!==null&&Kc(fs)&&(fs=null),Ul.forEach(Nv),Pl.forEach(Nv)}function Xc(e,i){e.blockedOn===i&&(e.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mA)))}var $c=null;function xv(e){$c!==e&&($c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===e&&($c=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var d=ri(a);d!==null&&(e.splice(i,3),i-=3,ud(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function go(e){function i(N){return Xc(N,e)}cs!==null&&Xc(cs,e),hs!==null&&Xc(hs,e),fs!==null&&Xc(fs,e),Ul.forEach(i),Pl.forEach(i);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&ds.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ke]||null;if(typeof d=="function")_||xv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ke]||null)b=_.formAction;else if(cm(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),xv(a)}}}function Ov(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function fm(e){this._internalRoot=e}Jc.prototype.render=fm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Zn();Sv(a,l,e,i,null,null)},Jc.prototype.unmount=fm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Sv(e.current,2,null,e,null,null),xc(),i[Mi]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hn();e={blockedOn:null,target:e,priority:i};for(var a=0;a<ds.length&&i!==0&&i<ds[a].priority;a++);ds.splice(a,0,e),a===0&&Dv(e)}};var Mv=t.version;if(Mv!=="19.2.0")throw Error(s(527,Mv,"19.2.0"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var gA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Bn=Zc.inject(gA),qe=Zc}catch{}}return Bl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=jy,d=By,_=qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Tv(e,1,!1,null,null,a,l,null,h,d,_,Ov),e[Mi]=i.current,Yd(e),new fm(i)},Bl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=jy,_=By,b=qy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Tv(e,1,!0,i,a??null,l,h,N,d,_,b,Ov),i.context=bv(null),a=i.current,l=Zn(),l=qn(l),h=Zr(l),h.callback=null,Wr(a,h,l),a=l,i.current.lanes=a,Cn(i,a),Xi(i),e[Mi]=i.current,Yd(e),new Jc(i)},Bl.version="19.2.0",Bl}var Hv;function wA(){if(Hv)return gm.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gm.exports=AA(),gm.exports}var RA=wA();const CA=()=>{};var Fv={};const kE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},IA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,x=y&63;g||(x=64,f||(w=64)),s.push(n[E],n[T],n[w],n[x])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(kE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):IA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new DA;const w=u<<2|m>>4;if(s.push(w),y!==64){const x=m<<4&240|y>>2;if(s.push(x),T!==64){const Y=y<<6&192|T;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NA=function(r){const t=kE(r);return LE.encodeByteArray(t,!0)},_h=function(r){return NA(r).replace(/\./g,"")},UE=function(r){try{return LE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OA=()=>xA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof Fv>"u")return;const r=Fv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},VA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&UE(r[1]);return t&&JSON.parse(t)},Fh=()=>{try{return CA()||OA()||MA()||VA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},PE=r=>Fh()?.emulatorHosts?.[r],kA=r=>{const t=PE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},zE=()=>Fh()?.config,jE=r=>Fh()?.[`_${r}`];class LA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BE(r){return(await fetch(r,{credentials:"include"})).ok}function UA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}const Yl={};function PA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?r.emulator.push(t):r.prod.push(t);return r}function zA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Gv=!1;function qE(r,t){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||Yl[r]===t||Yl[r]||Gv)return;Yl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=PA().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Gv=!0,f()},w}function E(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=zA(s),x=n("text"),Y=document.getElementById(x)||document.createElement("span"),Q=n("learnmore"),H=document.getElementById(Q)||document.createElement("a"),tt=n("preprendIcon"),st=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const nt=w.element;m(nt),E(H,Q);const ot=y();g(st,tt),nt.append(st,Y,H,ot),document.body.appendChild(nt)}u?(Y.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function BA(){const r=Fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GA(){const r=_n();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function QA(){return!BA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YA(){try{return typeof indexedDB=="object"}catch{return!1}}function KA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const XA="FirebaseError";class Vr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=XA,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?$A(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Vr(o,m,s)}}function $A(r,t){return r.replace(JA,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const JA=/\{\$([^}]+)}/g;function ZA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function va(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Qv(u)&&Qv(f)){if(!va(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Qv(r){return r!==null&&typeof r=="object"}function pu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function WA(r,t){const n=new tw(r,t);return n.subscribe.bind(n)}class tw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ew(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ew(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function vm(){}function Be(r){return r&&r._delegate?r._delegate:r}class Ea{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const fa="[DEFAULT]";class nw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new LA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rw(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iw(r){return r===fa?void 0:r}function rw(r){return r.instantiationMode==="EAGER"}class sw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const aw={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},ow=Ut.INFO,lw={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},uw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=lw[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mg{constructor(t){this.name=t,this._logLevel=ow,this._logHandler=uw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const cw=(r,t)=>t.some(n=>r instanceof n);let Yv,Kv;function hw(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fw(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HE=new WeakMap,Lm=new WeakMap,FE=new WeakMap,Em=new WeakMap,gg=new WeakMap;function dw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(bs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&HE.set(n,r)}).catch(()=>{}),gg.set(t,r),t}function mw(r){if(Lm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Lm.set(r,t)}let Um={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Lm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||FE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function gw(r){Um=r(Um)}function pw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Tm(this),t,...n);return FE.set(s,t.sort?t.sort():[t]),bs(s)}:fw().includes(r)?function(...t){return r.apply(Tm(this),t),bs(HE.get(this))}:function(...t){return bs(r.apply(Tm(this),t))}}function yw(r){return typeof r=="function"?pw(r):(r instanceof IDBTransaction&&mw(r),cw(r,hw())?new Proxy(r,Um):r)}function bs(r){if(r instanceof IDBRequest)return dw(r);if(Em.has(r))return Em.get(r);const t=yw(r);return t!==r&&(Em.set(r,t),gg.set(t,r)),t}const Tm=r=>gg.get(r);function _w(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=bs(f);return s&&f.addEventListener("upgradeneeded",g=>{s(bs(f.result),g.oldVersion,g.newVersion,bs(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const vw=["get","getKey","getAll","getAllKeys","count"],Ew=["put","add","delete","clear"],bm=new Map;function Xv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(bm.get(t))return bm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Ew.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||vw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return bm.set(t,u),u}gw(r=>({...r,get:(t,n,s)=>Xv(t,n)||r.get(t,n,s),has:(t,n)=>!!Xv(t,n)||r.has(t,n)}));class Tw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bw(r){return r.getComponent()?.type==="VERSION"}const Pm="@firebase/app",$v="0.14.6";const Nr=new mg("@firebase/app"),Sw="@firebase/app-compat",Aw="@firebase/analytics-compat",ww="@firebase/analytics",Rw="@firebase/app-check-compat",Cw="@firebase/app-check",Iw="@firebase/auth",Dw="@firebase/auth-compat",Nw="@firebase/database",xw="@firebase/data-connect",Ow="@firebase/database-compat",Mw="@firebase/functions",Vw="@firebase/functions-compat",kw="@firebase/installations",Lw="@firebase/installations-compat",Uw="@firebase/messaging",Pw="@firebase/messaging-compat",zw="@firebase/performance",jw="@firebase/performance-compat",Bw="@firebase/remote-config",qw="@firebase/remote-config-compat",Hw="@firebase/storage",Fw="@firebase/storage-compat",Gw="@firebase/firestore",Qw="@firebase/ai",Yw="@firebase/firestore-compat",Kw="firebase",Xw="12.6.0";const zm="[DEFAULT]",$w={[Pm]:"fire-core",[Sw]:"fire-core-compat",[ww]:"fire-analytics",[Aw]:"fire-analytics-compat",[Cw]:"fire-app-check",[Rw]:"fire-app-check-compat",[Iw]:"fire-auth",[Dw]:"fire-auth-compat",[Nw]:"fire-rtdb",[xw]:"fire-data-connect",[Ow]:"fire-rtdb-compat",[Mw]:"fire-fn",[Vw]:"fire-fn-compat",[kw]:"fire-iid",[Lw]:"fire-iid-compat",[Uw]:"fire-fcm",[Pw]:"fire-fcm-compat",[zw]:"fire-perf",[jw]:"fire-perf-compat",[Bw]:"fire-rc",[qw]:"fire-rc-compat",[Hw]:"fire-gcs",[Fw]:"fire-gcs-compat",[Gw]:"fire-fst",[Yw]:"fire-fst-compat",[Qw]:"fire-vertex","fire-js":"fire-js",[Kw]:"fire-js-all"};const vh=new Map,Jw=new Map,jm=new Map;function Jv(r,t){try{r.container.addComponent(t)}catch(n){Nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function wo(r){const t=r.name;if(jm.has(t))return Nr.debug(`There were multiple attempts to register component ${t}.`),!1;jm.set(t,r);for(const n of vh.values())Jv(n,r);for(const n of Jw.values())Jv(n,r);return!0}function pg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ri(r){return r==null?!1:r.settings!==void 0}const Zw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new gu("app","Firebase",Zw);class Ww{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}const Vo=Xw;function GE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:zm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(n||(n=zE()),!n)throw Ss.create("no-options");const u=vh.get(o);if(u){if(va(n,u.options)&&va(s,u.config))return u;throw Ss.create("duplicate-app",{appName:o})}const f=new sw(o);for(const g of jm.values())f.addComponent(g);const m=new Ww(n,s,f);return vh.set(o,m),m}function QE(r=zm){const t=vh.get(r);if(!t&&r===zm&&zE())return GE();if(!t)throw Ss.create("no-app",{appName:r});return t}function As(r,t,n){let s=$w[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Nr.warn(f.join(" "));return}wo(new Ea(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const tR="firebase-heartbeat-database",eR=1,ru="firebase-heartbeat-store";let Sm=null;function YE(){return Sm||(Sm=_w(tR,eR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ss.create("idb-open",{originalErrorMessage:r.message})})),Sm}async function nR(r){try{const n=(await YE()).transaction(ru),s=await n.objectStore(ru).get(KE(r));return await n.done,s}catch(t){if(t instanceof Vr)Nr.warn(t.message);else{const n=Ss.create("idb-get",{originalErrorMessage:t?.message});Nr.warn(n.message)}}}async function Zv(r,t){try{const s=(await YE()).transaction(ru,"readwrite");await s.objectStore(ru).put(t,KE(r)),await s.done}catch(n){if(n instanceof Vr)Nr.warn(n.message);else{const s=Ss.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(s.message)}}}function KE(r){return`${r.name}!${r.options.appId}`}const iR=1024,rR=30;class sR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>rR){const o=lR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wv(),{heartbeatsToSend:n,unsentEntries:s}=aR(this._heartbeatsCache.heartbeats),o=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Nr.warn(t),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function aR(r,t=iR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),t0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),t0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YA()?KA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function t0(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function lR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function uR(r){wo(new Ea("platform-logger",t=>new Tw(t),"PRIVATE")),wo(new Ea("heartbeat",t=>new sR(t),"PRIVATE")),As(Pm,$v,r),As(Pm,$v,"esm2020"),As("fire-js","")}uR("");function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cR=XE,$E=new gu("auth","Firebase",XE());const Eh=new mg("@firebase/auth");function hR(r,...t){Eh.logLevel<=Ut.WARN&&Eh.warn(`Auth (${Vo}): ${r}`,...t)}function oh(r,...t){Eh.logLevel<=Ut.ERROR&&Eh.error(`Auth (${Vo}): ${r}`,...t)}function nr(r,...t){throw _g(r,...t)}function Ii(r,...t){return _g(r,...t)}function yg(r,t,n){const s={...cR(),[t]:n};return new gu("auth","Firebase",s).create(t,{appName:r.name})}function pa(r){return yg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&nr(r,"argument-error"),yg(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _g(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return $E.create(r,...t)}function bt(r,t,...n){if(!r)throw _g(t,...n)}function Ir(r){const t="INTERNAL ASSERTION FAILED: "+r;throw oh(t),new Error(t)}function xr(r,t){r||Ir(t)}function Bm(){return typeof self<"u"&&self.location?.href||""}function dR(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function mR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dR()||HA()||"connection"in navigator)?navigator.onLine:!0}function gR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class yu{constructor(t,n){this.shortDelay=t,this.longDelay=n,xr(n>t,"Short delay should be less than long delay!"),this.isMobile=jA()||FA()}get(){return mR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vg(r,t){xr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class JE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_R=new yu(3e4,6e4);function Eg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ko(r,t,n,s,o={}){return ZE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=pu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return qA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Mo(r.emulatorConfig.host)&&(y.credentials="include"),JE.fetch()(await WE(r,r.config.apiHost,n,m),y)})}async function ZE(r,t,n){r._canInitEmulator=!1;const s={...pR,...t};try{const o=new ER(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yg(r,E,y);nr(r,E)}}catch(o){if(o instanceof Vr)throw o;nr(r,"network-request-failed",{message:String(o)})}}async function vR(r,t,n,s,o={}){const u=await ko(r,t,n,s,o);return"mfaPendingCredential"in u&&nr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function WE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?vg(r.config,o):`${r.config.apiScheme}://${o}`;return yR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class ER{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),_R.get())})}}function Wc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(r,t,s);return o.customData._tokenResponse=n,o}async function TR(r,t){return ko(r,"POST","/v1/accounts:delete",t)}async function Th(r,t){return ko(r,"POST","/v1/accounts:lookup",t)}function Kl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bR(r,t=!1){const n=Be(r),s=await n.getIdToken(t),o=Tg(s);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(Am(o.auth_time)),issuedAtTime:Kl(Am(o.iat)),expirationTime:Kl(Am(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Am(r){return Number(r)*1e3}function Tg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=UE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function n0(r){const t=Tg(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function su(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Vr&&SR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function SR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class AR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(r){const t=r.auth,n=await r.getIdToken(),s=await su(r,Th(t,{idToken:n}));bt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?tT(o.providerUserInfo):[],f=RR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function wR(r){const t=Be(r);await bh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function RR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function tT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function CR(r,t){const n=await ZE(r,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await WE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Mo(r.emulatorConfig.host)&&(g.credentials="include"),JE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IR(r,t){return ko(r,"POST","/v2/accounts:revokeToken",Eg(r,t))}class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=n0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await CR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Eo;return s&&(bt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function gs(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ci{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new AR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await su(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return bR(this,t)}reload(){return wR(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(pa(this.auth));const t=await this.getIdToken();return await su(this,TR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:x,providerData:Y,stsTokenManager:Q}=n;bt(T&&Q,t,"internal-error");const H=Eo.fromJSON(this.name,Q);bt(typeof T=="string",t,"internal-error"),gs(s,t.name),gs(o,t.name),bt(typeof w=="boolean",t,"internal-error"),bt(typeof x=="boolean",t,"internal-error"),gs(u,t.name),gs(f,t.name),gs(m,t.name),gs(g,t.name),gs(y,t.name),gs(E,t.name);const tt=new Ci({uid:T,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:x,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return Y&&Array.isArray(Y)&&(tt.providerData=Y.map(st=>({...st}))),g&&(tt._redirectEventId=g),tt}static async _fromIdTokenResponse(t,n,s=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new Ci({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Eo;m.updateFromIdToken(s);const g=new Ci({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const i0=new Map;function Dr(r){xr(r instanceof Function,"Expected a class definition");let t=i0.get(r);return t?(xr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i0.set(r,t),t)}class eT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}eT.type="NONE";const r0=eT;function lh(r,t,n){return`firebase:${r}:${t}:${n}`}class To{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Th(this.auth,{idToken:t}).catch(()=>{});return n?Ci._fromGetAccountInfoResponse(this.auth,n,t):null}return Ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new To(Dr(r0),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Dr(r0);const f=lh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const w=await Th(t,{idToken:E}).catch(()=>{});if(!w)break;T=await Ci._fromGetAccountInfoResponse(t,w,E)}else T=Ci._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new To(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new To(u,t,s))}}function s0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oT(t))return"Blackberry";if(lT(t))return"Webos";if(iT(t))return"Safari";if((t.includes("chrome/")||rT(t))&&!t.includes("edge/"))return"Chrome";if(aT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function nT(r=_n()){return/firefox\//i.test(r)}function iT(r=_n()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rT(r=_n()){return/crios\//i.test(r)}function sT(r=_n()){return/iemobile/i.test(r)}function aT(r=_n()){return/android/i.test(r)}function oT(r=_n()){return/blackberry/i.test(r)}function lT(r=_n()){return/webos/i.test(r)}function bg(r=_n()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DR(r=_n()){return bg(r)&&!!window.navigator?.standalone}function NR(){return GA()&&document.documentMode===10}function uT(r=_n()){return bg(r)||aT(r)||lT(r)||oT(r)||/windows phone/i.test(r)||sT(r)}function cT(r,t=[]){let n;switch(r){case"Browser":n=s0(_n());break;case"Worker":n=`${s0(_n())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vo}/${s}`}class xR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function OR(r,t={}){return ko(r,"GET","/v2/passwordPolicy",Eg(r,t))}const MR=6;class VR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class kR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new xR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await To.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Th(this,{idToken:t}),s=await Ci._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ri(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await bh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ri(this.app))return Promise.reject(pa(this));const n=t?Be(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ri(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await OR(this),n=new VR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await IR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Dr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gh(r){return Be(r)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=WA(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LR(r){Sg=r}function UR(r){return Sg.loadJS(r)}function PR(){return Sg.gapiScript}function zR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function jR(r,t){const n=pg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(va(u,t??{}))return o;nr(o,"already-initialized")}return n.initialize({options:t})}function BR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Dr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function qR(r,t,n){const s=Gh(r);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=hT(t),{host:f,port:m}=HR(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(va(y,s.config.emulator)&&va(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Mo(f)?(BE(`${u}//${f}${g}`),qE("Auth",!0)):FR()}function hT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function HR(r){const t=hT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:o0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:o0(f)}}}function o0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function FR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(t){return Ir("not implemented")}_linkToIdToken(t,n){return Ir("not implemented")}_getReauthenticationResolver(t){return Ir("not implemented")}}async function bo(r,t){return vR(r,"POST","/v1/accounts:signInWithIdp",Eg(r,t))}const GR="http://localhost";class Ta extends fT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return bo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,bo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bo(t,n)}buildRequest(){const t={requestUri:GR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=pu(n)}return t}}class Ag{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class _u extends Ag{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ys extends _u{constructor(){super("facebook.com")}static credential(t){return Ta._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ys.credential(t.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";class Cr extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ta._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";class _s extends _u{constructor(){super("github.com")}static credential(t){return Ta._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _s.credentialFromTaggedObject(t)}static credentialFromError(t){return _s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _s.credential(t.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";class vs extends _u{constructor(){super("twitter.com")}static credential(t,n){return Ta._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return vs.credential(n,s)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";class Ro{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ci._fromIdTokenResponse(t,s,o),f=l0(s);return new Ro({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=l0(s);return new Ro({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Sh extends Vr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Sh(t,n,s,o)}}function dT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(r,u,t,s):u})}async function QR(r,t,n=!1){const s=await su(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ro._forOperation(r,"link",s)}async function YR(r,t,n=!1){const{auth:s}=r;if(Ri(s.app))return Promise.reject(pa(s));const o="reauthenticate";try{const u=await su(r,dT(s,o,t,r),n);bt(u.idToken,s,"internal-error");const f=Tg(u.idToken);bt(f,s,"internal-error");const{sub:m}=f;return bt(r.uid===m,s,"user-mismatch"),Ro._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&nr(s,"user-mismatch"),u}}async function KR(r,t,n=!1){if(Ri(r.app))return Promise.reject(pa(r));const s="signIn",o=await dT(r,s,t),u=await Ro._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function XR(r,t,n,s){return Be(r).onIdTokenChanged(t,n,s)}function $R(r,t,n){return Be(r).beforeAuthStateChanged(t,n)}function JR(r,t,n,s){return Be(r).onAuthStateChanged(t,n,s)}function mT(r){return Be(r).signOut()}const Ah="__sak";class gT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ZR=1e3,WR=10;class pT extends gT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);NR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,WR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},ZR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}pT.type="LOCAL";const tC=pT;class yT extends gT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yT.type="SESSION";const _T=yT;function eC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Qh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await eC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];function wg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class nC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=wg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ji(){return window}function iC(r){Ji().location.href=r}function vT(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function rC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sC(){return navigator?.serviceWorker?.controller||null}function aC(){return vT()?self:null}const ET="firebaseLocalStorageDb",oC=1,wh="firebaseLocalStorage",TT="fbase_key";class vu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(r,t){return r.transaction([wh],t?"readwrite":"readonly").objectStore(wh)}function lC(){const r=indexedDB.deleteDatabase(ET);return new vu(r).toPromise()}function Hm(){const r=indexedDB.open(ET,oC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(wh,{keyPath:TT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(wh)?t(s):(s.close(),await lC(),t(await Hm()))})})}async function u0(r,t,n){const s=Yh(r,!0).put({[TT]:t,value:n});return new vu(s).toPromise()}async function uC(r,t){const n=Yh(r,!1).get(t),s=await new vu(n).toPromise();return s===void 0?null:s.value}function c0(r,t){const n=Yh(r,!0).delete(t);return new vu(n).toPromise()}const cC=800,hC=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>hC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(aC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rC(),!this.activeServiceWorker)return;this.sender=new nC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hm();return await u0(t,Ah,"1"),await c0(t,Ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>u0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>uC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>c0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new vu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const fC=bT;new yu(3e4,6e4);function ST(r,t){return t?Dr(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Rg extends fT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dC(r){return KR(r.auth,new Rg(r),r.bypassAuthState)}function mC(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),YR(n,new Rg(r),r.bypassAuthState)}async function gC(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),QR(n,new Rg(r),r.bypassAuthState)}class AT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dC;case"linkViaPopup":case"linkViaRedirect":return gC;case"reauthViaPopup":case"reauthViaRedirect":return mC;default:nr(this.auth,"internal-error")}}resolve(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pC=new yu(2e3,1e4);async function yC(r,t,n){if(Ri(r.app))return Promise.reject(Ii(r,"operation-not-supported-in-this-environment"));const s=Gh(r);fR(r,t,Ag);const o=ST(s,n);return new da(s,"signInViaPopup",t,o).executeNotNull()}class da extends AT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const t=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pC.get())};t()}}da.currentPopupAction=null;const _C="pendingRedirect",uh=new Map;class vC extends AT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=uh.get(this.auth._key());if(!t){try{const s=await EC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}uh.set(this.auth._key(),t)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EC(r,t){const n=SC(t),s=bC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function TC(r,t){uh.set(r._key(),t)}function bC(r){return Dr(r._redirectPersistence)}function SC(r){return lh(_C,r.config.apiKey,r.name)}async function AC(r,t,n=!1){if(Ri(r.app))return Promise.reject(pa(r));const s=Gh(r),o=ST(s,t),f=await new vC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const wC=600*1e3;class RC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!wT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(t))}saveEventToCache(t){this.cachedEventUids.add(h0(t)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function wT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function CC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wT(r);default:return!1}}async function IC(r,t={}){return ko(r,"GET","/v1/projects",t)}const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NC=/^https?/;async function xC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await IC(r);for(const n of t)try{if(OC(n))return}catch{}nr(r,"unauthorized-domain")}function OC(r){const t=Bm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!NC.test(n))return!1;if(DC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const MC=new yu(3e4,6e4);function f0(){const r=Ji().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function VC(r){return new Promise((t,n)=>{function s(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),n(Ii(r,"network-request-failed"))},timeout:MC.get()})}if(Ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ji().gapi?.load)s();else{const o=zR("iframefcb");return Ji()[o]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},UR(`${PR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw ch=null,t})}let ch=null;function kC(r){return ch=ch||VC(r),ch}const LC=new yu(5e3,15e3),UC="__/auth/iframe",PC="emulator/auth/iframe",zC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BC(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?vg(t,PC):`https://${r.config.authDomain}/${UC}`,s={apiKey:t.apiKey,appName:r.name,v:Vo},o=jC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function qC(r){const t=await kC(r),n=Ji().gapi;return bt(n,r,"internal-error"),t.open({where:document.body,url:BC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(r,"network-request-failed"),m=Ji().setTimeout(()=>{u(f)},LC.get());function g(){Ji().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const HC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FC=500,GC=600,QC="_blank",YC="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KC(r,t,n,s=FC,o=GC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...HC,width:s.toString(),height:o.toString(),top:u,left:f},y=_n().toLowerCase();n&&(m=rT(y)?QC:n),nT(y)&&(t=t||YC,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[x,Y])=>`${w}${x}=${Y},`,"");if(DR(y)&&m!=="_self")return XC(t||"",m),new d0(null);const T=window.open(t||"",m,E);bt(T,r,"popup-blocked");try{T.focus()}catch{}return new d0(T)}function XC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const $C="__/auth/handler",JC="emulator/auth/handler",ZC=encodeURIComponent("fac");async function m0(r,t,n,s,o,u){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Vo,eventId:o};if(t instanceof Ag){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",ZA(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof _u){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${ZC}=${encodeURIComponent(g)}`:"";return`${WC(r)}?${pu(m).slice(1)}${y}`}function WC({config:r}){return r.emulator?vg(r,JC):`https://${r.authDomain}/${$C}`}const wm="webStorageSupport";class t2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_T,this._completeRedirectFn=AC,this._overrideRedirectResult=TC}async _openPopup(t,n,s,o){xr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await m0(t,n,s,Bm(),o);return KC(t,u,wg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await m0(t,n,s,Bm(),o);return iC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await qC(t),s=new RC(t);return n.register("authEvent",o=>(bt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wm,{type:wm},o=>{const u=o?.[0]?.[wm];u!==void 0&&n(!!u),nr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return uT()||iT()||bg()}}const e2=t2;var g0="@firebase/auth",p0="1.11.1";class n2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function i2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r2(r){wo(new Ea("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;bt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cT(r)},y=new kR(s,o,u,g);return BR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),wo(new Ea("auth-internal",t=>{const n=Gh(t.getProvider("auth").getImmediate());return(s=>new n2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(g0,p0,i2(r)),As(g0,p0,"esm2020")}const s2=300,a2=jE("authIdTokenMaxAge")||s2;let y0=null;const o2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>a2)return;const o=n?.token;y0!==o&&(y0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function l2(r=QE()){const t=pg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=jR(r,{popupRedirectResolver:e2,persistence:[fC,tC,_T]}),s=jE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=o2(u.toString());$R(n,f,()=>f(n.currentUser)),XR(n,m=>f(m))}}const o=PE("auth");return o&&qR(n,`http://${o}`),n}function u2(){return document.getElementsByTagName("head")?.[0]??document}LR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",u2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r2("Browser");var c2="firebase",h2="12.6.0";As(c2,h2,"app");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ws,RT;(function(){var r;function t(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(O,D,k){for(var I=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)I[jt-2]=arguments[jt];return A.prototype[D].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,C){C||(C=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],D=R.g[2];let k=R.g[3],I;I=A+(k^C&(D^k))+O[0]+3614090360&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(D^A&(C^D))+O[1]+3905402710&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(C^k&(A^C))+O[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(A^D&(k^A))+O[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=A+(k^C&(D^k))+O[4]+4118548399&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(D^A&(C^D))+O[5]+1200080426&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(C^k&(A^C))+O[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(A^D&(k^A))+O[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=A+(k^C&(D^k))+O[8]+1770035416&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(D^A&(C^D))+O[9]+2336552879&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(C^k&(A^C))+O[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(A^D&(k^A))+O[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=A+(k^C&(D^k))+O[12]+1804603682&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(D^A&(C^D))+O[13]+4254626195&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(C^k&(A^C))+O[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(A^D&(k^A))+O[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=A+(D^k&(C^D))+O[1]+4129170786&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(A^C))+O[6]+3225465664&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^C&(k^A))+O[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(D^k))+O[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(C^D))+O[5]+3593408605&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(A^C))+O[10]+38016083&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^C&(k^A))+O[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(D^k))+O[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(C^D))+O[9]+568446438&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(A^C))+O[14]+3275163606&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^C&(k^A))+O[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(D^k))+O[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(C^D))+O[13]+2850285829&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(A^C))+O[2]+4243563512&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^C&(k^A))+O[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(D^k))+O[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=A+(C^D^k)+O[5]+4294588738&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^D)+O[8]+2272392833&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^C)+O[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^A)+O[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=A+(C^D^k)+O[1]+2763975236&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^D)+O[4]+1272893353&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^C)+O[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^A)+O[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=A+(C^D^k)+O[13]+681279174&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^D)+O[0]+3936430074&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^C)+O[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^A)+O[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=A+(C^D^k)+O[9]+3654602809&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^D)+O[12]+3873151461&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^C)+O[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^A)+O[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=A+(D^(C|~k))+O[0]+4096336452&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~D))+O[7]+1126891415&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~C))+O[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~A))+O[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=A+(D^(C|~k))+O[12]+1700485571&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~D))+O[3]+2399980690&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~C))+O[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~A))+O[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=A+(D^(C|~k))+O[8]+1873313359&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~D))+O[15]+4264355552&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~C))+O[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~A))+O[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=A+(D^(C|~k))+O[4]+4149444226&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~D))+O[11]+3174756917&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~C))+O[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~A))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+k&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=C;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(O[D++]=R.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<A;)if(O[D++]=R[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)R[A++]=this.g[C]>>>O&255;return R};function u(R,A){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function f(R,A){this.h=A;const C=[];let O=!0;for(let D=R.length-1;D>=0;D--){const k=R[D]|0;O&&k==A||(C[D]=k,O=!1)}this.g=C}var m={};function g(R){return-128<=R&&R<128?u(R,function(A){return new f([A|0],A<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return H(y(-R));const A=[];let C=1;for(let O=0;R>=C;O++)A[O]=R/C|0,C*=4294967296;return new f(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return H(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let O=T;for(let k=0;k<R.length;k+=8){var D=Math.min(8,R.length-k);const I=parseInt(R.substring(k,k+D),A);D<8?(D=y(Math.pow(A,D)),O=O.j(D).add(y(I))):(O=O.j(C),O=O.add(y(I)))}return O}var T=g(0),w=g(1),x=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-H(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);R+=(O>=0?O:4294967296+O)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Y(this))return"0";if(Q(this))return"-"+H(this).toString(R);const A=y(Math.pow(R,6));var C=this;let O="";for(;;){const D=ot(C,A).g;C=tt(C,D.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,Y(C))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Y(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function Q(R){return R.h==-1}r.l=function(R){return R=tt(this,R),Q(R)?-1:Y(R)?0:1};function H(R){const A=R.g.length,C=[];for(let O=0;O<A;O++)C[O]=~R.g[O];return new f(C,~R.h).add(w)}r.abs=function(){return Q(this)?H(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let O=0;for(let D=0;D<=A;D++){let k=O+(this.i(D)&65535)+(R.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=I>>>16,k&=65535,I&=65535,C[D]=I<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function tt(R,A){return R.add(H(A))}r.j=function(R){if(Y(this)||Y(R))return T;if(Q(this))return Q(R)?H(this).j(H(R)):H(H(this).j(R));if(Q(R))return H(this.j(H(R)));if(this.l(x)<0&&R.l(x)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var O=0;O<2*A;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const k=this.i(O)>>>16,I=this.i(O)&65535,jt=R.i(D)>>>16,le=R.i(D)&65535;C[2*O+2*D]+=I*le,st(C,2*O+2*D),C[2*O+2*D+1]+=k*le,st(C,2*O+2*D+1),C[2*O+2*D+1]+=I*jt,st(C,2*O+2*D+1),C[2*O+2*D+2]+=k*jt,st(C,2*O+2*D+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new f(C,0)};function st(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function nt(R,A){this.g=R,this.h=A}function ot(R,A){if(Y(A))throw Error("division by zero");if(Y(R))return new nt(T,T);if(Q(R))return A=ot(H(R),A),new nt(H(A.g),H(A.h));if(Q(A))return A=ot(R,H(A)),new nt(H(A.g),A.h);if(R.g.length>30){if(Q(R)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,O=A;O.l(R)<=0;)C=ft(C),O=ft(O);var D=ut(C,1),k=ut(O,1);for(O=ut(O,2),C=ut(C,2);!Y(O);){var I=k.add(O);I.l(R)<=0&&(D=D.add(C),k=I),O=ut(O,1),C=ut(C,1)}return A=tt(R,D.j(A)),new nt(D,A)}for(D=T;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=y(C),I=k.j(A);Q(I)||I.l(R)>0;)C-=O,k=y(C),I=k.j(A);Y(k)&&(k=w),D=D.add(k),R=tt(R,I)}return new nt(D,R)}r.B=function(R){return ot(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)&R.i(O);return new f(C,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)|R.i(O);return new f(C,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)^R.i(O);return new f(C,this.h^R.h)};function ft(R){const A=R.g.length+1,C=[];for(let O=0;O<A;O++)C[O]=R.i(O)<<1|R.i(O-1)>>>31;return new f(C,R.h)}function ut(R,A){const C=A>>5;A%=32;const O=R.g.length-C,D=[];for(let k=0;k<O;k++)D[k]=A>0?R.i(k+C)>>>A|R.i(k+C+1)<<32-A:R.i(k+C);return new f(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,RT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ws=f}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CT,ql,IT,hh,Fm,DT,NT,xT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break t;v=v[U]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,q){for(var at=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)at[Ct-2]=arguments[Ct];return p.prototype[U].apply(S,at)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function Y(c,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let at=0;at<q;at++)c[v+at]=U[at]}else c.push(U)}}class Q{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function H(c){f.setTimeout(()=>{throw c},0)}function tt(){var c=R;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class st{constructor(){this.h=this.g=null}add(p,v){const S=nt.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var nt=new Q(()=>new ot,c=>c.reset());class ot{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ut=!1,R=new st,A=()=>{const c=Promise.resolve(void 0);ft=()=>{c.then(C)}};function C(){for(var c;c=tt();){try{c.h.call(c.g)}catch(v){H(v)}var p=nt;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ut=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function jt(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}T(jt,D),jt.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&jt.Z.h.call(this)},jt.prototype.h=function(){jt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),K=0;function it(c,p,v,S,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++K,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rt(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function Bt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,p,v,S,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const at=_t(c,p,S,U);return at>-1?(p=c[at],v||(p.fa=!1)):(p=new it(p,this.src,q,!!S,U),p.fa=v,c.push(p)),p};function vt(c,p){const v=p.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,p,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(gt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function _t(c,p,v,S){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==S)return U}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),te={};function Ft(c,p,v,S,U){if(Array.isArray(p)){for(let q=0;q<p.length;q++)Ft(c,p[q],v,S,U);return null}return v=Lr(v),c&&c[le]?c.J(p,v,m(S)?!!S.capture:!1,U):Vt(c,p,v,!1,S,U)}function Vt(c,p,v,S,U,q){if(!p)throw Error("Invalid event type");const at=m(U)?!!U.capture:!!U;let Ct=Rn(c);if(Ct||(c[Nt]=Ct=new lt(c)),v=Ct.add(p,v,S,at,q),v.proxy)return v;if(S=ti(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)k||(U=at),U===void 0&&(U=!1),c.addEventListener(p.toString(),S,U);else if(c.attachEvent)c.attachEvent(Ie(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ti(){function c(v){return p.call(c.src,c.listener,v)}const p=ei;return c}function We(c,p,v,S,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)We(c,p[q],v,S,U);else S=m(S)?!!S.capture:!!S,v=Lr(v),c&&c[le]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=_t(p,v,S,U),v>-1&&(gt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=Rn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=_t(p,v,S,U)),(v=c>-1?p[c]:null)&&Pn(v))}function Pn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[le])vt(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(Ie(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=Rn(p))?(vt(v,c),v.h==0&&(v.src=null,p[Nt]=null)):gt(c)}}}function Ie(c){return c in te?te[c]:te[c]="on"+c}function ei(c,p){if(c.da)c=!0;else{p=new jt(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&Pn(c),c=v.call(S,p)}return c}function Rn(c){return c=c[Nt],c instanceof lt?c:null}var kr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lr(c){return typeof c=="function"?c:(c[kr]||(c[kr]=function(p){return c.handleEvent(p)}),c[kr])}function fe(){O.call(this),this.i=new lt(this),this.M=this,this.G=null}T(fe,O),fe.prototype[le]=!0,fe.prototype.removeEventListener=function(c,p,v,S){We(this,c,p,v,S)};function ee(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var U=p;p=new D(S,c),rt(p,U)}U=!0;let q,at;if(v)for(at=v.length-1;at>=0;at--)q=p.g=v[at],U=zn(q,S,!0,p)&&U;if(q=p.g=c,U=zn(q,S,!0,p)&&U,U=zn(q,S,!1,p)&&U,v)for(at=0;at<v.length;at++)q=p.g=v[at],U=zn(q,S,!1,p)&&U}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)gt(v[S]);delete c.g[p],c.h--}}this.G=null},fe.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},fe.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function zn(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let q=0;q<p.length;++q){const at=p[q];if(at&&!at.da&&at.capture==v){const Ct=at.listener,Ae=at.ha||at.src;at.fa&&vt(c.i,at),U=Ct.call(Ae,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ur(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Ps(c){c.g=Ur(()=>{c.g=null,c.i&&(c.i=!1,Ps(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Qe extends O{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ps(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(c){O.call(this),this.h=c,this.g={}}T(sr,O);var zs=[];function ni(c){Rt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Pn(p)},c),c.g={}}sr.prototype.N=function(){sr.Z.N.call(this),ni(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=f.JSON.stringify,ar=f.JSON.parse,js=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function jn(){}function Bs(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}T(qe,D);function cn(){D.call(this,"c")}T(cn,D);var de={},Ca=null;function or(){return Ca=Ca||new fe}de.Ia="serverreachability";function Ia(c){D.call(this,de.Ia,c)}T(Ia,D);function ii(c){const p=or();ee(p,new Ia(p))}de.STAT_EVENT="statevent";function lr(c,p){D.call(this,de.STAT_EVENT,c),this.stat=p}T(lr,D);function xt(c){const p=or();ee(p,new lr(p,c))}de.Ja="timingevent";function me(c,p){D.call(this,de.Ja,c),this.size=p}T(me,D);function ge(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function De(){this.g=!0}De.prototype.ua=function(){this.g=!1};function hn(c,p,v,S,U,q){c.info(function(){if(c.g)if(q){var at="",Ct=q.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var Ae=Ct[Kt].split("=");if(Ae.length>1){const pe=Ae[0];Ae=Ae[1];const oi=pe.split("_");at=oi.length>=2&&oi[1]=="type"?at+(pe+"="+Ae+"&"):at+(pe+"=redacted&")}}}else at=null;else at=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+at})}function Ye(c,p,v,S,U,q,at){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+q+" "+at})}function be(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Se(c,v)+(S?" "+S:"")})}function Cn(c,p){c.info(function(){return"TIMEOUT: "+p})}De.prototype.info=function(){};function Se(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let at=1;at<S.length;at++)S[at]=""}}}}return vn(q)}catch{return p}}var fn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},En;function qn(){}T(qn,jn),qn.prototype.g=function(){return new XMLHttpRequest},En=new qn;function Tn(c){return encodeURIComponent(String(c))}function Hn(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function tn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Ne={},Ke={};function Mi(c,p,v){c.M=1,c.A=qs(Oe(p)),c.u=v,c.R=!0,Da(c,null)}function Da(c,p){c.F=Date.now(),Vi(c),c.B=Oe(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ma(v.i,"t",S),c.C=0,v=c.j.L,c.h=new bn,c.g=Qu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new Qe(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(zs[0]=U.toString()),U=zs);for(let q=0;q<U.length;q++){const at=Ft(v,U[q],S||p.handleEvent,!1,p.h||p);if(!at)break;p.g[at.key]=at}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ii(),hn(c.i,c.v,c.B,c.l,c.S,c.u)}tn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Ei(c)==3?p.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Ei(this.g),Ae=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ct!=4||Ae==7||(Ae==8||Kt<=0?ii(3):ii(2)),ki(this);var p=this.g.ca();this.X=p;var v=vf(this);if(this.o=p==200,Ye(this.i,this.v,this.B,this.l,this.S,Ct,p),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var q=S;break e}}q=null}if(c=q)be(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,c);else{this.o=!1,this.m=3,xt(12),Fn(this),ri(this);break t}}if(this.R){c=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=Mu(this,v),pe==Ke){Ct==4&&(this.m=4,xt(14),c=!1),be(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Ne){this.m=4,xt(15),be(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else be(this.i,this.l,pe,null),Li(this,pe);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)be(this.i,this.l,v,"[Invalid Chunked Response]"),Fn(this),ri(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),il(at),at.P=!0,xt(11))}}else be(this.i,this.l,v,null),Li(this,v);Ct==4&&Fn(this),this.o&&!this.K&&(Ct==4?qu(this.j,this):(this.o=!1,Vi(this)))}else cr(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Fn(this),ri(this)}}}catch{}finally{}};function vf(c){if(!Ou(c))return c.g.la();const p=en(c.g);if(p==="")return"";let v="";const S=p.length,U=Ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Fn(c),ri(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(U&&q==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Ke:(v=Number(p.substring(v,S)),isNaN(v)?Ne:(S+=1,S+v>p.length?Ke:(p=p.slice(S,S+v),c.C=S+v,p)))}tn.prototype.cancel=function(){this.K=!0,Fn(this)};function Vi(c){c.T=Date.now()+c.H,Na(c,c.H)}function Na(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ge(y(c.aa,c),p)}function ki(c){c.D&&(f.clearTimeout(c.D),c.D=null)}tn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cn(this.i,this.B),this.M!=2&&(ii(),xt(17)),Fn(this),this.m=2,ri(this)):Na(this,this.T-c)};function ri(c){c.j.I==0||c.K||qu(c.j,c)}function Fn(c){ki(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,ni(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Li(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||Pi(v.h,c))){if(!c.L&&Pi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Pa(v),Gr(v);else break t;Xs(v),xt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ge(y(v.Va,v),6e3));Ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else Fi(v,11)}else if((c.L||v.g==c)&&Pa(v),!I(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Kt=U[p];const pe=Kt[0];if(!(pe<=v.K))if(v.K=pe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const oi=Kt[3];oi!=null&&(v.ka=oi,v.j.info("VER="+v.ka));const Gi=Kt[4];Gi!=null&&(v.za=Gi,v.j.info("SVER="+v.za));const Ti=Kt[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(S=1.5*Ti,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const bi=c.g;if(bi){const $s=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var q=S.h;q.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Go(q,q.h),q.h=null))}if(S.G){const za=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(S.wa=za,Jt(S.J,S.G,za))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var at=c;if(S.na=Gu(S,S.L?S.ba:null,S.W),at.L){Qo(S.h,at);var Ct=at,Ae=S.O;Ae&&(Ct.H=Ae),Ct.D&&(ki(Ct),Vi(Ct)),S.g=at}else ju(S);v.i.length>0&&Hi(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Fi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Fi(v,7):el(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}ii(4)}catch{}}var xe=class{constructor(c,p){this.g=c,this.map=p}};function Ho(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ui(c){return c.h?1:c.g?c.g.size:0}function Pi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Go(c,p){c.g?c.g.add(p):c.h=p}function Qo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ho.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return x(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,q=null;S>=0?(U=c[v].substring(0,S),q=c[v].substring(S+1)):U=c[v],p(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Gn?(this.l=c.l,Xe(this,c.j),this.o=c.o,this.g=c.g,Pr(this,c.u),this.h=c.h,Ko(this,Pu(c.i)),this.m=c.m):c&&(p=String(c).match(Vu))?(this.l=!1,Xe(this,p[1]||"",!0),this.o=zi(p[2]||""),this.g=zi(p[3]||"",!0),Pr(this,p[4]),this.h=zi(p[5]||"",!0),Ko(this,p[6]||"",!0),this.m=zi(p[7]||"")):(this.l=!1,this.i=new jr(null,this.l))}Gn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Hs(p,Oa,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Hs(p,Oa,!0),"@"),c.push(Tn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Hs(v,v.charAt(0)=="/"?Xo:ku,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Hs(v,Lu)),c.join("")},Gn.prototype.resolve=function(c){const p=Oe(this);let v=!!c.j;v?Xe(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)Pr(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let at=0;at<U.length;){const Ct=U[at++];Ct=="."?S&&at==U.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&at==U.length&&q.push("")):(q.push(Ct),S=!0)}S=q.join("/")}else S=U}return v?p.h=S:v=c.i.toString()!=="",v?Ko(p,Pu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Oe(c){return new Gn(c)}function Xe(c,p,v){c.j=v?zi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Pr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Ko(c,p,v){p instanceof jr?(c.i=p,Va(c.i,c.l)):(v||(p=Hs(p,zr)),c.i=new jr(p,c.l))}function Jt(c,p,v){c.i.set(p,v)}function qs(c){return Jt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function zi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Hs(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,In),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function In(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oa=/[#\/\?@]/g,ku=/[#\?:]/g,Xo=/[#\?]/g,zr=/[#\?@]/g,Lu=/#/g;function jr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=jr.prototype,r.add=function(c,p){Dn(this),this.i=null,c=Br(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Uu(c,p){Dn(c),p=Br(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function $o(c,p){return Dn(c),p=Br(c,p),c.g.has(p)}r.forEach=function(c,p){Dn(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(p,U,S,this)},this)},this)};function Jo(c,p){Dn(c);let v=[];if(typeof p=="string")$o(c,p)&&(v=v.concat(c.g.get(Br(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return Dn(this),this.i=null,c=Br(this,c),$o(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Jo(this,c),c.length>0?String(c[0]):p):p};function Ma(c,p,v){Uu(c,p),v.length>0&&(c.i=null,c.g.set(Br(c,p),x(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=Tn(v);v=Jo(this,v);for(let q=0;q<v.length;q++){let at=U;v[q]!==""&&(at+="="+Tn(v[q])),c.push(at)}}return this.i=c.join("&")};function Pu(c){const p=new jr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Br(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Va(c,p){p&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(Uu(this,S),Ma(this,U,v))},c)),c.j=p}function _i(c,p){const v=new De;if(f.Image){const S=new Image;S.onload=E(si,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(si,v,"TestLoadImage: error",!1,p,S),S.onabort=E(si,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(si,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Zo(c,p){const v=new De,S=new AbortController,U=setTimeout(()=>{S.abort(),si(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?si(v,"TestPingServer: ok",!0,p):si(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),si(v,"TestPingServer: error",!1,p)})}function si(c,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function qr(){this.g=new js}function ji(c){this.i=c.Sb||null,this.h=c.ab||!1}T(ji,jn),ji.prototype.g=function(){return new Fs(this.i,this.h)};function Fs(c,p){fe.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Fs,fe),r=Fs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,vi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Hr(this):vi(this),this.readyState==3&&ka(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Hr(this))},r.Na=function(c){this.g&&(this.response=c,Hr(this))},r.ga=function(){this.g&&Hr(this)};function Hr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,vi(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ai(c){let p="";return Rt(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Gs(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=ai(v),typeof c=="string"?v!=null&&Tn(v):Jt(c,p,v))}function ne(c){fe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ne,fe);var Bi=/^https?$/i,Wo=["POST","PUT"];r=ne.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():En.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Qs(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Wo,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,at]of v)this.g.setRequestHeader(q,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Qs(this,q)}};function Qs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,tl(c),ur(c)}function tl(c){c.A||(c.A=!0,ee(c,"complete"),ee(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ee(this,"complete"),ee(this,"abort"),ur(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),ne.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ys(this):this.Xa())},r.Xa=function(){Ys(this)};function Ys(c){if(c.h&&typeof u<"u"){if(c.v&&Ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(ee(c,"readystatechange"),Ei(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=q===0){let at=String(c.D).match(Vu)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),S=!Bi.test(at?at.toLowerCase():"")}v=S}if(v)ee(c,"complete"),ee(c,"success");else{c.o=6;try{var U=Ei(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",tl(c)}}finally{ur(c)}}}}function ur(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||ee(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ei(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ar(p)}};function en(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cr(c){const p={};c=(c.g&&Ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Hn(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[U]||[];p[U]=q,q.push(v)}Bt(p,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Fr(c){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,c),this.Za=qi("retryDelaySeedMs",1e4,c),this.Ta=qi("forwardChannelMaxRetries",2,c),this.va=qi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Ba=new qr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Fr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,S){xt(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Gu(this,null,this.W),Hi(this)};function el(c){if(La(c),c.I==3){var p=c.V++,v=Oe(c.J);if(Jt(v,"SID",c.M),Jt(v,"RID",p),Jt(v,"TYPE","terminate"),Ks(c,v),p=new tn(c,c.j,p),p.M=2,p.A=qs(Oe(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Qu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Vi(p)}Fu(c)}function Gr(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function La(c){Gr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Hi(c){if(!Fo(c.h)&&!c.m){c.m=!0;var p=c.Ea;ft||A(),ut||(ft(),ut=!0),R.add(p,c),c.D=0}}function Ua(c,p){return Ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ge(y(c.Ea,c,p),Hu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new tn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),rt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=zu(this,U,p),v=Oe(this.J),Jt(v,"RID",c),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Ks(this,v),q&&(this.R?p="headers="+Tn(ai(q))+"&"+p:this.u&&Gs(v,this.u,q)),Go(this.h,U),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",p),Jt(v,"SID","null"),U.U=!0,Mi(U,v,null)):Mi(U,v,p),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,p){var v;p?v=p.l:v=c.V++;const S=Oe(c.J);Jt(S,"SID",c.M),Jt(S,"RID",v),Jt(S,"AID",c.K),Ks(c,S),c.u&&c.o&&Gs(S,c.u,c.o),v=new tn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=zu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,v),Mi(v,S,p)}function Ks(c,p){c.H&&Rt(c.H,function(v,S){Jt(p,S,v)}),c.l&&Rt({},function(v,S){Jt(p,S,v)})}function zu(c,p,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let Ct=-1;for(;;){const Ae=["count="+v];Ct==-1?v>0?(Ct=U[0].g,Ae.push("ofs="+Ct)):Ct=0:Ae.push("ofs="+Ct);let Kt=!0;for(let pe=0;pe<v;pe++){var q=U[pe].g;const oi=U[pe].map;if(q-=Ct,q<0)Ct=Math.max(0,U[pe].g-100),Kt=!1;else try{q="req"+q+"_"||"";try{var at=oi instanceof Map?oi:Object.entries(oi);for(const[Gi,Ti]of at){let bi=Ti;m(Ti)&&(bi=vn(Ti)),Ae.push(q+Gi+"="+encodeURIComponent(bi))}}catch(Gi){throw Ae.push(q+"type="+encodeURIComponent("_badmap")),Gi}}catch{S&&S(oi)}}if(Kt){at=Ae.join("&");break t}}at=void 0}return c=c.i.splice(0,v),p.G=c,at}function ju(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ft||A(),ut||(ft(),ut=!0),R.add(p,c),c.A=0}}function Xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ge(y(c.Da,c),Hu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ge(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Gr(this),Bu(this))};function il(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Bu(c){c.g=new tn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Oe(c.na);Jt(p,"RID","rpc"),Jt(p,"SID",c.M),Jt(p,"AID",c.K),Jt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Jt(p,"TO",c.ia),Jt(p,"TYPE","xmlhttp"),Ks(c,p),c.u&&c.o&&Gs(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=qs(Oe(p)),v.u=null,v.R=!0,Da(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Gr(this),Xs(this),xt(19))};function Pa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qu(c,p){var v=null;if(c.g==p){Pa(c),il(c),c.g=null;var S=2}else if(Pi(c.h,p))v=p.G,Qo(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;S=or(),ee(S,new me(S,v)),Hi(c)}else ju(c);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&Ua(c,p)||S==2&&Xs(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function Hu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Fi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),S=c.Ua;const U=!S;S=new Gn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xe(S,"https"),qs(S),U?_i(S.toString(),v):Zo(S.toString(),v)}else xt(2);c.I=0,c.l&&c.l.pa(p),Fu(c),La(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Fu(c){if(c.I=0,c.ja=[],c.l){const p=Yo(c.h);(p.length!=0||c.i.length!=0)&&(Y(c.ja,p),Y(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function Gu(c,p,v){var S=v instanceof Gn?Oe(v):new Gn(v);if(S.g!="")p&&(S.g=p+"."+S.g),Pr(S,S.u);else{var U=f.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const q=new Gn(null);S&&Xe(q,S),p&&(q.g=p),U&&Pr(q,U),v&&(q.h=v),S=q}return v=c.G,p=c.wa,v&&p&&Jt(S,v,p),Jt(S,"VER",c.ka),Ks(c,S),S}function Qu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new ne(new ji({ab:v})):new ne(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Qr(){}Qr.prototype.g=function(c,p){return new Sn(c,p)};function Sn(c,p){fe.call(this),this.g=new Fr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new hr(this)}T(Sn,fe),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){el(this.g)},Sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vn(c),c=v);p.i.push(new xe(p.Ya++,c)),p.I==3&&Hi(p)},Sn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,Sn.Z.N.call(this)};function Ku(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(Ku,qe);function Xu(){cn.call(this),this.status=1}T(Xu,cn);function hr(c){this.g=c}T(hr,Yu),hr.prototype.ra=function(){ee(this.g,"a")},hr.prototype.qa=function(c){ee(this.g,new Ku(c))},hr.prototype.pa=function(c){ee(this.g,new Xu)},hr.prototype.oa=function(){ee(this.g,"b")},Qr.prototype.createWebChannel=Qr.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,xT=function(){return new Qr},NT=function(){return or()},DT=de,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,hh=fn,dn.COMPLETE="complete",IT=dn,Bs.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",fe.prototype.listen=fe.prototype.J,ql=Bs,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,CT=ne}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.9.2";class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Lo="12.3.0";const ba=new mg("@firebase/firestore");function po(){return ba.logLevel}function ht(r,...t){if(ba.logLevel<=Ut.DEBUG){const n=t.map(Cg);ba.debug(`Firestore (${Lo}): ${r}`,...n)}}function Or(r,...t){if(ba.logLevel<=Ut.ERROR){const n=t.map(Cg);ba.error(`Firestore (${Lo}): ${r}`,...n)}}function Co(r,...t){if(ba.logLevel<=Ut.WARN){const n=t.map(Cg);ba.warn(`Firestore (${Lo}): ${r}`,...n)}}function Cg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Tt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,OT(r,s,n)}function OT(r,t,n){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Or(s),new Error(s)}function $t(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||OT(t,o,s)}function wt(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Vr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class MT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class d2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class m2{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Rs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Rs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new MT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class g2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new g2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new T0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Ig{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Pt(r,t){return r<t?-1:r>t?1:0}function Gm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Rm(o)===Rm(u)?Pt(o,u):Rm(o)?1:-1}return Pt(r.length,t.length)}const v2=55296,E2=57343;function Rm(r){const t=r.charCodeAt(0);return t>=v2&&t<=E2}function Io(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const b0="__name__";class $i{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=$i.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const s=$i.isNumericId(t),o=$i.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?$i.extractNumericId(t).compare($i.extractNumericId(n)):Gm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ws.fromString(t.substring(4,t.length-2))}}class oe extends $i{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const T2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends $i{construct(t,n,s){return new ln(t,n,s)}static isValidIdentifier(t){return T2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new ln([b0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(n)}static emptyPath(){return new ln([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(oe.fromString(t))}static fromName(t){return new yt(oe.fromString(t).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new oe(t.slice()))}}function VT(r,t,n){if(!n)throw new ct(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function b2(r,t,n,s){if(t===!0&&s===!0)throw new ct(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function S0(r){if(!yt.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function A0(r){if(yt.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Di(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new ct(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function ze(r,t){const n={typeString:r};return t&&(n.value=t),n}function Eu(r,t){if(!kT(r))throw new ct(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(W.INVALID_ARGUMENT,n);return!0}const w0=-62135596800,R0=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*R0);return new he(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<w0)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Eu(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-w0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:ze("string",he._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function S2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new he(n+1,0):new he(n,s));return new Is(o,yt.empty(),t)}function A2(r){return new Is(r.readTime,r.key,au)}class Is{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Is(St.min(),yt.empty(),au)}static max(){return new Is(St.max(),yt.empty(),au)}}function w2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}const R2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Uo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==R2)throw r;ht("LocalStore","Unexpectedly lost primary lease")}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((o=>o?et.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new et(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function I2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(r){return r.name==="IndexedDbTransactionError"}class Xh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Xh.ce=-1;const Dg=-1;function $h(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function D2(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const LT="";function N2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=C0(t)),t=x2(r.get(n),t);return C0(t)}function x2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case LT:n+="";break;default:n+=u}}return n}function C0(r){return r+LT+""}function I0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ls(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function UT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ve{constructor(t,n){this.comparator=t,this.root=n||on.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eh(this.root,t,this.comparator,!0)}}class eh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new on(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new on(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(t){return new D0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class D0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Wn([])}unionWith(t){let n=new Ge(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PT("Invalid base64 string: "+u):u}})(t);return new un(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new un(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const O2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(r){if($t(!!r,39018),typeof r=="string"){let t=0;const n=O2.exec(r);if($t(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ce(r.seconds),nanos:Ce(r.nanos)}}function Ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ns(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const zT="server_timestamp",jT="__type__",BT="__previous_value__",qT="__local_write_time__";function Ng(r){return(r?.mapValue?.fields||{})[jT]?.stringValue===zT}function Jh(r){const t=r.mapValue.fields[BT];return Ng(t)?Jh(t):t}function ou(r){const t=Ds(r.mapValue.fields[qT].timestampValue);return new he(t.seconds,t.nanos)}class M2{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Ch="(default)";class lu{constructor(t,n){this.projectId=t,this.database=n||Ch}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(t){return t instanceof lu&&t.projectId===this.projectId&&t.database===this.database}}const HT="__type__",V2="__max__",nh={mapValue:{}},FT="__vector__",Ih="value";function xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ng(r)?4:L2(r)?9007199254740991:k2(r)?10:11:Tt(28295,{value:r})}function ir(r,t){if(r===t)return!0;const n=xs(r);if(n!==xs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ou(r).isEqual(ou(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ds(o.timestampValue),m=Ds(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Ns(o.bytesValue).isEqual(Ns(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ce(o.geoPointValue.latitude)===Ce(u.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ce(o.integerValue)===Ce(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ce(o.doubleValue),m=Ce(u.doubleValue);return f===m?Rh(f)===Rh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Io(r.arrayValue.values||[],t.arrayValue.values||[],ir);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(I0(f)!==I0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ir(f[g],m[g])))return!1;return!0})(r,t);default:return Tt(52216,{left:r})}}function uu(r,t){return(r.values||[]).find((n=>ir(n,t)))!==void 0}function Do(r,t){if(r===t)return 0;const n=xs(r),s=xs(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ce(u.integerValue||u.doubleValue),g=Ce(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return N0(r.timestampValue,t.timestampValue);case 4:return N0(ou(r),ou(t));case 5:return Gm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Ns(u),g=Ns(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Pt(m[y],g[y]);if(E!==0)return E}return Pt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Pt(Ce(u.latitude),Ce(f.latitude));return m!==0?m:Pt(Ce(u.longitude),Ce(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return x0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Ih]?.arrayValue,E=g[Ih]?.arrayValue,T=Pt(y?.values?.length||0,E?.values?.length||0);return T!==0?T:x0(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const w=Gm(g[T],E[T]);if(w!==0)return w;const x=Do(m[g[T]],y[E[T]]);if(x!==0)return x}return Pt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function N0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=Ds(r),s=Ds(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function x0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Do(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function No(r){return Qm(r)}function Qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ns(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return yt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Qm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Qm(n.fields[f])}`;return o+"}"})(r.mapValue):Tt(61005,{value:r})}function fh(r){switch(xs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jh(r);return t?16+fh(t):16;case 5:return 2*r.stringValue.length;case 6:return Ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ls(s.fields,((u,f)=>{o+=u.length+fh(f)})),o})(r.mapValue);default:throw Tt(13486,{value:r})}}function O0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Ym(r){return!!r&&"integerValue"in r}function xg(r){return!!r&&"arrayValue"in r}function M0(r){return!!r&&"nullValue"in r}function V0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function k2(r){return(r?.mapValue?.fields||{})[HT]?.stringValue===FT}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ls(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Xl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return t}return{...r}}function L2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===V2}class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(n)}setAll(t){let n=ln.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ir(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ls(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Ln(Xl(this.value))}}function GT(r){const t=[];return Ls(r.fields,((n,s)=>{const o=new ln([n]);if(dh(s)){const u=GT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Wn(t)}class yn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new yn(t,0,St.min(),St.min(),St.min(),Ln.empty(),0)}static newFoundDocument(t,n,s,o){return new yn(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new yn(t,2,n,St.min(),St.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new yn(t,3,n,St.min(),St.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dh{constructor(t,n){this.position=t,this.inclusive=n}}function k0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=Do(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function L0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ir(r.position[n],t.position[n]))return!1;return!0}class Nh{constructor(t,n="asc"){this.field=t,this.dir=n}}function U2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class QT{}class Pe extends QT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new z2(t,n,s):n==="array-contains"?new q2(t,s):n==="in"?new H2(t,s):n==="not-in"?new F2(t,s):n==="array-contains-any"?new G2(t,s):new Pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new j2(t,s):new B2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends QT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ni(t,n)}matches(t){return YT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YT(r){return r.op==="and"}function KT(r){return P2(r)&&YT(r)}function P2(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function Km(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+No(r.value);if(KT(r))return r.filters.map((t=>Km(t))).join(",");{const t=r.filters.map((n=>Km(n))).join(",");return`${r.op}(${t})`}}function XT(r,t){return r instanceof Pe?(function(s,o){return o instanceof Pe&&s.op===o.op&&s.field.isEqual(o.field)&&ir(s.value,o.value)})(r,t):r instanceof Ni?(function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&XT(f,o.filters[m])),!0):!1})(r,t):void Tt(19439)}function $T(r){return r instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(r):r instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"})(r):"Filter"}class z2 extends Pe{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class j2 extends Pe{constructor(t,n){super(t,"in",n),this.keys=JT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class B2 extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=JT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function JT(r,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class q2 extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xg(n)&&uu(n.arrayValue,this.value)}}class H2 extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class F2 extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class G2 extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>uu(this.value.arrayValue,s)))}}class Q2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function U0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new Q2(r,t,n,s,o,u,f)}function Og(r){const t=wt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Km(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),$h(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>No(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>No(s))).join(",")),t.Te=n}return t.Te}function Mg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!U2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!XT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!L0(r.startAt,t.startAt)&&L0(r.endAt,t.endAt)}function Xm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Tu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y2(r,t,n,s,o,u,f,m){return new Tu(r,t,n,s,o,u,f,m)}function Vg(r){return new Tu(r)}function P0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ZT(r){return r.collectionGroup!==null}function $l(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ge(ln.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Nh(u,s))})),n.has(ln.keyField().canonicalString())||t.Ie.push(new Nh(ln.keyField(),s))}return t.Ie}function Zi(r){const t=wt(r);return t.Ee||(t.Ee=K2(t,$l(r))),t.Ee}function K2(r,t){if(r.limitType==="F")return U0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Nh(o.field,u)}));const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return U0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function $m(r,t){const n=r.filters.concat([t]);return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Jm(r,t,n){return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Zh(r,t){return Mg(Zi(r),Zi(t))&&r.limitType===t.limitType}function WT(r){return`${Og(Zi(r))}|lt:${r.limitType}`}function yo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>$T(o))).join(", ")}]`),$h(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(Zi(r))}; limitType=${r.limitType})`}function Wh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=k0(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,$l(s),o)||s.endAt&&!(function(f,m,g){const y=k0(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,$l(s),o))})(r,t)}function X2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tb(r){return(t,n)=>{let s=!1;for(const o of $l(r)){const u=$2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function $2(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Do(g,y):Tt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}class Aa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}const J2=new ve(yt.comparator);function Mr(){return J2}const eb=new ve(yt.comparator);function Hl(...r){let t=eb;for(const n of r)t=t.insert(n.key,n);return t}function nb(r){let t=eb;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ma(){return Jl()}function ib(){return Jl()}function Jl(){return new Aa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Z2=new ve(yt.comparator),W2=new Ge(yt.comparator);function zt(...r){let t=W2;for(const n of r)t=t.add(n);return t}const tI=new Ge(Pt);function eI(){return tI}function kg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(t)?"-0":t}}function rb(r){return{integerValue:""+r}}function nI(r,t){return D2(t)?rb(t):kg(r,t)}class tf{constructor(){this._=void 0}}function iI(r,t,n){return r instanceof xh?(function(o,u){const f={fields:{[jT]:{stringValue:zT},[qT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ng(u)&&(u=Jh(u)),u&&(f.fields[BT]=u),{mapValue:f}})(n,t):r instanceof cu?ab(r,t):r instanceof hu?ob(r,t):(function(o,u){const f=sb(o,u),m=z0(f)+z0(o.Ae);return Ym(f)&&Ym(o.Ae)?rb(m):kg(o.serializer,m)})(r,t)}function rI(r,t,n){return r instanceof cu?ab(r,t):r instanceof hu?ob(r,t):n}function sb(r,t){return r instanceof Oh?(function(s){return Ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class xh extends tf{}class cu extends tf{constructor(t){super(),this.elements=t}}function ab(r,t){const n=lb(t);for(const s of r.elements)n.some((o=>ir(o,s)))||n.push(s);return{arrayValue:{values:n}}}class hu extends tf{constructor(t){super(),this.elements=t}}function ob(r,t){let n=lb(t);for(const s of r.elements)n=n.filter((o=>!ir(o,s)));return{arrayValue:{values:n}}}class Oh extends tf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function z0(r){return Ce(r.integerValue||r.doubleValue)}function lb(r){return xg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function sI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof cu&&o instanceof cu||s instanceof hu&&o instanceof hu?Io(s.elements,o.elements,ir):s instanceof Oh&&o instanceof Oh?ir(s.Ae,o.Ae):s instanceof xh&&o instanceof xh})(r.transform,t.transform)}class aI{constructor(t,n){this.version=t,this.transformResults=n}}class Un{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Un}static exists(t){return new Un(void 0,t)}static updateTime(t){return new Un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ef{}function ub(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new nf(r.key,Un.none()):new bu(r.key,r.data,Un.none());{const n=r.data,s=Ln.empty();let o=new Ge(ln.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Us(r.key,s,new Wn(o.toArray()),Un.none())}}function oI(r,t,n){r instanceof bu?(function(o,u,f){const m=o.value.clone(),g=B0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Us?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=B0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(cb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Zl(r,t,n,s){return r instanceof bu?(function(u,f,m,g){if(!mh(u.precondition,f))return m;const y=u.value.clone(),E=q0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Us?(function(u,f,m,g){if(!mh(u.precondition,f))return m;const y=q0(u.fieldTransforms,g,f),E=f.data;return E.setAll(cb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function lI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=sb(s.transform,o||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,u))}return n||null}function j0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,f)=>sI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class bu extends ef{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Us extends ef{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cb(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function B0(r,t,n){const s=new Map;$t(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,rI(f,m,n[o]))}return s}function q0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,iI(u,f,t))}return s}class nf extends ef{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uI extends ef{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&oI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Zl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Zl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=ib();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=ub(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,((n,s)=>j0(n,s)))&&Io(this.baseMutations,t.baseMutations,((n,s)=>j0(n,s)))}}class Lg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return Z2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Lg(t,n,s,o)}}class hI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ue,Gt;function dI(r){switch(r){case W.OK:return Tt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function hb(r){if(r===void 0)return Or("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ue.OK:return W.OK;case Ue.CANCELLED:return W.CANCELLED;case Ue.UNKNOWN:return W.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return W.INTERNAL;case Ue.UNAVAILABLE:return W.UNAVAILABLE;case Ue.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ue.NOT_FOUND:return W.NOT_FOUND;case Ue.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ue.ABORTED:return W.ABORTED;case Ue.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ue.DATA_LOSS:return W.DATA_LOSS;default:return Tt(39323,{code:r})}}(Gt=Ue||(Ue={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function mI(){return new TextEncoder}const gI=new ws([4294967295,4294967295],0);function H0(r){const t=mI().encode(r),n=new RT;return n.update(t),new Uint8Array(n.digest())}function F0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ws([n,s],0),new ws([o,u],0)]}class Ug{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ws.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ws.fromNumber(s)));return o.compare(gI)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=H0(t),[s,o]=F0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Ug(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=H0(t),[s,o]=F0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Su.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new rf(St.min(),o,new ve(Pt),Mr(),zt())}}class Su{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Su(s,n,zt(),zt(),zt())}}class gh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class fb{constructor(t,n){this.targetId=t,this.Ce=n}}class db{constructor(t,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class G0{constructor(){this.ve=0,this.Fe=Q0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}})),new Su(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Q0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Mr(),this.Je=ih(),this.He=ih(),this.Ye=new ve(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new yt(u.path);this.et(n,f,yn.newNoDocument(f,St.min()))}else $t(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ns(s).toUint8Array()}catch(g){if(g instanceof PT)return Co("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ug(f,o,u)}catch(g){return Co(g instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Xm(m.target)){const g=new yt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,yn.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=zt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new rf(t,n,this.Ye,this.je,s);return this.je=Mr(),this.Je=ih(),this.He=ih(),this.Ye=new ve(Pt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new G0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ge(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ge(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new G0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ih(){return new ve(yt.comparator)}function Q0(){return new ve(yt.comparator)}const yI={asc:"ASCENDING",desc:"DESCENDING"},_I={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vI={and:"AND",or:"OR"};class EI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Zm(r,t){return r.useProto3Json||$h(t)?t:{value:t}}function Mh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function TI(r,t){return Mh(r,t.toTimestamp())}function Wi(r){return $t(!!r,49232),St.fromTimestamp((function(n){const s=Ds(n);return new he(s.seconds,s.nanos)})(r))}function Pg(r,t){return Wm(r,t).canonicalString()}function Wm(r,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function gb(r){const t=oe.fromString(r);return $t(Eb(t),10190,{key:t.toString()}),t}function tg(r,t){return Pg(r.databaseId,t.path)}function Cm(r,t){const n=gb(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(yb(n))}function pb(r,t){return Pg(r.databaseId,t)}function bI(r){const t=gb(r);return t.length===4?oe.emptyPath():yb(t)}function eg(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yb(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y0(r,t,n){return{name:tg(r,t),fields:n.value.mapValue.fields}}function SI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?($t(E===void 0||typeof E=="string",58123),un.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),un.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:hb(y.code);return new ct(E,y.message||"")})(f);n=new db(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(r,s.document.name),u=Wi(s.document.updateTime),f=s.document.createTime?Wi(s.document.createTime):St.min(),m=new Ln({mapValue:{fields:s.document.fields}}),g=yn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new gh(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Cm(r,s.document),u=s.readTime?Wi(s.readTime):St.min(),f=yn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Cm(r,s.document),u=s.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new fI(o,u),m=s.targetId;n=new fb(m,f)}}return n}function AI(r,t){let n;if(t instanceof bu)n={update:Y0(r,t.key,t.value)};else if(t instanceof nf)n={delete:tg(r,t.key)};else if(t instanceof Us)n={update:Y0(r,t.key,t.data),updateMask:MI(t.fieldMask)};else{if(!(t instanceof uI))return Tt(16599,{Vt:t.type});n={verify:tg(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:TI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(r,t.precondition)),n}function wI(r,t){return r&&r.length>0?($t(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Wi(o.updateTime):Wi(u);return f.isEqual(St.min())&&(f=Wi(u)),new aI(f,o.transformResults||[])})(n,t)))):[]}function RI(r,t){return{documents:[pb(r,t.path)]}}function CI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pb(r,o);const u=(function(y){if(y.length!==0)return vb(Ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:_o(w.field),direction:NI(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Zm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function II(r){let t=bI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=_b(T);return w instanceof Ni&&KT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(Y){return new Nh(vo(Y.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,$h(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(T){const w=!!T.before,x=T.values||[];return new Dh(x,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,x=T.values||[];return new Dh(x,w)})(n.endAt)),Y2(t,o,f,u,m,"F",g,y)}function DI(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _b(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=vo(n.unaryFilter.field);return Pe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pe.create(vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((s=>_b(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(r):Tt(30097,{filter:r})}function NI(r){return yI[r]}function xI(r){return _I[r]}function OI(r){return vI[r]}function _o(r){return{fieldPath:r.canonicalString()}}function vo(r){return ln.fromServerFormat(r.fieldPath)}function vb(r){return r instanceof Pe?(function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(M0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(M0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:xI(n.op),value:n.value}}})(r):r instanceof Ni?(function(n){const s=n.getFilters().map((o=>vb(o)));return s.length===1?s[0]:{compositeFilter:{op:OI(n.op),filters:s}}})(r):Tt(54877,{filter:r})}function MI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Eb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Es{constructor(t,n,s,o,u=St.min(),f=St.min(),m=un.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VI{constructor(t){this.yt=t}}function kI(r){const t=II({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jm(t,t.limit,"L"):t}class LI{constructor(){this.Cn=new UI}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(Is.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(Is.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class UI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ge(oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ge(oe.comparator)).toArray()}}const K0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tb=41943040;class kn{static withCacheSize(t){return new kn(t,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(Tb,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class xo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}const X0="LruGarbageCollector",PI=1048576;function $0([r,t],[n,s]){const o=Pt(r,n);return o===0?Pt(t,s):o}class zI{constructor(t){this.Ir=t,this.buffer=new Ge($0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(X0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?ht(X0,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)}))}}class BI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Xh.ce);const s=new zI(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(K0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),po()<=Ut.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function qI(r,t){return new BI(r,t)}class HI{constructor(){this.changes=new Aa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class FI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class GI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Zl(s.mutation,o,Wn.empty(),he.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const o=ma();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Hl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=ma();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=Mr();const f=Jl(),m=(function(){return Jl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Us)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Zl(E.mutation,y,E.mutation.getFieldMask(),he.now())):f.set(y.key,Wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new FI(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Jl();let o=new ve(((f,m)=>f-m)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Wn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const T=(o.get(m.batchId)||zt()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,T=ib();E.forEach((w=>{if(!u.has(w)){const x=ub(n.get(w),s.get(w));x!==null&&T.set(w,x),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,T))}return et.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ZT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(ma());let m=au,g=u;return f.next((y=>et.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,zt()))).next((E=>({batchId:m,changes:nb(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(g=>{const y=(function(T,w){return new Tu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,yn.newInvalidDocument(E)))}));let m=Hl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Zl(E.mutation,y,Wn.empty(),he.now()),Wh(n,y)&&(m=m.insert(g,y))})),m}))}}class QI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Wi(o.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:kI(o.bundledQuery),readTime:Wi(o.readTime)}})(n)),et.resolve()}}class YI{constructor(){this.overlays=new ve(yt.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ma();return et.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=ma(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ve(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ma(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ma(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return et.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new hI(n,s));let u=this.qr.get(n);u===void 0&&(u=zt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class KI{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}class zg{constructor(){this.Qr=new Ge(Je.$r),this.Ur=new Ge(Je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Je(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Je(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new oe([])),s=new Je(n,t),o=new Je(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new oe([])),s=new Je(n,t),o=new Je(n,t+1);let u=zt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Je(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Je{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class XI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Je.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new cI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Dg:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Je(n,0),o=new Je(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ge(Pt);return n.forEach((o=>{const u=new Je(o,0),f=new Je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Je(new yt(u),0);let m=new Ge(Pt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),et.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,(o=>{const u=new Je(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Je(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $I{constructor(t){this.ri=t,this.docs=(function(){return new ve(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(t,n){let s=Mr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Mr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||w2(A2(E),s)<=0||(o.has(E.key)||Wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}ii(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new JI(this)}getSize(t){return et.resolve(this.size)}}class JI extends HI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class ZI{constructor(t){this.persistence=t,this.si=new Aa((n=>Og(n)),Mg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new zg,this.targetCount=0,this.ai=xo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}class bb{constructor(t,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new KI,this.referenceDelegate=t(this),this.Pi=new ZI(this),this.indexManager=new LI,this.remoteDocumentCache=(function(o){return new $I(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new VI(n),this.Ii=new QI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new YI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new XI(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new WI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class WI extends C2{constructor(t){super(),this.currentSequenceNumber=t}}class jg{constructor(t){this.persistence=t,this.Ri=new zg,this.Vi=null}static mi(t){return new jg(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Vh{constructor(t,n){this.persistence=t,this.pi=new Aa((s=>N2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=qI(this,n)}static mi(t,n){return new Vh(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return et.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?et.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=fh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=zt(),o=zt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bg(t,n.fromCache,s,o)}}class tD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class eD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QA()?8:I2(_n())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new tD;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(po()<=Ut.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(po()<=Ut.DEBUG&&ht("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(po()<=Ut.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(n))):et.resolve())}ys(t,n){if(P0(n))return et.resolve(null);let s=Zi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),s=Zi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=zt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Jm(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return P0(n)||o.isEqual(St.min())?et.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?et.resolve(null):(po()<=Ut.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.vs(t,f,n,S2(o,au)).next((m=>m)))}))}Ds(t,n){let s=new Ge(tb(t));return n.forEach(((o,u)=>{Wh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return po()<=Ut.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(t,n,Is.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const qg="LocalStore",nD=3e8;class iD{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ve(Pt),this.xs=new Aa((u=>Og(u)),Mg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new GI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function rD(r,t,n,s){return new iD(r,t,n,s)}async function Sb(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=zt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function sD(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const T=y.batch,w=T.keys();let x=et.resolve();return w.forEach((Y=>{x=x.next((()=>E.getEntry(g,Y))).next((Q=>{const H=y.docVersions.get(Y);$t(H!==null,48541),Q.version.compareTo(H)<0&&(T.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=zt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Ab(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function aD(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let x=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(un.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(T,x),(function(Q,H,tt){return Q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=nD?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(w,x,E)&&m.push(n.Pi.updateTargetData(u,x))}));let g=Mr(),y=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(oD(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(St.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return et.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function oD(r,t,n){let s=zt(),o=zt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Mr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ht(qg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function lD(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Dg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function uD(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,et.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Es(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function ng(r,t,n){const s=wt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Po(f))throw f;ht(qg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function J0(r,t,n){const s=wt(r);let o=St.min(),u=zt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const T=wt(g),w=T.xs.get(E);return w!==void 0?et.resolve(T.Ms.get(w)):T.Pi.getTargetData(y,E)})(s,f,Zi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:zt()))).next((m=>(cD(s,X2(t),m),{documents:m,Qs:u})))))}function cD(r,t,n){let s=r.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class Z0{constructor(){this.activeTargetIds=eI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hD{constructor(){this.Mo=new Z0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Z0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fD{Oo(t){}shutdown(){}}const W0="ConnectivityMonitor";class tE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(W0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(W0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function ig(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const Im="RestConnection",dD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=ig(),m=this.zo(t,n.toUriEncodedString());ht(Im,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=Mo(y);return this.Jo(t,m,g,s,E).then((T=>(ht(Im,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw Co(Im,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=dD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class gD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const gn="WebChannelConnection";class pD extends mD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=ig();return new Promise(((m,g)=>{const y=new CT;y.setWithCredentials(!0),y.listenOnce(IT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case hh.NO_ERROR:const T=y.getResponseJson();ht(gn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case hh.TIMEOUT:ht(gn,`RPC '${t}' ${f} timed out`),g(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const w=y.getStatus();if(ht(gn,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const Y=x?.error;if(Y&&Y.status&&Y.message){const Q=(function(tt){const st=tt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(st)>=0?st:W.UNKNOWN})(Y.status);g(new ct(Q,Y.message))}else g(new ct(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct(W.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(gn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ht(gn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=ig(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=xT(),m=NT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ht(gn,`Creating RPC '${t}' stream ${o}: ${E}`,g);const T=f.createWebChannel(E,g);this.I_(T);let w=!1,x=!1;const Y=new gD({Yo:H=>{x?ht(gn,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(w||(ht(gn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),ht(gn,`RPC '${t}' stream ${o} sending:`,H),T.send(H))},Zo:()=>T.close()}),Q=(H,tt,st)=>{H.listen(tt,(nt=>{try{st(nt)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return Q(T,ql.EventType.OPEN,(()=>{x||(ht(gn,`RPC '${t}' stream ${o} transport opened.`),Y.o_())})),Q(T,ql.EventType.CLOSE,(()=>{x||(x=!0,ht(gn,`RPC '${t}' stream ${o} transport closed`),Y.a_(),this.E_(T))})),Q(T,ql.EventType.ERROR,(H=>{x||(x=!0,Co(gn,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Y.a_(new ct(W.UNAVAILABLE,"The operation could not be completed")))})),Q(T,ql.EventType.MESSAGE,(H=>{if(!x){const tt=H.data[0];$t(!!tt,16349);const st=tt,nt=st?.error||st[0]?.error;if(nt){ht(gn,`RPC '${t}' stream ${o} received error:`,nt);const ot=nt.status;let ft=(function(A){const C=Ue[A];if(C!==void 0)return hb(C)})(ot),ut=nt.message;ft===void 0&&(ft=W.INTERNAL,ut="Unknown error status: "+ot+" with message "+nt.message),x=!0,Y.a_(new ct(ft,ut)),T.close()}else ht(gn,`RPC '${t}' stream ${o} received:`,tt),Y.u_(tt)}})),Q(m,DT.STAT_EVENT,(H=>{H.stat===Fm.PROXY?ht(gn,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Fm.NOPROXY&&ht(gn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Dm(){return typeof document<"u"?document:null}function sf(r){return new EI(r,!0)}class wb{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const eE="PersistentStream";class Rb{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ct(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(eE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(eE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yD extends Rb{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=SI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Wi(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=eg(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Xm(g)?{documents:RI(u,g)}:{query:CI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=mb(u,f.resumeToken);const y=Zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=Mh(u,f.snapshotVersion.toTimestamp());const y=Zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=DI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=eg(this.serializer),n.removeTarget=t,this.q_(n)}}class _D extends Rb{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=wI(t.writeResults,t.commitTime),s=Wi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=eg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>AI(this.serializer,s)))};this.q_(n)}}class vD{}class ED extends vD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Wm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(W.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Wm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sa="RemoteStore";class bD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{wa(this)&&(ht(Sa,"Restarting streams for network reachability change."),await(async function(g){const y=wt(g);y.Ea.add(4),await Au(y),y.Ra.set("Unknown"),y.Ea.delete(4),await af(y)})(this))}))})),this.Ra=new TD(s,o)}}async function af(r){if(wa(r))for(const t of r.da)await t(!0)}async function Au(r){for(const t of r.da)await t(!1)}function Cb(r,t){const n=wt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qg(n)?Gg(n):zo(n).O_()&&Fg(n,t))}function Hg(r,t){const n=wt(r),s=zo(n);n.Ia.delete(t),s.O_()&&Ib(n,t),n.Ia.size===0&&(s.O_()?s.L_():wa(n)&&n.Ra.set("Unknown"))}function Fg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zo(r).Y_(t)}function Ib(r,t){r.Va.Ue(t),zo(r).Z_(t)}function Gg(r){r.Va=new pI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),zo(r).start(),r.Ra.ua()}function Qg(r){return wa(r)&&!zo(r).x_()&&r.Ia.size>0}function wa(r){return wt(r).Ea.size===0}function Db(r){r.Va=void 0}async function SD(r){r.Ra.set("Online")}async function AD(r){r.Ia.forEach(((t,n)=>{Fg(r,t)}))}async function wD(r,t){Db(r),Qg(r)?(r.Ra.ha(t),Gg(r)):r.Ra.set("Unknown")}async function RD(r,t,n){if(r.Ra.set("Online"),t instanceof db&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ht(Sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await kh(r,s)}else if(t instanceof gh?r.Va.Ze(t):t instanceof fb?r.Va.st(t):r.Va.tt(t),!n.isEqual(St.min()))try{const s=await Ab(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),Ib(u,g);const T=new Es(E.target,g,y,E.sequenceNumber);Fg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ht(Sa,"Failed to raise snapshot:",s),await kh(r,s)}}async function kh(r,t,n){if(!Po(t))throw t;r.Ea.add(1),await Au(r),r.Ra.set("Offline"),n||(n=()=>Ab(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(Sa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await af(r)}))}function Nb(r,t){return t().catch((n=>kh(r,n,t)))}async function of(r){const t=wt(r),n=Os(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dg;for(;CD(t);)try{const o=await lD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,ID(t,o)}catch(o){await kh(t,o)}xb(t)&&Ob(t)}function CD(r){return wa(r)&&r.Ta.length<10}function ID(r,t){r.Ta.push(t);const n=Os(r);n.O_()&&n.X_&&n.ea(t.mutations)}function xb(r){return wa(r)&&!Os(r).x_()&&r.Ta.length>0}function Ob(r){Os(r).start()}async function DD(r){Os(r).ra()}async function ND(r){const t=Os(r);for(const n of r.Ta)t.ea(n.mutations)}async function xD(r,t,n){const s=r.Ta.shift(),o=Lg.from(s,t,n);await Nb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await of(r)}async function OD(r,t){t&&Os(r).X_&&await(async function(s,o){if((function(f){return dI(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();Os(s).B_(),await Nb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await of(s)}})(r,t),xb(r)&&Ob(r)}async function nE(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ht(Sa,"RemoteStore received new credentials");const s=wa(n);n.Ea.add(3),await Au(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await af(n)}async function MD(r,t){const n=wt(r);t?(n.Ea.delete(2),await af(n)):t||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function zo(r){return r.ma||(r.ma=(function(n,s,o){const u=wt(n);return u.sa(),new yD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:SD.bind(null,r),t_:AD.bind(null,r),r_:wD.bind(null,r),H_:RD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Qg(r)?Gg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Db(r))}))),r.ma}function Os(r){return r.fa||(r.fa=(function(n,s,o){const u=wt(n);return u.sa(),new _D(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:DD.bind(null,r),r_:OD.bind(null,r),ta:ND.bind(null,r),na:xD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await of(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(Sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Yg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Yg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(r,t){if(Or("AsyncQueue",`${t}: ${r}`),Po(r))return new ct(W.UNAVAILABLE,`${t}: ${r}`);throw r}class So{static emptySet(t){return new So(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof So)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new So;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class iE{constructor(){this.ga=new ve(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Oo{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Oo(t,n,So.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class VD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class kD{constructor(){this.queries=rE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=rE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function rE(){return new Aa((r=>WT(r)),Zh)}async function Mb(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new VD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Kg(f,`Initialization of query '${yo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Xg(n)}async function Vb(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function LD(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Xg(n)}function UD(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Xg(r){r.Ca.forEach((t=>{t.next()}))}var rg,sE;(sE=rg||(rg={})).Ma="default",sE.Cache="cache";class kb{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rg.Cache}}class Lb{constructor(t){this.key=t}}class Ub{constructor(t){this.key=t}}class PD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=tb(t),this.tu=new So(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new iE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const w=o.get(E),x=Wh(this.query,T)?T:null,Y=!!w&&this.mutatedKeys.has(w.key),Q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let H=!1;w&&x?w.data.isEqual(x.data)?Y!==Q&&(s.track({type:3,doc:x}),H=!0):this.su(w,x)||(s.track({type:2,doc:x}),H=!0,(g&&this.eu(x,g)>0||y&&this.eu(x,y)<0)&&(m=!0)):!w&&x?(s.track({type:0,doc:x}),H=!0):w&&!x&&(s.track({type:1,doc:w}),H=!0,(g||y)&&(m=!0)),H&&(x?(f=f.add(x),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,T)=>(function(x,Y){const Q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:H})}};return Q(x)-Q(Y)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Oo(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Ub(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Lb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $g="SyncEngine";class zD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class jD{constructor(t){this.key=t,this.hu=!1}}class BD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Aa((m=>WT(m)),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new ve(yt.comparator),this.Au=new Map,this.Ru=new zg,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qD(r,t,n=!0){const s=Hb(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Pb(s,t,n,!0),o}async function HD(r,t){const n=Hb(r);await Pb(n,t,!0,!1)}async function Pb(r,t,n,s){const o=await uD(r.localStore,Zi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await FD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Cb(r.remoteStore,o),m}async function FD(r,t,n,s,o){r.pu=(T,w,x)=>(async function(Q,H,tt,st){let nt=H.view.ru(tt);nt.Cs&&(nt=await J0(Q.localStore,H.query,!1).then((({documents:R})=>H.view.ru(R,nt))));const ot=st&&st.targetChanges.get(H.targetId),ft=st&&st.targetMismatches.get(H.targetId)!=null,ut=H.view.applyChanges(nt,Q.isPrimaryClient,ot,ft);return oE(Q,H.targetId,ut.au),ut.snapshot})(r,T,w,x);const u=await J0(r.localStore,t,!0),f=new PD(t,u.Qs),m=f.ru(u.documents),g=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);oE(r,n,y.au);const E=new zD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function GD(r,t,n){const s=wt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Zh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ng(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hg(s.remoteStore,o.targetId),sg(s,o.targetId)})).catch(Uo)):(sg(s,o.targetId),await ng(s.localStore,o.targetId,!0))}async function QD(r,t){const n=wt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hg(n.remoteStore,s.targetId))}async function YD(r,t,n){const s=tN(r);try{const o=await(function(f,m){const g=wt(f),y=he.now(),E=m.reduce(((x,Y)=>x.add(Y.key)),zt());let T,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let Y=Mr(),Q=zt();return g.Ns.getEntries(x,E).next((H=>{Y=H,Y.forEach(((tt,st)=>{st.isValidDocument()||(Q=Q.add(tt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(x,Y))).next((H=>{T=H;const tt=[];for(const st of m){const nt=lI(st,T.get(st.key).overlayedDocument);nt!=null&&tt.push(new Us(st.key,nt,GT(nt.value.mapValue),Un.exists(!0)))}return g.mutationQueue.addMutationBatch(x,y,tt,m)})).next((H=>{w=H;const tt=H.applyToLocalDocumentSet(T,Q);return g.documentOverlayCache.saveOverlays(x,H.batchId,tt)}))})).then((()=>({batchId:w.batchId,changes:nb(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ve(Pt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await wu(s,o.changes),await of(s.remoteStore)}catch(o){const u=Kg(o,"Failed to persist write");n.reject(u)}}async function zb(r,t){const n=wt(r);try{const s=await aD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?$t(f.hu,14607):o.removedDocuments.size>0&&($t(f.hu,42227),f.hu=!1))})),await wu(n,s,t)}catch(s){await Uo(s)}}function aE(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=wt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(y=!0)})),y&&Xg(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function KD(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ve(yt.comparator);f=f.insert(u,yn.newNoDocument(u,St.min()));const m=zt().add(u),g=new rf(St.min(),new Map,new ve(Pt),f,m);await zb(s,g),s.du=s.du.remove(u),s.Au.delete(t),Jg(s)}else await ng(s.localStore,t,!1).then((()=>sg(s,t,n))).catch(Uo)}async function XD(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await sD(n.localStore,t);Bb(n,s,null),jb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await Uo(o)}}async function $D(r,t,n){const s=wt(r);try{const o=await(function(f,m){const g=wt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>($t(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);Bb(s,t,n),jb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await wu(s,o)}catch(o){await Uo(o)}}function jb(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function Bb(r,t,n){const s=wt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function sg(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||qb(r,s)}))}function qb(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Hg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Jg(r))}function oE(r,t,n){for(const s of n)s instanceof Lb?(r.Ru.addReference(s.key,t),JD(r,s)):s instanceof Ub?(ht($g,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||qb(r,s.key)):Tt(19791,{wu:s})}function JD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ht($g,"New document in limbo: "+n),r.Eu.add(s),Jg(r))}function Jg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new yt(oe.fromString(t)),s=r.fu.next();r.Au.set(s,new jD(n)),r.du=r.du.insert(n,s),Cb(r.remoteStore,new Es(Zi(Vg(n.path)),s,"TargetPurposeLimboResolution",Xh.ce))}}async function wu(r,t,n){const s=wt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Bg.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=wt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(y,(w=>et.forEach(w.Es,(x=>E.persistence.referenceDelegate.addReference(T,w.targetId,x))).next((()=>et.forEach(w.ds,(x=>E.persistence.referenceDelegate.removeReference(T,w.targetId,x)))))))))}catch(T){if(!Po(T))throw T;ht(qg,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const x=E.Ms.get(w),Y=x.snapshotVersion,Q=x.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(w,Q)}}})(s.localStore,u))}async function ZD(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ht($g,"User change. New user:",t.toKey());const s=await Sb(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ct(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Ls)}}function WD(r,t){const n=wt(r),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let o=zt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Hb(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KD.bind(null,t),t.Pu.H_=LD.bind(null,t.eventManager),t.Pu.yu=UD.bind(null,t.eventManager),t}function tN(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$D.bind(null,t),t}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return rD(this.persistence,new eD,t.initialUser,this.serializer)}Cu(t){return new bb(jg.mi,this.serializer)}Du(t){return new hD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class eN extends Lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){$t(this.persistence.referenceDelegate instanceof Vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new bb((s=>Vh.mi(s,n)),this.serializer)}}class ag{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>aE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZD.bind(null,this.syncEngine),await MD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kD})()}createDatastore(t){const n=sf(t.databaseInfo.databaseId),s=(function(u){return new pD(u)})(t.databaseInfo);return(function(u,f,m,g){return new ED(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new bD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>aE(this.syncEngine,n,0)),(function(){return tE.v()?new tE:new fD})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const T=new BD(o,u,f,m,g,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ht(Sa,"RemoteStore shutting down."),s.Ea.add(5),await Au(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ag.provider={build:()=>new ag};class Fb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Or("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ms="FirestoreClient";class nN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(Ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(Ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Kg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Nm(r,t){r.asyncQueue.verifyOperationInProgress(),ht(Ms,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Sb(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function lE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await iN(r);ht(Ms,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>nE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>nE(t.remoteStore,o))),r._onlineComponents=t}async function iN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(Ms,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await Nm(r,new Lh)}}else ht(Ms,"Using default OfflineComponentProvider"),await Nm(r,new eN(void 0));return r._offlineComponents}async function Gb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(Ms,"Using user provided OnlineComponentProvider"),await lE(r,r._uninitializedComponentsProvider._online)):(ht(Ms,"Using default OnlineComponentProvider"),await lE(r,new ag))),r._onlineComponents}function rN(r){return Gb(r).then((t=>t.syncEngine))}async function og(r){const t=await Gb(r),n=t.eventManager;return n.onListen=qD.bind(null,t.syncEngine),n.onUnlisten=GD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=HD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=QD.bind(null,t.syncEngine),n}function sN(r,t,n={}){const s=new Rs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new Fb({next:w=>{E.Nu(),f.enqueueAndForget((()=>Vb(u,T))),w.fromCache&&g.source==="server"?y.reject(new ct(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new kb(m,E,{includeMetadataChanges:!0,qa:!0});return Mb(u,T)})(await og(r),r.asyncQueue,t,n,s))),s.promise}function Qb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const uE=new Map;const Yb="firestore.googleapis.com",cE=!0;class hE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yb,this.ssl=cE}else this.host=t.host,this.ssl=t.ssl??cE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Tb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PI)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}b2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new f2;switch(s.type){case"firstParty":return new p2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=uE.get(n);s&&(ht("ComponentProvider","Removing Datastore"),uE.delete(n),s.terminate())})(this),Promise.resolve()}}function aN(r,t,n,s={}){r=Di(r,lf);const o=Mo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(BE(`https://${m}`),qE("Firestore",!0)),u.host!==Yb&&u.host!==m&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!va(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=pn.MOCK_USER;else{y=UA(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new pn(T)}r._authCredentials=new d2(new MT(y,E))}}class Ra{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ra(this.firestore,t,this._query)}}class je{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Eu(n,je._jsonSchema))return new je(t,s||null,new yt(oe.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:ze("string",je._jsonSchemaVersion),referencePath:ze("string")};class Cs extends Ra{constructor(t,n,s){super(t,n,Vg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new yt(t))}withConverter(t){return new Cs(this.firestore,t,this._path)}}function Zg(r,t,...n){if(r=Be(r),VT("collection","path",t),r instanceof lf){const s=oe.fromString(t,...n);return A0(s),new Cs(r,null,s)}{if(!(r instanceof je||r instanceof Cs))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return A0(s),new Cs(r.firestore,null,s)}}function Wl(r,t,...n){if(r=Be(r),arguments.length===1&&(t=Ig.newId()),VT("doc","path",t),r instanceof lf){const s=oe.fromString(t,...n);return S0(s),new je(r,null,new yt(s))}{if(!(r instanceof je||r instanceof Cs))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return S0(s),new je(r.firestore,r instanceof Cs?r.converter:null,new yt(s))}}const fE="AsyncQueue";class dE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wb(this,"async_queue_retry"),this._c=()=>{const s=Dm();s&&ht(fE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Po(t))throw t;ht(fE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",mE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Yg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:mE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function mE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function gE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Vs extends lf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new dE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new dE(t),this._firestoreClient=void 0,await t}}}function oN(r,t){const n=typeof r=="object"?r:QE(),s=typeof r=="string"?r:Ch,o=pg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kA("firestore");u&&aN(o,...u)}return o}function uf(r){if(r._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lN(r),r._firestoreClient}function lN(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new M2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Qb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new nN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yi(un.fromBase64String(t))}catch(n){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new yi(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Eu(t,yi._jsonSchema))return yi.fromBase64String(t.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:ze("string",yi._jsonSchemaVersion),bytes:ze("string")};class Ru{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wg{constructor(t){this._methodName=t}}class tr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(t){if(Eu(t,tr._jsonSchema))return new tr(t.latitude,t.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:ze("string",tr._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class er{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Eu(t,er._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new er(t.vectorValues);throw new ct(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:ze("string",er._jsonSchemaVersion),vectorValues:ze("object")};const uN=/^__.*__$/;class cN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Us(t,this.data,this.fieldMask,n,this.fieldTransforms):new bu(t,this.data,n,this.fieldTransforms)}}class Kb{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Us(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class tp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new tp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Xb(this.Ac)&&uN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class hN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||sf(t)}Cc(t,n,s,o=!1){return new tp({Ac:t,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(r){const t=r._freezeSettings(),n=sf(r._databaseId);return new hN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function $b(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);ep("Data must be an object, but it was:",f,s);const m=Wb(s,f);let g,y;if(u.merge)g=new Wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=lg(t,T,n);if(!f.contains(w))throw new ct(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);eS(E,w)||E.push(w)}g=new Wn(E),y=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=f.fieldTransforms;return new cN(new Ln(m),g,y)}class hf extends Wg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hf}}function Jb(r,t,n,s){const o=r.Cc(1,t,n);ep("Data must be an object, but it was:",o,s);const u=[],f=Ln.empty();Ls(s,((g,y)=>{const E=np(t,g,n);y=Be(y);const T=o.yc(E);if(y instanceof hf)u.push(E);else{const w=Cu(y,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Wn(u);return new Kb(f,m,o.fieldTransforms)}function Zb(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[lg(t,s,n)],g=[o];if(u.length%2!=0)throw new ct(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(lg(t,u[w])),g.push(u[w+1]);const y=[],E=Ln.empty();for(let w=m.length-1;w>=0;--w)if(!eS(y,m[w])){const x=m[w];let Y=g[w];Y=Be(Y);const Q=f.yc(x);if(Y instanceof hf)y.push(x);else{const H=Cu(Y,Q);H!=null&&(y.push(x),E.set(x,H))}}const T=new Wn(y);return new Kb(E,T,f.fieldTransforms)}function fN(r,t,n,s=!1){return Cu(n,r.Cc(s?4:3,t))}function Cu(r,t){if(tS(r=Be(r)))return ep("Unsupported field value:",t,r),Wb(r,t);if(r instanceof Wg)return(function(s,o){if(!Xb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Cu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=he.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof he){const u=new he(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof tr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yi)return{bytesValue:mb(o.serializer,s._byteString)};if(s instanceof je){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof er)return(function(f,m){return{mapValue:{fields:{[HT]:{stringValue:FT},[Ih]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return kg(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Kh(s)}`)})(r,t)}function Wb(r,t){const n={};return UT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(r,((s,o)=>{const u=Cu(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function tS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof tr||r instanceof yi||r instanceof je||r instanceof Wg||r instanceof er)}function ep(r,t,n){if(!tS(n)||!kT(n)){const s=Kh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function lg(r,t,n){if((t=Be(t))instanceof Ru)return t._internalPath;if(typeof t=="string")return np(r,t);throw Uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const dN=new RegExp("[~\\*/\\[\\]]");function np(r,t,n){if(t.search(dN)>=0)throw Uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ru(...t.split("."))._internalPath}catch{throw Uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Uh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ct(W.INVALID_ARGUMENT,m+r+g)}function eS(r,t){return r.some((n=>n.isEqual(t)))}class nS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(iS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mN extends nS{data(){return super.data()}}function iS(r,t){return typeof t=="string"?np(r,t):t instanceof Ru?t._internalPath:t._delegate._internalPath}function rS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}class gN extends ip{}function sS(r,t,...n){let s=[];t instanceof ip&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof sp)).length,m=u.filter((g=>g instanceof rp)).length;if(f>1||f>0&&m>0)throw new ct(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class rp extends gN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new rp(t,n,s)}_apply(t){const n=this._parse(t);return aS(t._query,n),new Ra(t.firestore,t.converter,$m(t._query,n))}_parse(t){const n=cf(t.firestore);return(function(u,f,m,g,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){yE(T,E);const Y=[];for(const Q of T)Y.push(pE(g,u,Q));w={arrayValue:{values:Y}}}else w=pE(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||yE(T,E),w=fN(m,f,T,E==="in"||E==="not-in");return Pe.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class sp extends ip{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new sp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)aS(f,g),f=$m(f,g)})(t._query,n),new Ra(t.firestore,t.converter,$m(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pE(r,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new ct(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(t)&&n.indexOf("/")!==-1)throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(oe.fromString(n));if(!yt.isDocumentKey(s))throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return O0(r,new yt(s))}if(n instanceof je)return O0(r,n._key);throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function yE(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class pN{convertValue(t,n="none"){switch(xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ls(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Ih].arrayValue?.values?.map((s=>Ce(s.doubleValue)));return new er(n)}convertGeoPoint(t){return new tr(Ce(t.latitude),Ce(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Jh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ou(t));default:return null}}convertTimestamp(t){const n=Ds(t);return new he(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);$t(Eb(s),9688,{name:t});const o=new lu(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||Or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function oS(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Gl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ya extends nS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(iS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:ze("string",ya._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class ph extends ya{data(t={}){return super.data(t)}}class _a{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ph(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:yN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function yN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:ze("string",_a._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class ap extends pN{constructor(t){super(),this.firestore=t}convertBytes(t){return new yi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function _N(r){r=Di(r,Ra);const t=Di(r.firestore,Vs),n=uf(t),s=new ap(t);return rS(r._query),sN(n,r._query).then((o=>new _a(t,s,r,o)))}function _E(r,t,n,...s){r=Di(r,je);const o=Di(r.firestore,Vs),u=cf(o);let f;return f=typeof(t=Be(t))=="string"||t instanceof Ru?Zb(u,"updateDoc",r._key,t,n,s):Jb(u,"updateDoc",r._key,t),ff(o,[f.toMutation(r._key,Un.exists(!0))])}function vN(r){return ff(Di(r.firestore,Vs),[new nf(r._key,Un.none())])}function EN(r,t){const n=Di(r.firestore,Vs),s=Wl(r),o=oS(r.converter,t);return ff(n,[$b(cf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then((()=>s))}function TN(r,...t){r=Be(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||gE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(gE(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof je)f=Di(r.firestore,Vs),m=Vg(r._key.path),u={next:g=>{t[s]&&t[s](bN(f,r,g))},error:t[s+1],complete:t[s+2]};else{const g=Di(r,Ra);f=Di(g.firestore,Vs),m=g._query;const y=new ap(f);u={next:E=>{t[s]&&t[s](new _a(f,y,g,E))},error:t[s+1],complete:t[s+2]},rS(r._query)}return(function(y,E,T,w){const x=new Fb(w),Y=new kb(E,x,T);return y.asyncQueue.enqueueAndForget((async()=>Mb(await og(y),Y))),()=>{x.Nu(),y.asyncQueue.enqueueAndForget((async()=>Vb(await og(y),Y)))}})(uf(f),m,o,u)}function ff(r,t){return(function(s,o){const u=new Rs;return s.asyncQueue.enqueueAndForget((async()=>YD(await rN(s),o,u))),u.promise})(uf(r),t)}function bN(r,t,n){const s=n.docs.get(t._key),o=new ap(r);return new ya(r,o,t._key,s,new Gl(n.hasPendingWrites,n.fromCache),t.converter)}class SN{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cf(t)}set(t,n,s){this._verifyNotCommitted();const o=xm(t,this._firestore),u=oS(o.converter,n,s),f=$b(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Un.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=xm(t,this._firestore);let f;return f=typeof(n=Be(n))=="string"||n instanceof Ru?Zb(this._dataReader,"WriteBatch.update",u._key,n,s,o):Jb(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Un.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=xm(t,this._firestore);return this._mutations=this._mutations.concat(new nf(n._key,Un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xm(r,t){if((r=Be(r)).firestore!==t)throw new ct(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function AN(r){return uf(r=Di(r,Vs)),new SN(r,(t=>ff(r,t)))}(function(t,n=!0){(function(o){Lo=o})(Vo),wo(new Ea("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Vs(new m2(s.getProvider("auth-internal")),new y2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),As(v0,E0,t),As(v0,E0,"esm2020")})();const wN={apiKey:"AIzaSyAx1NQceCmvJcLj8lLYEMfBh3WdkClEADE",authDomain:"story2scale-7e039.firebaseapp.com",projectId:"story2scale-7e039",storageBucket:"story2scale-7e039.firebasestorage.app",messagingSenderId:"116406874952",appId:"1:116406874952:web:027d12066dd3ee47c1f97d"},lS=GE(wN),ga=oN(lS),Ts=l2(lS);var Ql=VE();function RN(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return B.useMemo(()=>s=>{t.forEach(o=>o(s))},t)}const df=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jo(r){const t=Object.prototype.toString.call(r);return t==="[object Window]"||t==="[object global]"}function op(r){return"nodeType"in r}function wn(r){var t,n;return r?jo(r)?r:op(r)&&(t=(n=r.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function lp(r){const{Document:t}=wn(r);return r instanceof t}function Iu(r){return jo(r)?!1:r instanceof wn(r).HTMLElement}function uS(r){return r instanceof wn(r).SVGElement}function Bo(r){return r?jo(r)?r.document:op(r)?lp(r)?r:Iu(r)||uS(r)?r.ownerDocument:document:document:document}const xi=df?B.useLayoutEffect:B.useEffect;function mf(r){const t=B.useRef(r);return xi(()=>{t.current=r}),B.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t.current==null?void 0:t.current(...s)},[])}function CN(){const r=B.useRef(null),t=B.useCallback((s,o)=>{r.current=setInterval(s,o)},[]),n=B.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[t,n]}function fu(r,t){t===void 0&&(t=[r]);const n=B.useRef(r);return xi(()=>{n.current!==r&&(n.current=r)},t),n}function Du(r,t){const n=B.useRef();return B.useMemo(()=>{const s=r(n.current);return n.current=s,s},[...t])}function Ph(r){const t=mf(r),n=B.useRef(null),s=B.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,s]}function zh(r){const t=B.useRef();return B.useEffect(()=>{t.current=r},[r]),t.current}let Om={};function Nu(r,t){return B.useMemo(()=>{if(t)return t;const n=Om[r]==null?0:Om[r]+1;return Om[r]=n,r+"-"+n},[r,t])}function cS(r){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,f)=>{const m=Object.entries(f);for(const[g,y]of m){const E=u[g];E!=null&&(u[g]=E+r*y)}return u},{...t})}}const Ao=cS(1),du=cS(-1);function IN(r){return"clientX"in r&&"clientY"in r}function gf(r){if(!r)return!1;const{KeyboardEvent:t}=wn(r.target);return t&&r instanceof t}function DN(r){if(!r)return!1;const{TouchEvent:t}=wn(r.target);return t&&r instanceof t}function jh(r){if(DN(r)){if(r.touches&&r.touches.length){const{clientX:t,clientY:n}=r.touches[0];return{x:t,y:n}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:t,clientY:n}=r.changedTouches[0];return{x:t,y:n}}}return IN(r)?{x:r.clientX,y:r.clientY}:null}const ks=Object.freeze({Translate:{toString(r){if(!r)return;const{x:t,y:n}=r;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:t,scaleY:n}=r;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(r){if(r)return[ks.Translate.toString(r),ks.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:t,duration:n,easing:s}=r;return t+" "+n+"ms "+s}}}),vE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function NN(r){return r.matches(vE)?r:r.querySelector(vE)}const xN={display:"none"};function ON(r){let{id:t,value:n}=r;return _e.createElement("div",{id:t,style:xN},n)}function MN(r){let{id:t,announcement:n,ariaLiveType:s="assertive"}=r;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _e.createElement("div",{id:t,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function VN(){const[r,t]=B.useState("");return{announce:B.useCallback(s=>{s!=null&&t(s)},[]),announcement:r}}const hS=B.createContext(null);function kN(r){const t=B.useContext(hS);B.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(r)},[r,t])}function LN(){const[r]=B.useState(()=>new Set),t=B.useCallback(s=>(r.add(s),()=>r.delete(s)),[r]);return[B.useCallback(s=>{let{type:o,event:u}=s;r.forEach(f=>{var m;return(m=f[o])==null?void 0:m.call(f,u)})},[r]),t]}const UN={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},PN={onDragStart(r){let{active:t}=r;return"Picked up draggable item "+t.id+"."},onDragOver(r){let{active:t,over:n}=r;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(r){let{active:t,over:n}=r;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(r){let{active:t}=r;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function zN(r){let{announcements:t=PN,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=UN}=r;const{announce:u,announcement:f}=VN(),m=Nu("DndLiveRegion"),[g,y]=B.useState(!1);if(B.useEffect(()=>{y(!0)},[]),kN(B.useMemo(()=>({onDragStart(T){let{active:w}=T;u(t.onDragStart({active:w}))},onDragMove(T){let{active:w,over:x}=T;t.onDragMove&&u(t.onDragMove({active:w,over:x}))},onDragOver(T){let{active:w,over:x}=T;u(t.onDragOver({active:w,over:x}))},onDragEnd(T){let{active:w,over:x}=T;u(t.onDragEnd({active:w,over:x}))},onDragCancel(T){let{active:w,over:x}=T;u(t.onDragCancel({active:w,over:x}))}}),[u,t])),!g)return null;const E=_e.createElement(_e.Fragment,null,_e.createElement(ON,{id:s,value:o.draggable}),_e.createElement(MN,{id:m,announcement:f}));return n?Ql.createPortal(E,n):E}var Fe;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Fe||(Fe={}));function Bh(){}function EE(r,t){return B.useMemo(()=>({sensor:r,options:t??{}}),[r,t])}function jN(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return B.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Oi=Object.freeze({x:0,y:0});function BN(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function qN(r,t){const n=jh(r);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function HN(r,t){let{data:{value:n}}=r,{data:{value:s}}=t;return n-s}function FN(r,t){let{data:{value:n}}=r,{data:{value:s}}=t;return s-n}function TE(r){let{left:t,top:n,height:s,width:o}=r;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+s},{x:t+o,y:n+s}]}function fS(r,t){if(!r||r.length===0)return null;const[n]=r;return n[t]}const dS=r=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=r;const o=TE(t),u=[];for(const f of s){const{id:m}=f,g=n.get(m);if(g){const y=TE(g),E=o.reduce((w,x,Y)=>w+BN(y[Y],x),0),T=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:f,value:T}})}}return u.sort(HN)};function GN(r,t){const n=Math.max(t.top,r.top),s=Math.max(t.left,r.left),o=Math.min(t.left+t.width,r.left+r.width),u=Math.min(t.top+t.height,r.top+r.height),f=o-s,m=u-n;if(s<o&&n<u){const g=t.width*t.height,y=r.width*r.height,E=f*m,T=E/(g+y-E);return Number(T.toFixed(4))}return 0}const QN=r=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=r;const o=[];for(const u of s){const{id:f}=u,m=n.get(f);if(m){const g=GN(m,t);g>0&&o.push({id:f,data:{droppableContainer:u,value:g}})}}return o.sort(FN)};function YN(r,t,n){return{...r,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function mS(r,t){return r&&t?{x:r.left-t.left,y:r.top-t.top}:Oi}function KN(r){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((f,m)=>({...f,top:f.top+r*m.y,bottom:f.bottom+r*m.y,left:f.left+r*m.x,right:f.right+r*m.x}),{...n})}}const XN=KN(1);function gS(r){if(r.startsWith("matrix3d(")){const t=r.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(r.startsWith("matrix(")){const t=r.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function $N(r,t,n){const s=gS(t);if(!s)return r;const{scaleX:o,scaleY:u,x:f,y:m}=s,g=r.left-f-(1-o)*parseFloat(n),y=r.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),E=o?r.width/o:r.width,T=u?r.height/u:r.height;return{width:E,height:T,top:y,right:g+E,bottom:y+T,left:g}}const JN={ignoreTransform:!1};function qo(r,t){t===void 0&&(t=JN);let n=r.getBoundingClientRect();if(t.ignoreTransform){const{transform:y,transformOrigin:E}=wn(r).getComputedStyle(r);y&&(n=$N(n,y,E))}const{top:s,left:o,width:u,height:f,bottom:m,right:g}=n;return{top:s,left:o,width:u,height:f,bottom:m,right:g}}function bE(r){return qo(r,{ignoreTransform:!0})}function ZN(r){const t=r.innerWidth,n=r.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function WN(r,t){return t===void 0&&(t=wn(r).getComputedStyle(r)),t.position==="fixed"}function tx(r,t){t===void 0&&(t=wn(r).getComputedStyle(r));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=t[o];return typeof u=="string"?n.test(u):!1})}function pf(r,t){const n=[];function s(o){if(t!=null&&n.length>=t||!o)return n;if(lp(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Iu(o)||uS(o)||n.includes(o))return n;const u=wn(r).getComputedStyle(o);return o!==r&&tx(o,u)&&n.push(o),WN(o,u)?n:s(o.parentNode)}return r?s(r):n}function pS(r){const[t]=pf(r,1);return t??null}function Mm(r){return!df||!r?null:jo(r)?r:op(r)?lp(r)||r===Bo(r).scrollingElement?window:Iu(r)?r:null:null}function yS(r){return jo(r)?r.scrollX:r.scrollLeft}function _S(r){return jo(r)?r.scrollY:r.scrollTop}function ug(r){return{x:yS(r),y:_S(r)}}var Ze;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Ze||(Ze={}));function vS(r){return!df||!r?!1:r===document.scrollingElement}function ES(r){const t={x:0,y:0},n=vS(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},s={x:r.scrollWidth-n.width,y:r.scrollHeight-n.height},o=r.scrollTop<=t.y,u=r.scrollLeft<=t.x,f=r.scrollTop>=s.y,m=r.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:f,isRight:m,maxScroll:s,minScroll:t}}const ex={x:.2,y:.2};function nx(r,t,n,s,o){let{top:u,left:f,right:m,bottom:g}=n;s===void 0&&(s=10),o===void 0&&(o=ex);const{isTop:y,isBottom:E,isLeft:T,isRight:w}=ES(r),x={x:0,y:0},Y={x:0,y:0},Q={height:t.height*o.y,width:t.width*o.x};return!y&&u<=t.top+Q.height?(x.y=Ze.Backward,Y.y=s*Math.abs((t.top+Q.height-u)/Q.height)):!E&&g>=t.bottom-Q.height&&(x.y=Ze.Forward,Y.y=s*Math.abs((t.bottom-Q.height-g)/Q.height)),!w&&m>=t.right-Q.width?(x.x=Ze.Forward,Y.x=s*Math.abs((t.right-Q.width-m)/Q.width)):!T&&f<=t.left+Q.width&&(x.x=Ze.Backward,Y.x=s*Math.abs((t.left+Q.width-f)/Q.width)),{direction:x,speed:Y}}function ix(r){if(r===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:t,left:n,right:s,bottom:o}=r.getBoundingClientRect();return{top:t,left:n,right:s,bottom:o,width:r.clientWidth,height:r.clientHeight}}function TS(r){return r.reduce((t,n)=>Ao(t,ug(n)),Oi)}function rx(r){return r.reduce((t,n)=>t+yS(n),0)}function sx(r){return r.reduce((t,n)=>t+_S(n),0)}function bS(r,t){if(t===void 0&&(t=qo),!r)return;const{top:n,left:s,bottom:o,right:u}=t(r);pS(r)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const ax=[["x",["left","right"],rx],["y",["top","bottom"],sx]];class up{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=pf(n),o=TS(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,f,m]of ax)for(const g of f)Object.defineProperty(this,g,{get:()=>{const y=m(s),E=o[u]-y;return this.rect[g]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class tu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var o;(o=this.target)==null||o.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function ox(r){const{EventTarget:t}=wn(r);return r instanceof t?r:Bo(r)}function Vm(r,t){const n=Math.abs(r.x),s=Math.abs(r.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var pi;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(pi||(pi={}));function SE(r){r.preventDefault()}function lx(r){r.stopPropagation()}var Ht;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Ht||(Ht={}));const SS={start:[Ht.Space,Ht.Enter],cancel:[Ht.Esc],end:[Ht.Space,Ht.Enter,Ht.Tab]},ux=(r,t)=>{let{currentCoordinates:n}=t;switch(r.code){case Ht.Right:return{...n,x:n.x+25};case Ht.Left:return{...n,x:n.x-25};case Ht.Down:return{...n,y:n.y+25};case Ht.Up:return{...n,y:n.y-25}}};class cp{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new tu(Bo(n)),this.windowListeners=new tu(wn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&bS(s),n(Oi)}handleKeyDown(t){if(gf(t)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=SS,coordinateGetter:f=ux,scrollBehavior:m="smooth"}=o,{code:g}=t;if(u.end.includes(g)){this.handleEnd(t);return}if(u.cancel.includes(g)){this.handleCancel(t);return}const{collisionRect:y}=s.current,E=y?{x:y.left,y:y.top}:Oi;this.referenceCoordinates||(this.referenceCoordinates=E);const T=f(t,{active:n,context:s.current,currentCoordinates:E});if(T){const w=du(T,E),x={x:0,y:0},{scrollableAncestors:Y}=s.current;for(const Q of Y){const H=t.code,{isTop:tt,isRight:st,isLeft:nt,isBottom:ot,maxScroll:ft,minScroll:ut}=ES(Q),R=ix(Q),A={x:Math.min(H===Ht.Right?R.right-R.width/2:R.right,Math.max(H===Ht.Right?R.left:R.left+R.width/2,T.x)),y:Math.min(H===Ht.Down?R.bottom-R.height/2:R.bottom,Math.max(H===Ht.Down?R.top:R.top+R.height/2,T.y))},C=H===Ht.Right&&!st||H===Ht.Left&&!nt,O=H===Ht.Down&&!ot||H===Ht.Up&&!tt;if(C&&A.x!==T.x){const D=Q.scrollLeft+w.x,k=H===Ht.Right&&D<=ft.x||H===Ht.Left&&D>=ut.x;if(k&&!w.y){Q.scrollTo({left:D,behavior:m});return}k?x.x=Q.scrollLeft-D:x.x=H===Ht.Right?Q.scrollLeft-ft.x:Q.scrollLeft-ut.x,x.x&&Q.scrollBy({left:-x.x,behavior:m});break}else if(O&&A.y!==T.y){const D=Q.scrollTop+w.y,k=H===Ht.Down&&D<=ft.y||H===Ht.Up&&D>=ut.y;if(k&&!w.x){Q.scrollTo({top:D,behavior:m});return}k?x.y=Q.scrollTop-D:x.y=H===Ht.Down?Q.scrollTop-ft.y:Q.scrollTop-ut.y,x.y&&Q.scrollBy({top:-x.y,behavior:m});break}}this.handleMove(t,Ao(du(T,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}cp.activators=[{eventName:"onKeyDown",handler:(r,t,n)=>{let{keyboardCodes:s=SS,onActivation:o}=t,{active:u}=n;const{code:f}=r.nativeEvent;if(s.start.includes(f)){const m=u.activatorNode.current;return m&&r.target!==m?!1:(r.preventDefault(),o?.({event:r.nativeEvent}),!0)}return!1}}];function AE(r){return!!(r&&"distance"in r)}function wE(r){return!!(r&&"delay"in r)}class hp{constructor(t,n,s){var o;s===void 0&&(s=ox(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:u}=t,{target:f}=u;this.props=t,this.events=n,this.document=Bo(f),this.documentListeners=new tu(this.document),this.listeners=new tu(s),this.windowListeners=new tu(wn(f)),this.initialCoordinates=(o=jh(u))!=null?o:Oi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.DragStart,SE),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),this.windowListeners.add(pi.ContextMenu,SE),this.documentListeners.add(pi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(wE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(AE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:o}=this.props;o(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(pi.Click,lx,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pi.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!o)return;const g=(n=jh(t))!=null?n:Oi,y=du(o,g);if(!s&&m){if(AE(m)){if(m.tolerance!=null&&Vm(y,m.tolerance))return this.handleCancel();if(Vm(y,m.distance))return this.handleStart()}if(wE(m)&&Vm(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}t.cancelable&&t.preventDefault(),f(g)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ht.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const cx={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class fp extends hp{constructor(t){const{event:n}=t,s=Bo(n.target);super(t,cx,s)}}fp.activators=[{eventName:"onPointerDown",handler:(r,t)=>{let{nativeEvent:n}=r,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const hx={move:{name:"mousemove"},end:{name:"mouseup"}};var cg;(function(r){r[r.RightClick=2]="RightClick"})(cg||(cg={}));class fx extends hp{constructor(t){super(t,hx,Bo(t.event.target))}}fx.activators=[{eventName:"onMouseDown",handler:(r,t)=>{let{nativeEvent:n}=r,{onActivation:s}=t;return n.button===cg.RightClick?!1:(s?.({event:n}),!0)}}];const km={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class dx extends hp{constructor(t){super(t,km)}static setup(){return window.addEventListener(km.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(km.move.name,t)};function t(){}}}dx.activators=[{eventName:"onTouchStart",handler:(r,t)=>{let{nativeEvent:n}=r,{onActivation:s}=t;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var eu;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(eu||(eu={}));var qh;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(qh||(qh={}));function mx(r){let{acceleration:t,activator:n=eu.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:f=5,order:m=qh.TreeOrder,pointerCoordinates:g,scrollableAncestors:y,scrollableAncestorRects:E,delta:T,threshold:w}=r;const x=px({delta:T,disabled:!u}),[Y,Q]=CN(),H=B.useRef({x:0,y:0}),tt=B.useRef({x:0,y:0}),st=B.useMemo(()=>{switch(n){case eu.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case eu.DraggableRect:return o}},[n,o,g]),nt=B.useRef(null),ot=B.useCallback(()=>{const ut=nt.current;if(!ut)return;const R=H.current.x*tt.current.x,A=H.current.y*tt.current.y;ut.scrollBy(R,A)},[]),ft=B.useMemo(()=>m===qh.TreeOrder?[...y].reverse():y,[m,y]);B.useEffect(()=>{if(!u||!y.length||!st){Q();return}for(const ut of ft){if(s?.(ut)===!1)continue;const R=y.indexOf(ut),A=E[R];if(!A)continue;const{direction:C,speed:O}=nx(ut,A,st,t,w);for(const D of["x","y"])x[D][C[D]]||(O[D]=0,C[D]=0);if(O.x>0||O.y>0){Q(),nt.current=ut,Y(ot,f),H.current=O,tt.current=C;return}}H.current={x:0,y:0},tt.current={x:0,y:0},Q()},[t,ot,s,Q,u,f,JSON.stringify(st),JSON.stringify(x),Y,y,ft,E,JSON.stringify(w)])}const gx={x:{[Ze.Backward]:!1,[Ze.Forward]:!1},y:{[Ze.Backward]:!1,[Ze.Forward]:!1}};function px(r){let{delta:t,disabled:n}=r;const s=zh(t);return Du(o=>{if(n||!s||!o)return gx;const u={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Ze.Backward]:o.x[Ze.Backward]||u.x===-1,[Ze.Forward]:o.x[Ze.Forward]||u.x===1},y:{[Ze.Backward]:o.y[Ze.Backward]||u.y===-1,[Ze.Forward]:o.y[Ze.Forward]||u.y===1}}},[n,t,s])}function yx(r,t){const n=t!=null?r.get(t):void 0,s=n?n.node.current:null;return Du(o=>{var u;return t==null?null:(u=s??o)!=null?u:null},[s,t])}function _x(r,t){return B.useMemo(()=>r.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(f=>({eventName:f.eventName,handler:t(f.handler,s)}));return[...n,...u]},[]),[r,t])}var mu;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(mu||(mu={}));var hg;(function(r){r.Optimized="optimized"})(hg||(hg={}));const RE=new Map;function vx(r,t){let{dragging:n,dependencies:s,config:o}=t;const[u,f]=B.useState(null),{frequency:m,measure:g,strategy:y}=o,E=B.useRef(r),T=H(),w=fu(T),x=B.useCallback(function(tt){tt===void 0&&(tt=[]),!w.current&&f(st=>st===null?tt:st.concat(tt.filter(nt=>!st.includes(nt))))},[w]),Y=B.useRef(null),Q=Du(tt=>{if(T&&!n)return RE;if(!tt||tt===RE||E.current!==r||u!=null){const st=new Map;for(let nt of r){if(!nt)continue;if(u&&u.length>0&&!u.includes(nt.id)&&nt.rect.current){st.set(nt.id,nt.rect.current);continue}const ot=nt.node.current,ft=ot?new up(g(ot),ot):null;nt.rect.current=ft,ft&&st.set(nt.id,ft)}return st}return tt},[r,u,n,T,g]);return B.useEffect(()=>{E.current=r},[r]),B.useEffect(()=>{T||x()},[n,T]),B.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),B.useEffect(()=>{T||typeof m!="number"||Y.current!==null||(Y.current=setTimeout(()=>{x(),Y.current=null},m))},[m,T,x,...s]),{droppableRects:Q,measureDroppableContainers:x,measuringScheduled:u!=null};function H(){switch(y){case mu.Always:return!1;case mu.BeforeDragging:return n;default:return!n}}}function dp(r,t){return Du(n=>r?n||(typeof t=="function"?t(r):r):null,[t,r])}function Ex(r,t){return dp(r,t)}function Tx(r){let{callback:t,disabled:n}=r;const s=mf(t),o=B.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return B.useEffect(()=>()=>o?.disconnect(),[o]),o}function yf(r){let{callback:t,disabled:n}=r;const s=mf(t),o=B.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return B.useEffect(()=>()=>o?.disconnect(),[o]),o}function bx(r){return new up(qo(r),r)}function CE(r,t,n){t===void 0&&(t=bx);const[s,o]=B.useState(null);function u(){o(g=>{if(!r)return null;if(r.isConnected===!1){var y;return(y=g??n)!=null?y:null}const E=t(r);return JSON.stringify(g)===JSON.stringify(E)?g:E})}const f=Tx({callback(g){if(r)for(const y of g){const{type:E,target:T}=y;if(E==="childList"&&T instanceof HTMLElement&&T.contains(r)){u();break}}}}),m=yf({callback:u});return xi(()=>{u(),r?(m?.observe(r),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[r]),s}function Sx(r){const t=dp(r);return mS(r,t)}const IE=[];function Ax(r){const t=B.useRef(r),n=Du(s=>r?s&&s!==IE&&r&&t.current&&r.parentNode===t.current.parentNode?s:pf(r):IE,[r]);return B.useEffect(()=>{t.current=r},[r]),n}function wx(r){const[t,n]=B.useState(null),s=B.useRef(r),o=B.useCallback(u=>{const f=Mm(u.target);f&&n(m=>m?(m.set(f,ug(f)),new Map(m)):null)},[]);return B.useEffect(()=>{const u=s.current;if(r!==u){f(u);const m=r.map(g=>{const y=Mm(g);return y?(y.addEventListener("scroll",o,{passive:!0}),[y,ug(y)]):null}).filter(g=>g!=null);n(m.length?new Map(m):null),s.current=r}return()=>{f(r),f(u)};function f(m){m.forEach(g=>{const y=Mm(g);y?.removeEventListener("scroll",o)})}},[o,r]),B.useMemo(()=>r.length?t?Array.from(t.values()).reduce((u,f)=>Ao(u,f),Oi):TS(r):Oi,[r,t])}function DE(r,t){t===void 0&&(t=[]);const n=B.useRef(null);return B.useEffect(()=>{n.current=null},t),B.useEffect(()=>{const s=r!==Oi;s&&!n.current&&(n.current=r),!s&&n.current&&(n.current=null)},[r]),n.current?du(r,n.current):Oi}function Rx(r){B.useEffect(()=>{if(!df)return;const t=r.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n?.()}},r.map(t=>{let{sensor:n}=t;return n}))}function Cx(r,t){return B.useMemo(()=>r.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=f=>{u(f,t)},n},{}),[r,t])}function AS(r){return B.useMemo(()=>r?ZN(r):null,[r])}const NE=[];function Ix(r,t){t===void 0&&(t=qo);const[n]=r,s=AS(n?wn(n):null),[o,u]=B.useState(NE);function f(){u(()=>r.length?r.map(g=>vS(g)?s:new up(t(g),g)):NE)}const m=yf({callback:f});return xi(()=>{m?.disconnect(),f(),r.forEach(g=>m?.observe(g))},[r]),o}function wS(r){if(!r)return null;if(r.children.length>1)return r;const t=r.children[0];return Iu(t)?t:r}function Dx(r){let{measure:t}=r;const[n,s]=B.useState(null),o=B.useCallback(y=>{for(const{target:E}of y)if(Iu(E)){s(T=>{const w=t(E);return T?{...T,width:w.width,height:w.height}:w});break}},[t]),u=yf({callback:o}),f=B.useCallback(y=>{const E=wS(y);u?.disconnect(),E&&u?.observe(E),s(E?t(E):null)},[t,u]),[m,g]=Ph(f);return B.useMemo(()=>({nodeRef:m,rect:n,setRef:g}),[n,m,g])}const Nx=[{sensor:fp,options:{}},{sensor:cp,options:{}}],xx={current:{}},yh={draggable:{measure:bE},droppable:{measure:bE,strategy:mu.WhileDragging,frequency:hg.Optimized},dragOverlay:{measure:qo}};class nu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const Ox={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:yh,measureDroppableContainers:Bh,windowRect:null,measuringScheduled:!1},RS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bh,draggableNodes:new Map,over:null,measureDroppableContainers:Bh},xu=B.createContext(RS),CS=B.createContext(Ox);function Mx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nu}}}function Vx(r,t){switch(t.type){case Fe.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Fe.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:t.coordinates.x-r.draggable.initialCoordinates.x,y:t.coordinates.y-r.draggable.initialCoordinates.y}}};case Fe.DragEnd:case Fe.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fe.RegisterDroppable:{const{element:n}=t,{id:s}=n,o=new nu(r.droppable.containers);return o.set(s,n),{...r,droppable:{...r.droppable,containers:o}}}case Fe.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=t,u=r.droppable.containers.get(n);if(!u||s!==u.key)return r;const f=new nu(r.droppable.containers);return f.set(n,{...u,disabled:o}),{...r,droppable:{...r.droppable,containers:f}}}case Fe.UnregisterDroppable:{const{id:n,key:s}=t,o=r.droppable.containers.get(n);if(!o||s!==o.key)return r;const u=new nu(r.droppable.containers);return u.delete(n),{...r,droppable:{...r.droppable,containers:u}}}default:return r}}function kx(r){let{disabled:t}=r;const{active:n,activatorEvent:s,draggableNodes:o}=B.useContext(xu),u=zh(s),f=zh(n?.id);return B.useEffect(()=>{if(!t&&!s&&u&&f!=null){if(!gf(u)||document.activeElement===u.target)return;const m=o.get(f);if(!m)return;const{activatorNode:g,node:y}=m;if(!g.current&&!y.current)return;requestAnimationFrame(()=>{for(const E of[g.current,y.current]){if(!E)continue;const T=NN(E);if(T){T.focus();break}}})}},[s,t,o,f,u]),null}function IS(r,t){let{transform:n,...s}=t;return r!=null&&r.length?r.reduce((o,u)=>u({transform:o,...s}),n):n}function Lx(r){return B.useMemo(()=>({draggable:{...yh.draggable,...r?.draggable},droppable:{...yh.droppable,...r?.droppable},dragOverlay:{...yh.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function Ux(r){let{activeNode:t,measure:n,initialRect:s,config:o=!0}=r;const u=B.useRef(!1),{x:f,y:m}=typeof o=="boolean"?{x:o,y:o}:o;xi(()=>{if(!f&&!m||!t){u.current=!1;return}if(u.current||!s)return;const y=t?.node.current;if(!y||y.isConnected===!1)return;const E=n(y),T=mS(E,s);if(f||(T.x=0),m||(T.y=0),u.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const w=pS(y);w&&w.scrollBy({top:T.y,left:T.x})}},[t,f,m,s,n])}const _f=B.createContext({...Oi,scaleX:1,scaleY:1});var ps;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(ps||(ps={}));const Px=B.memo(function(t){var n,s,o,u;let{id:f,accessibility:m,autoScroll:g=!0,children:y,sensors:E=Nx,collisionDetection:T=QN,measuring:w,modifiers:x,...Y}=t;const Q=B.useReducer(Vx,void 0,Mx),[H,tt]=Q,[st,nt]=LN(),[ot,ft]=B.useState(ps.Uninitialized),ut=ot===ps.Initialized,{draggable:{active:R,nodes:A,translate:C},droppable:{containers:O}}=H,D=R!=null?A.get(R):null,k=B.useRef({initial:null,translated:null}),I=B.useMemo(()=>{var xt;return R!=null?{id:R,data:(xt=D?.data)!=null?xt:xx,rect:k}:null},[R,D]),jt=B.useRef(null),[le,K]=B.useState(null),[it,gt]=B.useState(null),Rt=fu(Y,Object.values(Y)),Bt=Nu("DndDescribedBy",f),M=B.useMemo(()=>O.getEnabled(),[O]),X=Lx(w),{droppableRects:rt,measureDroppableContainers:lt,measuringScheduled:vt}=vx(M,{dragging:ut,dependencies:[C.x,C.y],config:X.droppable}),_t=yx(A,R),Nt=B.useMemo(()=>it?jh(it):null,[it]),te=lr(),Ft=Ex(_t,X.draggable.measure);Ux({activeNode:R!=null?A.get(R):null,config:te.layoutShiftCompensation,initialRect:Ft,measure:X.draggable.measure});const Vt=CE(_t,X.draggable.measure,Ft),ti=CE(_t?_t.parentElement:null),We=B.useRef({activatorEvent:null,active:null,activeNode:_t,collisionRect:null,collisions:null,droppableRects:rt,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pn=O.getNodeFor((n=We.current.over)==null?void 0:n.id),Ie=Dx({measure:X.dragOverlay.measure}),ei=(s=Ie.nodeRef.current)!=null?s:_t,Rn=ut?(o=Ie.rect)!=null?o:Vt:null,kr=!!(Ie.nodeRef.current&&Ie.rect),Lr=Sx(kr?null:Vt),fe=AS(ei?wn(ei):null),ee=Ax(ut?Pn??_t:null),zn=Ix(ee),Ur=IS(x,{transform:{x:C.x-Lr.x,y:C.y-Lr.y,scaleX:1,scaleY:1},activatorEvent:it,active:I,activeNodeRect:Vt,containerNodeRect:ti,draggingNodeRect:Rn,over:We.current.over,overlayNodeRect:Ie.rect,scrollableAncestors:ee,scrollableAncestorRects:zn,windowRect:fe}),Ps=Nt?Ao(Nt,C):null,Qe=wx(ee),sr=DE(Qe),zs=DE(Qe,[Vt]),ni=Ao(Ur,sr),vn=Rn?XN(Rn,Ur):null,ar=I&&vn?T({active:I,collisionRect:vn,droppableRects:rt,droppableContainers:M,pointerCoordinates:Ps}):null,js=fS(ar,"id"),[jn,Bs]=B.useState(null),Bn=kr?Ur:Ao(Ur,zs),qe=YN(Bn,(u=jn?.rect)!=null?u:null,Vt),cn=B.useRef(null),de=B.useCallback((xt,me)=>{let{sensor:ge,options:De}=me;if(jt.current==null)return;const hn=A.get(jt.current);if(!hn)return;const Ye=xt.nativeEvent,be=new ge({active:jt.current,activeNode:hn,event:Ye,options:De,context:We,onAbort(Se){if(!A.get(Se))return;const{onDragAbort:dn}=Rt.current,En={id:Se};dn?.(En),st({type:"onDragAbort",event:En})},onPending(Se,fn,dn,En){if(!A.get(Se))return;const{onDragPending:Tn}=Rt.current,Hn={id:Se,constraint:fn,initialCoordinates:dn,offset:En};Tn?.(Hn),st({type:"onDragPending",event:Hn})},onStart(Se){const fn=jt.current;if(fn==null)return;const dn=A.get(fn);if(!dn)return;const{onDragStart:En}=Rt.current,qn={activatorEvent:Ye,active:{id:fn,data:dn.data,rect:k}};Ql.unstable_batchedUpdates(()=>{En?.(qn),ft(ps.Initializing),tt({type:Fe.DragStart,initialCoordinates:Se,active:fn}),st({type:"onDragStart",event:qn}),K(cn.current),gt(Ye)})},onMove(Se){tt({type:Fe.DragMove,coordinates:Se})},onEnd:Cn(Fe.DragEnd),onCancel:Cn(Fe.DragCancel)});cn.current=be;function Cn(Se){return async function(){const{active:dn,collisions:En,over:qn,scrollAdjustedTranslate:Tn}=We.current;let Hn=null;if(dn&&Tn){const{cancelDrop:tn}=Rt.current;Hn={activatorEvent:Ye,active:dn,collisions:En,delta:Tn,over:qn},Se===Fe.DragEnd&&typeof tn=="function"&&await Promise.resolve(tn(Hn))&&(Se=Fe.DragCancel)}jt.current=null,Ql.unstable_batchedUpdates(()=>{tt({type:Se}),ft(ps.Uninitialized),Bs(null),K(null),gt(null),cn.current=null;const tn=Se===Fe.DragEnd?"onDragEnd":"onDragCancel";if(Hn){const bn=Rt.current[tn];bn?.(Hn),st({type:tn,event:Hn})}})}}},[A]),Ca=B.useCallback((xt,me)=>(ge,De)=>{const hn=ge.nativeEvent,Ye=A.get(De);if(jt.current!==null||!Ye||hn.dndKit||hn.defaultPrevented)return;const be={active:Ye};xt(ge,me.options,be)===!0&&(hn.dndKit={capturedBy:me.sensor},jt.current=De,de(ge,me))},[A,de]),or=_x(E,Ca);Rx(E),xi(()=>{Vt&&ot===ps.Initializing&&ft(ps.Initialized)},[Vt,ot]),B.useEffect(()=>{const{onDragMove:xt}=Rt.current,{active:me,activatorEvent:ge,collisions:De,over:hn}=We.current;if(!me||!ge)return;const Ye={active:me,activatorEvent:ge,collisions:De,delta:{x:ni.x,y:ni.y},over:hn};Ql.unstable_batchedUpdates(()=>{xt?.(Ye),st({type:"onDragMove",event:Ye})})},[ni.x,ni.y]),B.useEffect(()=>{const{active:xt,activatorEvent:me,collisions:ge,droppableContainers:De,scrollAdjustedTranslate:hn}=We.current;if(!xt||jt.current==null||!me||!hn)return;const{onDragOver:Ye}=Rt.current,be=De.get(js),Cn=be&&be.rect.current?{id:be.id,rect:be.rect.current,data:be.data,disabled:be.disabled}:null,Se={active:xt,activatorEvent:me,collisions:ge,delta:{x:hn.x,y:hn.y},over:Cn};Ql.unstable_batchedUpdates(()=>{Bs(Cn),Ye?.(Se),st({type:"onDragOver",event:Se})})},[js]),xi(()=>{We.current={activatorEvent:it,active:I,activeNode:_t,collisionRect:vn,collisions:ar,droppableRects:rt,draggableNodes:A,draggingNode:ei,draggingNodeRect:Rn,droppableContainers:O,over:jn,scrollableAncestors:ee,scrollAdjustedTranslate:ni},k.current={initial:Rn,translated:vn}},[I,_t,ar,vn,A,ei,Rn,rt,O,jn,ee,ni]),mx({...te,delta:C,draggingRect:vn,pointerCoordinates:Ps,scrollableAncestors:ee,scrollableAncestorRects:zn});const Ia=B.useMemo(()=>({active:I,activeNode:_t,activeNodeRect:Vt,activatorEvent:it,collisions:ar,containerNodeRect:ti,dragOverlay:Ie,draggableNodes:A,droppableContainers:O,droppableRects:rt,over:jn,measureDroppableContainers:lt,scrollableAncestors:ee,scrollableAncestorRects:zn,measuringConfiguration:X,measuringScheduled:vt,windowRect:fe}),[I,_t,Vt,it,ar,ti,Ie,A,O,rt,jn,lt,ee,zn,X,vt,fe]),ii=B.useMemo(()=>({activatorEvent:it,activators:or,active:I,activeNodeRect:Vt,ariaDescribedById:{draggable:Bt},dispatch:tt,draggableNodes:A,over:jn,measureDroppableContainers:lt}),[it,or,I,Vt,tt,Bt,A,jn,lt]);return _e.createElement(hS.Provider,{value:nt},_e.createElement(xu.Provider,{value:ii},_e.createElement(CS.Provider,{value:Ia},_e.createElement(_f.Provider,{value:qe},y)),_e.createElement(kx,{disabled:m?.restoreFocus===!1})),_e.createElement(zN,{...m,hiddenTextDescribedById:Bt}));function lr(){const xt=le?.autoScrollEnabled===!1,me=typeof g=="object"?g.enabled===!1:g===!1,ge=ut&&!xt&&!me;return typeof g=="object"?{...g,enabled:ge}:{enabled:ge}}}),zx=B.createContext(null),xE="button",jx="Draggable";function Bx(r){let{id:t,data:n,disabled:s=!1,attributes:o}=r;const u=Nu(jx),{activators:f,activatorEvent:m,active:g,activeNodeRect:y,ariaDescribedById:E,draggableNodes:T,over:w}=B.useContext(xu),{role:x=xE,roleDescription:Y="draggable",tabIndex:Q=0}=o??{},H=g?.id===t,tt=B.useContext(H?_f:zx),[st,nt]=Ph(),[ot,ft]=Ph(),ut=Cx(f,t),R=fu(n);xi(()=>(T.set(t,{id:t,key:u,node:st,activatorNode:ot,data:R}),()=>{const C=T.get(t);C&&C.key===u&&T.delete(t)}),[T,t]);const A=B.useMemo(()=>({role:x,tabIndex:Q,"aria-disabled":s,"aria-pressed":H&&x===xE?!0:void 0,"aria-roledescription":Y,"aria-describedby":E.draggable}),[s,x,Q,H,Y,E.draggable]);return{active:g,activatorEvent:m,activeNodeRect:y,attributes:A,isDragging:H,listeners:s?void 0:ut,node:st,over:w,setNodeRef:nt,setActivatorNodeRef:ft,transform:tt}}function DS(){return B.useContext(CS)}const qx="Droppable",Hx={timeout:25};function NS(r){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:o}=r;const u=Nu(qx),{active:f,dispatch:m,over:g,measureDroppableContainers:y}=B.useContext(xu),E=B.useRef({disabled:n}),T=B.useRef(!1),w=B.useRef(null),x=B.useRef(null),{disabled:Y,updateMeasurementsFor:Q,timeout:H}={...Hx,...o},tt=fu(Q??s),st=B.useCallback(()=>{if(!T.current){T.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{y(Array.isArray(tt.current)?tt.current:[tt.current]),x.current=null},H)},[H]),nt=yf({callback:st,disabled:Y||!f}),ot=B.useCallback((A,C)=>{nt&&(C&&(nt.unobserve(C),T.current=!1),A&&nt.observe(A))},[nt]),[ft,ut]=Ph(ot),R=fu(t);return B.useEffect(()=>{!nt||!ft.current||(nt.disconnect(),T.current=!1,nt.observe(ft.current))},[ft,nt]),B.useEffect(()=>(m({type:Fe.RegisterDroppable,element:{id:s,key:u,disabled:n,node:ft,rect:w,data:R}}),()=>m({type:Fe.UnregisterDroppable,key:u,id:s})),[s]),B.useEffect(()=>{n!==E.current.disabled&&(m({type:Fe.SetDroppableDisabled,id:s,key:u,disabled:n}),E.current.disabled=n)},[s,u,n,m]),{active:f,rect:w,isOver:g?.id===s,node:ft,over:g,setNodeRef:ut}}function Fx(r){let{animation:t,children:n}=r;const[s,o]=B.useState(null),[u,f]=B.useState(null),m=zh(n);return!n&&!s&&m&&o(m),xi(()=>{if(!u)return;const g=s?.key,y=s?.props.id;if(g==null||y==null){o(null);return}Promise.resolve(t(y,u)).then(()=>{o(null)})},[t,s,u]),_e.createElement(_e.Fragment,null,n,s?B.cloneElement(s,{ref:f}):null)}const Gx={x:0,y:0,scaleX:1,scaleY:1};function Qx(r){let{children:t}=r;return _e.createElement(xu.Provider,{value:RS},_e.createElement(_f.Provider,{value:Gx},t))}const Yx={position:"fixed",touchAction:"none"},Kx=r=>gf(r)?"transform 250ms ease":void 0,Xx=B.forwardRef((r,t)=>{let{as:n,activatorEvent:s,adjustScale:o,children:u,className:f,rect:m,style:g,transform:y,transition:E=Kx}=r;if(!m)return null;const T=o?y:{...y,scaleX:1,scaleY:1},w={...Yx,width:m.width,height:m.height,top:m.top,left:m.left,transform:ks.Transform.toString(T),transformOrigin:o&&s?qN(s,m):void 0,transition:typeof E=="function"?E(s):E,...g};return _e.createElement(n,{className:f,style:w,ref:t},u)}),$x=r=>t=>{let{active:n,dragOverlay:s}=t;const o={},{styles:u,className:f}=r;if(u!=null&&u.active)for(const[m,g]of Object.entries(u.active))g!==void 0&&(o[m]=n.node.style.getPropertyValue(m),n.node.style.setProperty(m,g));if(u!=null&&u.dragOverlay)for(const[m,g]of Object.entries(u.dragOverlay))g!==void 0&&s.node.style.setProperty(m,g);return f!=null&&f.active&&n.node.classList.add(f.active),f!=null&&f.dragOverlay&&s.node.classList.add(f.dragOverlay),function(){for(const[g,y]of Object.entries(o))n.node.style.setProperty(g,y);f!=null&&f.active&&n.node.classList.remove(f.active)}},Jx=r=>{let{transform:{initial:t,final:n}}=r;return[{transform:ks.Transform.toString(t)},{transform:ks.Transform.toString(n)}]},Zx={duration:250,easing:"ease",keyframes:Jx,sideEffects:$x({styles:{active:{opacity:"0"}}})};function Wx(r){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:o}=r;return mf((u,f)=>{if(t===null)return;const m=n.get(u);if(!m)return;const g=m.node.current;if(!g)return;const y=wS(f);if(!y)return;const{transform:E}=wn(f).getComputedStyle(f),T=gS(E);if(!T)return;const w=typeof t=="function"?t:tO(t);return bS(g,o.draggable.measure),w({active:{id:u,data:m.data,node:g,rect:o.draggable.measure(g)},draggableNodes:n,dragOverlay:{node:f,rect:o.dragOverlay.measure(y)},droppableContainers:s,measuringConfiguration:o,transform:T})})}function tO(r){const{duration:t,easing:n,sideEffects:s,keyframes:o}={...Zx,...r};return u=>{let{active:f,dragOverlay:m,transform:g,...y}=u;if(!t)return;const E={x:m.rect.left-f.rect.left,y:m.rect.top-f.rect.top},T={scaleX:g.scaleX!==1?f.rect.width*g.scaleX/m.rect.width:1,scaleY:g.scaleY!==1?f.rect.height*g.scaleY/m.rect.height:1},w={x:g.x-E.x,y:g.y-E.y,...T},x=o({...y,active:f,dragOverlay:m,transform:{initial:g,final:w}}),[Y]=x,Q=x[x.length-1];if(JSON.stringify(Y)===JSON.stringify(Q))return;const H=s?.({active:f,dragOverlay:m,...y}),tt=m.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(st=>{tt.onfinish=()=>{H?.(),st()}})}}let OE=0;function eO(r){return B.useMemo(()=>{if(r!=null)return OE++,OE},[r])}const nO=_e.memo(r=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:o,transition:u,modifiers:f,wrapperElement:m="div",className:g,zIndex:y=999}=r;const{activatorEvent:E,active:T,activeNodeRect:w,containerNodeRect:x,draggableNodes:Y,droppableContainers:Q,dragOverlay:H,over:tt,measuringConfiguration:st,scrollableAncestors:nt,scrollableAncestorRects:ot,windowRect:ft}=DS(),ut=B.useContext(_f),R=eO(T?.id),A=IS(f,{activatorEvent:E,active:T,activeNodeRect:w,containerNodeRect:x,draggingNodeRect:H.rect,over:tt,overlayNodeRect:H.rect,scrollableAncestors:nt,scrollableAncestorRects:ot,transform:ut,windowRect:ft}),C=dp(w),O=Wx({config:s,draggableNodes:Y,droppableContainers:Q,measuringConfiguration:st}),D=C?H.setRef:void 0;return _e.createElement(Qx,null,_e.createElement(Fx,{animation:O},T&&R?_e.createElement(Xx,{key:R,id:T.id,ref:D,as:m,activatorEvent:E,adjustScale:t,className:g,transition:u,rect:C,style:{zIndex:y,...o},transform:A},n):null))});function xS(r,t,n){const s=r.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function iO(r,t){return r.reduce((n,s,o)=>{const u=t.get(s);return u&&(n[o]=u),n},Array(r.length))}function sh(r){return r!==null&&r>=0}function rO(r,t){if(r===t)return!0;if(r.length!==t.length)return!1;for(let n=0;n<r.length;n++)if(r[n]!==t[n])return!1;return!0}function sO(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const OS=r=>{let{rects:t,activeIndex:n,overIndex:s,index:o}=r;const u=xS(t,s,n),f=t[o],m=u[o];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},ah={scaleX:1,scaleY:1},aO=r=>{var t;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:f}=r;const m=(t=u[n])!=null?t:s;if(!m)return null;if(o===n){const y=u[f];return y?{x:0,y:n<f?y.top+y.height-(m.top+m.height):y.top-m.top,...ah}:null}const g=oO(u,o,n);return o>n&&o<=f?{x:0,y:-m.height-g,...ah}:o<n&&o>=f?{x:0,y:m.height+g,...ah}:{x:0,y:0,...ah}};function oO(r,t,n){const s=r[t],o=r[t-1],u=r[t+1];return s?n<t?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const MS="Sortable",VS=_e.createContext({activeIndex:-1,containerId:MS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:OS,disabled:{draggable:!1,droppable:!1}});function lO(r){let{children:t,id:n,items:s,strategy:o=OS,disabled:u=!1}=r;const{active:f,dragOverlay:m,droppableRects:g,over:y,measureDroppableContainers:E}=DS(),T=Nu(MS,n),w=m.rect!==null,x=B.useMemo(()=>s.map(ut=>typeof ut=="object"&&"id"in ut?ut.id:ut),[s]),Y=f!=null,Q=f?x.indexOf(f.id):-1,H=y?x.indexOf(y.id):-1,tt=B.useRef(x),st=!rO(x,tt.current),nt=H!==-1&&Q===-1||st,ot=sO(u);xi(()=>{st&&Y&&E(x)},[st,x,Y,E]),B.useEffect(()=>{tt.current=x},[x]);const ft=B.useMemo(()=>({activeIndex:Q,containerId:T,disabled:ot,disableTransforms:nt,items:x,overIndex:H,useDragOverlay:w,sortedRects:iO(x,g),strategy:o}),[Q,T,ot.draggable,ot.droppable,nt,x,H,g,w,o]);return _e.createElement(VS.Provider,{value:ft},t)}const uO=r=>{let{id:t,items:n,activeIndex:s,overIndex:o}=r;return xS(n,s,o).indexOf(t)},cO=r=>{let{containerId:t,isSorting:n,wasDragging:s,index:o,items:u,newIndex:f,previousItems:m,previousContainerId:g,transition:y}=r;return!y||!s||m!==u&&o===f?!1:n?!0:f!==o&&t===g},hO={duration:200,easing:"ease"},kS="transform",fO=ks.Transition.toString({property:kS,duration:0,easing:"linear"}),dO={roleDescription:"sortable"};function mO(r){let{disabled:t,index:n,node:s,rect:o}=r;const[u,f]=B.useState(null),m=B.useRef(n);return xi(()=>{if(!t&&n!==m.current&&s.current){const g=o.current;if(g){const y=qo(s.current,{ignoreTransform:!0}),E={x:g.left-y.left,y:g.top-y.top,scaleX:g.width/y.width,scaleY:g.height/y.height};(E.x||E.y)&&f(E)}}n!==m.current&&(m.current=n)},[t,n,s,o]),B.useEffect(()=>{u&&f(null)},[u]),u}function gO(r){let{animateLayoutChanges:t=cO,attributes:n,disabled:s,data:o,getNewIndex:u=uO,id:f,strategy:m,resizeObserverConfig:g,transition:y=hO}=r;const{items:E,containerId:T,activeIndex:w,disabled:x,disableTransforms:Y,sortedRects:Q,overIndex:H,useDragOverlay:tt,strategy:st}=B.useContext(VS),nt=pO(s,x),ot=E.indexOf(f),ft=B.useMemo(()=>({sortable:{containerId:T,index:ot,items:E},...o}),[T,o,ot,E]),ut=B.useMemo(()=>E.slice(E.indexOf(f)),[E,f]),{rect:R,node:A,isOver:C,setNodeRef:O}=NS({id:f,data:ft,disabled:nt.droppable,resizeObserverConfig:{updateMeasurementsFor:ut,...g}}),{active:D,activatorEvent:k,activeNodeRect:I,attributes:jt,setNodeRef:le,listeners:K,isDragging:it,over:gt,setActivatorNodeRef:Rt,transform:Bt}=Bx({id:f,data:ft,attributes:{...dO,...n},disabled:nt.draggable}),M=RN(O,le),X=!!D,rt=X&&!Y&&sh(w)&&sh(H),lt=!tt&&it,vt=lt&&rt?Bt:null,Nt=rt?vt??(m??st)({rects:Q,activeNodeRect:I,activeIndex:w,overIndex:H,index:ot}):null,te=sh(w)&&sh(H)?u({id:f,items:E,activeIndex:w,overIndex:H}):ot,Ft=D?.id,Vt=B.useRef({activeId:Ft,items:E,newIndex:te,containerId:T}),ti=E!==Vt.current.items,We=t({active:D,containerId:T,isDragging:it,isSorting:X,id:f,index:ot,items:E,newIndex:Vt.current.newIndex,previousItems:Vt.current.items,previousContainerId:Vt.current.containerId,transition:y,wasDragging:Vt.current.activeId!=null}),Pn=mO({disabled:!We,index:ot,node:A,rect:R});return B.useEffect(()=>{X&&Vt.current.newIndex!==te&&(Vt.current.newIndex=te),T!==Vt.current.containerId&&(Vt.current.containerId=T),E!==Vt.current.items&&(Vt.current.items=E)},[X,te,T,E]),B.useEffect(()=>{if(Ft===Vt.current.activeId)return;if(Ft!=null&&Vt.current.activeId==null){Vt.current.activeId=Ft;return}const ei=setTimeout(()=>{Vt.current.activeId=Ft},50);return()=>clearTimeout(ei)},[Ft]),{active:D,activeIndex:w,attributes:jt,data:ft,rect:R,index:ot,newIndex:te,items:E,isOver:C,isSorting:X,isDragging:it,listeners:K,node:A,overIndex:H,over:gt,setNodeRef:M,setActivatorNodeRef:Rt,setDroppableNodeRef:O,setDraggableNodeRef:le,transform:Pn??Nt,transition:Ie()};function Ie(){if(Pn||ti&&Vt.current.newIndex===ot)return fO;if(!(lt&&!gf(k)||!y)&&(X||We))return ks.Transition.toString({...y,property:kS})}}function pO(r,t){var n,s;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(n=r?.draggable)!=null?n:t.draggable,droppable:(s=r?.droppable)!=null?s:t.droppable}}function Hh(r){if(!r)return!1;const t=r.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const yO=[Ht.Down,Ht.Right,Ht.Up,Ht.Left],_O=(r,t)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:f,scrollableAncestors:m}}=t;if(yO.includes(r.code)){if(r.preventDefault(),!n||!s)return;const g=[];u.getEnabled().forEach(T=>{if(!T||T!=null&&T.disabled)return;const w=o.get(T.id);if(w)switch(r.code){case Ht.Down:s.top<w.top&&g.push(T);break;case Ht.Up:s.top>w.top&&g.push(T);break;case Ht.Left:s.left>w.left&&g.push(T);break;case Ht.Right:s.left<w.left&&g.push(T);break}});const y=dS({collisionRect:s,droppableRects:o,droppableContainers:g});let E=fS(y,"id");if(E===f?.id&&y.length>1&&(E=y[1].id),E!=null){const T=u.get(n.id),w=u.get(E),x=w?o.get(w.id):null,Y=w?.node.current;if(Y&&x&&T&&w){const H=pf(Y).some((ut,R)=>m[R]!==ut),tt=LS(T,w),st=vO(T,w),nt=H||!tt?{x:0,y:0}:{x:st?s.width-x.width:0,y:st?s.height-x.height:0},ot={x:x.left,y:x.top};return nt.x&&nt.y?ot:du(ot,nt)}}}};function LS(r,t){return!Hh(r)||!Hh(t)?!1:r.data.current.sortable.containerId===t.data.current.sortable.containerId}function vO(r,t){return!Hh(r)||!Hh(t)||!LS(r,t)?!1:r.data.current.sortable.index<t.data.current.sortable.index}const iu=[{id:"tintas-marfim",name:"Tintas Marfim",color:"orange"},{id:"openpower-back",name:"OpenPower Backend",color:"blue"},{id:"openpower-front",name:"OpenPower Frontend",color:"sky"},{id:"equihealth",name:"EquiHealth",color:"green"},{id:"amae",name:"AMAE",color:"red"},{id:"vita-ai",name:"Vita.AI",color:"purple"}],fg={backlog:"Backlog",todo:"A Fazer","in-progress":"Em Andamento",done:"Concludo"},EO={low:"bg-slate-200 text-slate-700",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},TO={orange:"bg-orange-100 text-orange-800 border-orange-200",blue:"bg-blue-100 text-blue-800 border-blue-200",sky:"bg-sky-100 text-sky-800 border-sky-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",purple:"bg-purple-100 text-purple-800 border-purple-200"};const bO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),ME=r=>{const t=SO(r);return t.charAt(0).toUpperCase()+t.slice(1)},US=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),AO=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var wO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RO=B.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>B.createElement("svg",{ref:g,...wO,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:US("lucide",o),...!u&&!AO(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>B.createElement(y,E)),...Array.isArray(u)?u:[u]]));const rr=(r,t)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(RO,{ref:u,iconNode:t,className:US(`lucide-${bO(ME(r))}`,`lucide-${r}`,s),...o}));return n.displayName=ME(r),n};const CO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],IO=rr("calendar",CO);const DO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],NO=rr("database",DO);const xO=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],OO=rr("layout-grid",xO);const MO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],VO=rr("loader-circle",MO);const kO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PS=rr("log-out",kO);const LO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],UO=rr("pen",LO);const PO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zO=rr("plus",PO);const jO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],zS=rr("shield-alert",jO);const BO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qO=rr("trash-2",BO);const HO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],FO=rr("x",HO);function jS({task:r,onDelete:t,onEdit:n}){const{attributes:s,listeners:o,setNodeRef:u,transform:f,transition:m,isDragging:g}=gO({id:r.id,data:{type:"Task",task:r}}),y={transform:ks.Transform.toString(f),transition:m},E=iu.find(w=>w.id===r.projectId),T=E?TO[E.color]:"bg-gray-100 text-gray-800 border-gray-200";return g?G.jsx("div",{ref:u,style:y,className:"opacity-30 bg-gray-50 p-4 rounded-lg border-2 border-dashed border-gray-400 h-[150px] w-full cursor-grab"}):G.jsxs("div",{ref:u,style:y,...s,...o,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow group cursor-grab active:cursor-grabbing",children:[G.jsxs("div",{className:"flex justify-between items-start mb-2",children:[G.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border ${T}`,children:E?.name||"Unknown Project"}),G.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[G.jsx("button",{onClick:w=>{w.stopPropagation(),n(r)},className:"p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-blue-600",children:G.jsx(UO,{size:14})}),G.jsx("button",{onClick:w=>{w.stopPropagation(),t(r.id)},className:"p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-red-600",children:G.jsx(qO,{size:14})})]})]}),G.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:r.title}),r.description&&G.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:r.description}),G.jsxs("div",{className:"flex justify-between items-center mt-3",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${EO[r.priority]}`,children:r.priority.toUpperCase()}),r.date&&G.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[G.jsx(IO,{size:12}),G.jsx("span",{children:new Date(r.date).toLocaleDateString("pt-BR")})]})]}),G.jsxs("div",{className:"flex items-center",children:[r.assignee?G.jsx("img",{src:r.assignee,alt:"Assignee",className:"w-6 h-6 rounded-full border border-gray-200 object-cover",onError:w=>{w.currentTarget.style.display="none",w.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,G.jsx("div",{className:`w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 ${r.assignee?"hidden":""}`,children:G.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:"U"})})]})]})]})}function GO({id:r,tasks:t,onDeleteTask:n,onEditTask:s}){const{setNodeRef:o}=NS({id:r});return G.jsxs("div",{className:"flex flex-col h-full w-80 min-w-80 bg-gray-50/50 rounded-xl border border-gray-200/60",children:[G.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-white/50 rounded-t-xl backdrop-blur-sm",children:G.jsxs("h2",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[fg[r],G.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full",children:t.length})]})}),G.jsx("div",{ref:o,className:"flex-1 p-3 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:G.jsx(lO,{items:t.map(u=>u.id),strategy:aO,children:G.jsx("div",{className:"flex flex-col gap-3",children:t.map(u=>G.jsx(jS,{task:u,onDelete:n,onEdit:s},u.id))})})})]})}function QO({isOpen:r,onClose:t,onSubmit:n,editingTask:s}){const[o,u]=B.useState(""),[f,m]=B.useState(""),[g,y]=B.useState("medium"),[E,T]=B.useState("todo"),[w,x]=B.useState(iu[0].id),[Y,Q]=B.useState(new Date().toISOString().split("T")[0]);if(B.useEffect(()=>{s?(u(s.title),m(s.description||""),y(s.priority),T(s.status),x(s.projectId),Q(s.date||new Date().toISOString().split("T")[0])):(u(""),m(""),y("medium"),T("todo"),x(iu[0].id),Q(new Date().toISOString().split("T")[0]))},[s,r]),!r)return null;const H=tt=>{tt.preventDefault(),n({title:o,description:f,priority:g,status:E,projectId:w,date:Y}),t()};return G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:G.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[G.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[G.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Task":"New Task"}),G.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:G.jsx(FO,{size:20})})]}),G.jsxs("form",{onSubmit:H,className:"p-4 space-y-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),G.jsx("input",{type:"text",required:!0,value:o,onChange:tt=>u(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Enter task title"})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),G.jsx("textarea",{value:f,onChange:tt=>m(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all resize-none h-24",placeholder:"Enter task description (optional)"})]}),G.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project"}),G.jsx("select",{value:w,onChange:tt=>x(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:iu.map(tt=>G.jsx("option",{value:tt.id,children:tt.name},tt.id))})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),G.jsx("input",{type:"date",value:Y,onChange:tt=>Q(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]})]}),G.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),G.jsxs("select",{value:g,onChange:tt=>y(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[G.jsx("option",{value:"low",children:"Low"}),G.jsx("option",{value:"medium",children:"Medium"}),G.jsx("option",{value:"high",children:"High"}),G.jsx("option",{value:"critical",children:"Critical"})]})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),G.jsxs("select",{value:E,onChange:tt=>T(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[G.jsx("option",{value:"backlog",children:"Backlog"}),G.jsx("option",{value:"todo",children:"To Do"}),G.jsx("option",{value:"in-progress",children:"In Progress"}),G.jsx("option",{value:"done",children:"Done"})]})]})]}),G.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[G.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),G.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:s?"Save Changes":"Create Task"})]})]})]})})}const YO=async()=>{if(!Ts.currentUser){alert("Please sign in to seed the database");return}const r=AN(ga),t=Zg(ga,"tasks"),n=sS(t);(await _N(n)).docs.forEach(u=>{r.delete(u.ref)}),[{title:"Implementar Stack de Observabilidade (Prometheus/Grafana/Loki)",status:"backlog",priority:"high",projectId:"tintas-marfim",date:"2025-11-25"},{title:"Configurao de CI/CD (GitHub Actions)",status:"todo",priority:"high",projectId:"tintas-marfim",date:"2025-11-25"},{title:"Implementar Fila de Mensagens (Celery/Redis)",status:"todo",priority:"medium",projectId:"tintas-marfim",date:"2025-11-25"},{title:"Saneamento de Base de Dados (LID & Identidade Persistente)",status:"done",priority:"critical",projectId:"tintas-marfim",date:"2025-11-20"},{title:"Migrao para PostgreSQL Dockerizado",status:"done",priority:"high",projectId:"tintas-marfim",date:"2025-10-23"},{title:"Implementar Revogao de Consentimentos (Endpoint DELETE)",status:"todo",priority:"high",projectId:"openpower-back",date:"2025-11-25"},{title:"Expandir Endpoints de Gesto (Admin CRUD)",status:"in-progress",priority:"medium",projectId:"openpower-back",date:"2025-11-25"},{title:"Implementao Completa do Fluxo de Recuperao de Senha",status:"done",priority:"high",projectId:"openpower-back",date:"2025-11-22"},{title:"Refatorao Arquitetural (SQLAlchemy/Alembic)",status:"done",priority:"critical",projectId:"openpower-back",date:"2025-11-19"},{title:"Implementar Login com Google (SSO)",status:"backlog",priority:"medium",projectId:"openpower-front",date:"2025-11-25"},{title:"Implementar Pgina Wallet",status:"todo",priority:"high",projectId:"openpower-front",date:"2025-11-25"},{title:"Implementar Polling (Home/Wallet) para status de consentimento",status:"in-progress",priority:"medium",projectId:"openpower-front",date:"2025-11-25"},{title:"Tela de Perfil Completa (Edio e Senha)",status:"done",priority:"low",projectId:"openpower-front",date:"2025-11-22"},{title:"Refatorao UI/UX Geral (Design System)",status:"done",priority:"high",projectId:"openpower-front",date:"2025-11-21"},{title:"Treinamento YOLOv8 Nano (Proof of Concept)",status:"todo",priority:"critical",projectId:"equihealth",date:"2025-11-25"},{title:"Otimizao I/O Frames (Leitura de Vdeo Streamada)",status:"in-progress",priority:"high",projectId:"equihealth",date:"2025-11-25"},{title:"Curadoria de Negativos (Baias Vazias) e Safety Mining",status:"done",priority:"medium",projectId:"equihealth",date:"2025-11-14"},{title:"Implementao do Split Determinstico 80/20",status:"done",priority:"low",projectId:"equihealth",date:"2025-11-14"},{title:"Levantamento de requisitos funcionais",status:"todo",priority:"high",projectId:"amae",date:"2025-11-25"},{title:"Configurao de ambiente Python/Jupyter",status:"todo",priority:"medium",projectId:"vita-ai",date:"2025-11-25"}].forEach(u=>{const f=Wl(t);r.set(f,{...u,createdAt:new Date().toISOString(),assignee:Ts.currentUser?.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(Ts.currentUser?.displayName||"User")}&background=random`,userId:Ts.currentUser?.uid})}),await r.commit(),console.log("Database seeded successfully!"),alert("Database seeded successfully!")};function KO({user:r,tasks:t,onSignOut:n,onNewTask:s,selectedProjects:o,onToggleProject:u}){const f=g=>{const y=t.filter(w=>w.projectId===g),E=y.length;if(E===0)return 0;const T=y.filter(w=>w.status==="done").length;return Math.round(T/E*100)},m=g=>{switch(g){case"orange":return"bg-orange-500";case"blue":return"bg-blue-500";case"sky":return"bg-sky-500";case"green":return"bg-green-500";case"red":return"bg-red-500";case"purple":return"bg-purple-500";default:return"bg-gray-500"}};return G.jsxs("div",{className:"w-72 bg-white border-r border-gray-200 flex flex-col h-full shrink-0",children:[G.jsxs("div",{className:"p-6 border-b border-gray-100",children:[G.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[G.jsx("div",{className:"bg-blue-600 p-2 rounded-lg shadow-lg shadow-blue-600/20",children:G.jsx(OO,{className:"text-white",size:20})}),G.jsx("span",{className:"font-bold text-gray-800 text-lg tracking-tight",children:"Meus Projetos"})]}),G.jsx("p",{className:"text-xs text-gray-500 font-medium pl-1 mb-6",children:"Visualizao Unificada"}),G.jsxs("button",{onClick:s,className:"w-full py-2.5 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium text-sm transition-all shadow-sm hover:shadow-md active:scale-[0.98] flex items-center justify-center gap-2 cursor-pointer",children:[G.jsx(zO,{size:18}),"Nova Tarefa"]}),r&&r.email==="viniciusbrancos@gmail.com"&&G.jsxs("button",{onClick:()=>{confirm("Isso vai apagar dados existentes e recriar os iniciais. Continuar?")&&YO()},className:"w-full mt-3 py-2 px-4 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl font-medium text-sm transition-all shadow-sm flex items-center justify-center gap-2 cursor-pointer",children:[G.jsx(zS,{size:18}),"Seed Database"]})]}),G.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[G.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-6",children:"Progresso Geral"}),G.jsx("div",{className:"space-y-4",children:iu.map(g=>{const y=f(g.id),E=o.includes(g.id);return G.jsxs("div",{onClick:()=>u(g.id),className:`
                                    cursor-pointer p-3 rounded-xl transition-all duration-200 border
                                    ${E?"bg-blue-50 border-blue-200 shadow-sm ring-1 ring-blue-200":"bg-transparent border-transparent hover:bg-gray-50 hover:border-gray-100"}
                                `,children:[G.jsxs("div",{className:"flex justify-between items-center mb-2",children:[G.jsx("span",{className:`text-sm font-medium ${E?"text-blue-800":"text-gray-700"}`,children:g.name}),G.jsxs("span",{className:"text-xs font-semibold text-gray-500",children:[y,"%"]})]}),G.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:G.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${m(g.color)}`,style:{width:`${y}%`}})})]},g.id)})})]}),G.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50",children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{className:"flex items-center gap-3",children:[r.photoURL?G.jsx("img",{src:r.photoURL,alt:r.displayName||"User",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}):G.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold border-2 border-white shadow-sm",children:r.displayName?.[0]||"U"}),G.jsxs("div",{className:"flex flex-col",children:[G.jsx("span",{className:"text-sm font-semibold text-gray-900 leading-tight",children:r.displayName||"Usurio"}),G.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[G.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),G.jsx("span",{className:"text-xs font-medium text-green-600",children:"Online"})]})]})]}),G.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 cursor-pointer",title:"Sair",children:G.jsx(PS,{size:20})})]})})]})}function XO({user:r,onSignOut:t,tasks:n,allTasks:s,selectedProjects:o,onToggleProject:u}){const[f,m]=B.useState(null),[g,y]=B.useState(!1),[E,T]=B.useState(null),w=jN(EE(fp,{activationConstraint:{distance:5}}),EE(cp,{coordinateGetter:_O})),x=ot=>{m(ot.active.id)},Y=ot=>{const{active:ft,over:ut}=ot;if(!ut)return;const R=ft.id,A=ut.id;if(R===A)return;const C=ft.data.current?.type==="Task";ut.data.current?.type,C&&Object.keys(fg).includes(A)},Q=async ot=>{m(null);const{active:ft,over:ut}=ot;if(!ut)return;const R=ft.id,A=ut.id,C=n.find(D=>D.id===R);if(!C)return;let O=C.status;if(Object.keys(fg).includes(A))O=A;else{const D=n.find(k=>k.id===A);D&&(O=D.status)}if(C.status!==O){const D=Wl(ga,"tasks",R);await _E(D,{status:O})}},H=async ot=>{if(E){const ft=Wl(ga,"tasks",E.id);await _E(ft,{...ot}),T(null)}else await EN(Zg(ga,"tasks"),{...ot,createdAt:new Date().toISOString(),assignee:r.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.displayName||"User")}&background=random`,userId:r.uid})},tt=async ot=>{confirm("Are you sure you want to delete this task?")&&await vN(Wl(ga,"tasks",ot))},st=ot=>{T(ot),y(!0)},nt=["backlog","todo","in-progress","done"];return G.jsxs("div",{className:"h-screen flex flex-row bg-gray-100 text-gray-900 font-sans overflow-hidden",children:[G.jsx(KO,{user:r,tasks:s,onSignOut:t,onNewTask:()=>{T(null),y(!0)},selectedProjects:o,onToggleProject:u}),G.jsx("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:G.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6",children:G.jsxs(Px,{sensors:w,collisionDetection:dS,onDragStart:x,onDragOver:Y,onDragEnd:Q,children:[G.jsx("div",{className:"flex gap-6 h-full min-w-max mx-auto",children:nt.map(ot=>G.jsx(GO,{id:ot,tasks:n.filter(ft=>ft.status===ot),onDeleteTask:tt,onEditTask:st},ot))}),G.jsx(nO,{children:f?G.jsx(jS,{task:n.find(ot=>ot.id===f),onDelete:()=>{},onEdit:()=>{}}):null})]})})}),G.jsx(QO,{isOpen:g,onClose:()=>{y(!1),T(null)},onSubmit:H,editingTask:E})]})}function $O(){const r=async()=>{const t=new Cr;try{await yC(Ts,t)}catch(n){console.error("Error signing in with Google",n)}};return G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:G.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-gray-100",children:[G.jsx("div",{className:"flex justify-center mb-6",children:G.jsx("div",{className:"bg-blue-600 p-3 rounded-xl shadow-lg shadow-blue-600/20",children:G.jsx(NO,{className:"text-white",size:32})})}),G.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 tracking-tight",children:"My Projects Control Tower"}),G.jsx("p",{className:"text-gray-500 mb-8",children:"Sign in to manage your projects and tasks"}),G.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98]",children:[G.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[G.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),G.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),G.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),G.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})]})})}function JO({userEmail:r}){const t=async()=>{try{await mT(Ts)}catch(n){console.error("Error signing out",n)}};return G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:G.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-gray-100",children:[G.jsx("div",{className:"flex justify-center mb-6",children:G.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:G.jsx(zS,{className:"text-red-600",size:48})})}),G.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 tracking-tight",children:"Acesso Restrito"}),G.jsxs("p",{className:"text-gray-500 mb-8",children:["Seu email ",G.jsx("span",{className:"font-medium text-gray-700",children:r})," no tem permisso para acessar este painel. Entre em contato com o administrador."]}),G.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-2.5 px-4 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98]",children:[G.jsx(PS,{size:18}),"Sair"]})]})})}function ZO(){const[r,t]=B.useState(null),[n,s]=B.useState(!0);B.useEffect(()=>{const x=JR(Ts,Y=>{t(Y),s(!1)});return()=>x()},[]);const o=async()=>{try{await mT(Ts)}catch(x){console.error("Error signing out",x)}},[u,f]=B.useState([]),[m,g]=B.useState([]);B.useEffect(()=>{const x=sS(Zg(ga,"tasks")),Y=TN(x,Q=>{const H=Q.docs.map(tt=>({id:tt.id,...tt.data()}));f(H)});return()=>Y()},[]);const y=x=>{g(Y=>Y.includes(x)?Y.filter(Q=>Q!==x):[...Y,x])},E=m.length===0?u:u.filter(x=>m.includes(x.projectId));if(n)return G.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:G.jsx(VO,{className:"w-10 h-10 text-blue-600 animate-spin"})});if(!r)return G.jsx($O,{});const T="viniciusbrancos@gmail.com".split(",").map(x=>x.trim())||[];return T.length===0||r.email&&T.includes(r.email)?G.jsx(XO,{user:r,onSignOut:o,tasks:E,allTasks:u,selectedProjects:m,onToggleProject:y}):G.jsx(JO,{userEmail:r.email})}RA.createRoot(document.getElementById("root")).render(G.jsx(B.StrictMode,{children:G.jsx(ZO,{})}));
