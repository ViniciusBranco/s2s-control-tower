(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function u1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hm={exports:{}},zl={};var xv;function c1(){if(xv)return zl;xv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=t,zl.jsx=n,zl.jsxs=n,zl}var Mv;function h1(){return Mv||(Mv=1,hm.exports=c1()),hm.exports}var J=h1(),fm={exports:{}},At={};var Vv;function f1(){if(Vv)return At;Vv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function it(x,Y,st){this.props=x,this.context=Y,this.refs=G,this.updater=st||K}it.prototype.isReactComponent={},it.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},it.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function et(){}et.prototype=it.prototype;function nt(x,Y,st){this.props=x,this.context=Y,this.refs=G,this.updater=st||K}var ut=nt.prototype=new et;ut.constructor=nt,q(ut,it.prototype),ut.isPureReactComponent=!0;var ft=Array.isArray;function ot(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(x,Y,st){var lt=st.ref;return{$$typeof:r,type:x,key:Y,ref:lt!==void 0?lt:null,props:st}}function O(x,Y){return C(x.type,Y,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function L(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(st){return Y[st]})}var I=/\/+/g;function jt(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):Y.toString(36)}function le(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ot,ot):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Q(x,Y,st,lt,vt){var _t=typeof x;(_t==="undefined"||_t==="boolean")&&(x=null);var Nt=!1;if(x===null)Nt=!0;else switch(_t){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(x.$$typeof){case r:case t:Nt=!0;break;case E:return Nt=x._init,Q(Nt(x._payload),Y,st,lt,vt)}}if(Nt)return vt=vt(x),Nt=lt===""?"."+jt(x,0):lt,ft(vt)?(st="",Nt!=null&&(st=Nt.replace(I,"$&/")+"/"),Q(vt,Y,st,"",function(Vt){return Vt})):vt!=null&&(D(vt)&&(vt=O(vt,st+(vt.key==null||x&&x.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+Nt)),Y.push(vt)),1;Nt=0;var te=lt===""?".":lt+":";if(ft(x))for(var Ft=0;Ft<x.length;Ft++)lt=x[Ft],_t=te+jt(lt,Ft),Nt+=Q(lt,Y,st,_t,vt);else if(Ft=V(x),typeof Ft=="function")for(x=Ft.call(x),Ft=0;!(lt=x.next()).done;)lt=lt.value,_t=te+jt(lt,Ft++),Nt+=Q(lt,Y,st,_t,vt);else if(_t==="object"){if(typeof x.then=="function")return Q(le(x),Y,st,lt,vt);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function rt(x,Y,st){if(x==null)return x;var lt=[],vt=0;return Q(x,lt,"","",function(_t){return Y.call(st,_t,vt++)}),lt}function gt(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(st){(x._status===0||x._status===-1)&&(x._status=1,x._result=st)},function(st){(x._status===0||x._status===-1)&&(x._status=2,x._result=st)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var Rt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Bt={map:rt,forEach:function(x,Y,st){rt(x,function(){Y.apply(this,arguments)},st)},count:function(x){var Y=0;return rt(x,function(){Y++}),Y},toArray:function(x){return rt(x,function(Y){return Y})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return At.Activity=T,At.Children=Bt,At.Component=it,At.Fragment=n,At.Profiler=o,At.PureComponent=nt,At.StrictMode=s,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,At.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},At.cache=function(x){return function(){return x.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(x,Y,st){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var lt=q({},x.props),vt=x.key;if(Y!=null)for(_t in Y.key!==void 0&&(vt=""+Y.key),Y)!A.call(Y,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Y.ref===void 0||(lt[_t]=Y[_t]);var _t=arguments.length-2;if(_t===1)lt.children=st;else if(1<_t){for(var Nt=Array(_t),te=0;te<_t;te++)Nt[te]=arguments[te+2];lt.children=Nt}return C(x.type,vt,lt)},At.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},At.createElement=function(x,Y,st){var lt,vt={},_t=null;if(Y!=null)for(lt in Y.key!==void 0&&(_t=""+Y.key),Y)A.call(Y,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(vt[lt]=Y[lt]);var Nt=arguments.length-2;if(Nt===1)vt.children=st;else if(1<Nt){for(var te=Array(Nt),Ft=0;Ft<Nt;Ft++)te[Ft]=arguments[Ft+2];vt.children=te}if(x&&x.defaultProps)for(lt in Nt=x.defaultProps,Nt)vt[lt]===void 0&&(vt[lt]=Nt[lt]);return C(x,_t,vt)},At.createRef=function(){return{current:null}},At.forwardRef=function(x){return{$$typeof:m,render:x}},At.isValidElement=D,At.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:gt}},At.memo=function(x,Y){return{$$typeof:y,type:x,compare:Y===void 0?null:Y}},At.startTransition=function(x){var Y=R.T,st={};R.T=st;try{var lt=x(),vt=R.S;vt!==null&&vt(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(ot,Rt)}catch(_t){Rt(_t)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),R.T=Y}},At.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},At.use=function(x){return R.H.use(x)},At.useActionState=function(x,Y,st){return R.H.useActionState(x,Y,st)},At.useCallback=function(x,Y){return R.H.useCallback(x,Y)},At.useContext=function(x){return R.H.useContext(x)},At.useDebugValue=function(){},At.useDeferredValue=function(x,Y){return R.H.useDeferredValue(x,Y)},At.useEffect=function(x,Y){return R.H.useEffect(x,Y)},At.useEffectEvent=function(x){return R.H.useEffectEvent(x)},At.useId=function(){return R.H.useId()},At.useImperativeHandle=function(x,Y,st){return R.H.useImperativeHandle(x,Y,st)},At.useInsertionEffect=function(x,Y){return R.H.useInsertionEffect(x,Y)},At.useLayoutEffect=function(x,Y){return R.H.useLayoutEffect(x,Y)},At.useMemo=function(x,Y){return R.H.useMemo(x,Y)},At.useOptimistic=function(x,Y){return R.H.useOptimistic(x,Y)},At.useReducer=function(x,Y,st){return R.H.useReducer(x,Y,st)},At.useRef=function(x){return R.H.useRef(x)},At.useState=function(x){return R.H.useState(x)},At.useSyncExternalStore=function(x,Y,st){return R.H.useSyncExternalStore(x,Y,st)},At.useTransition=function(){return R.H.useTransition()},At.version="19.2.0",At}var Lv;function fg(){return Lv||(Lv=1,fm.exports=f1()),fm.exports}var B=fg();const _e=u1(B);var dm={exports:{}},jl={},mm={exports:{}},gm={};var kv;function d1(){return kv||(kv=1,(function(r){function t(Q,rt){var gt=Q.length;Q.push(rt);t:for(;0<gt;){var Rt=gt-1>>>1,Bt=Q[Rt];if(0<o(Bt,rt))Q[Rt]=rt,Q[gt]=Bt,gt=Rt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var rt=Q[0],gt=Q.pop();if(gt!==rt){Q[0]=gt;t:for(var Rt=0,Bt=Q.length,x=Bt>>>1;Rt<x;){var Y=2*(Rt+1)-1,st=Q[Y],lt=Y+1,vt=Q[lt];if(0>o(st,gt))lt<Bt&&0>o(vt,st)?(Q[Rt]=vt,Q[lt]=gt,Rt=lt):(Q[Rt]=st,Q[Y]=gt,Rt=Y);else if(lt<Bt&&0>o(vt,gt))Q[Rt]=vt,Q[lt]=gt,Rt=lt;else break t}}return rt}function o(Q,rt){var gt=Q.sortIndex-rt.sortIndex;return gt!==0?gt:Q.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,T=null,w=3,V=!1,K=!1,q=!1,G=!1,it=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function ut(Q){for(var rt=n(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=Q)s(y),rt.sortIndex=rt.expirationTime,t(g,rt);else break;rt=n(y)}}function ft(Q){if(q=!1,ut(Q),!K)if(n(g)!==null)K=!0,ot||(ot=!0,L());else{var rt=n(y);rt!==null&&le(ft,rt.startTime-Q)}}var ot=!1,R=-1,A=5,C=-1;function O(){return G?!0:!(r.unstable_now()-C<A)}function D(){if(G=!1,ot){var Q=r.unstable_now();C=Q;var rt=!0;try{t:{K=!1,q&&(q=!1,et(R),R=-1),V=!0;var gt=w;try{e:{for(ut(Q),T=n(g);T!==null&&!(T.expirationTime>Q&&O());){var Rt=T.callback;if(typeof Rt=="function"){T.callback=null,w=T.priorityLevel;var Bt=Rt(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof Bt=="function"){T.callback=Bt,ut(Q),rt=!0;break e}T===n(g)&&s(g),ut(Q)}else s(g);T=n(g)}if(T!==null)rt=!0;else{var x=n(y);x!==null&&le(ft,x.startTime-Q),rt=!1}}break t}finally{T=null,w=gt,V=!1}rt=void 0}}finally{rt?L():ot=!1}}}var L;if(typeof nt=="function")L=function(){nt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,jt=I.port2;I.port1.onmessage=D,L=function(){jt.postMessage(null)}}else L=function(){it(D,0)};function le(Q,rt){R=it(function(){Q(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var rt=3;break;default:rt=w}var gt=w;w=rt;try{return Q()}finally{w=gt}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,rt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var gt=w;w=Q;try{return rt()}finally{w=gt}},r.unstable_scheduleCallback=function(Q,rt,gt){var Rt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Rt+gt:Rt):gt=Rt,Q){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=gt+Bt,Q={id:E++,callback:rt,priorityLevel:Q,startTime:gt,expirationTime:Bt,sortIndex:-1},gt>Rt?(Q.sortIndex=gt,t(y,Q),n(g)===null&&Q===n(y)&&(q?(et(R),R=-1):q=!0,le(ft,gt-Rt))):(Q.sortIndex=Bt,t(g,Q),K||V||(K=!0,ot||(ot=!0,L()))),Q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Q){var rt=w;return function(){var gt=w;w=rt;try{return Q.apply(this,arguments)}finally{w=gt}}}})(gm)),gm}var Uv;function m1(){return Uv||(Uv=1,mm.exports=d1()),mm.exports}var pm={exports:{}},mn={};var Pv;function g1(){if(Pv)return mn;Pv=1;var r=fg();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},mn.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},mn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},mn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},mn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:V}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:w,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},mn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},mn.requestFormReset=function(g){s.d.r(g)},mn.unstable_batchedUpdates=function(g,y){return g(y)},mn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.2.0",mn}var zv;function ME(){if(zv)return pm.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),pm.exports=g1(),pm.exports}var jv;function p1(){if(jv)return jl;jv=1;var r=m1(),t=fg(),n=ME();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function jt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case it:return"Profiler";case G:return"StrictMode";case ft:return"Suspense";case ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case K:return"Portal";case nt:return e.displayName||"Context";case et:return(e._context.displayName||"Context")+".Consumer";case ut:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:jt(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return jt(e(i))}catch{}}return null}var le=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Rt=[],Bt=-1;function x(e){return{current:e}}function Y(e){0>Bt||(e.current=Rt[Bt],Rt[Bt]=null,Bt--)}function st(e,i){Bt++,Rt[Bt]=e.current,e.current=i}var lt=x(null),vt=x(null),_t=x(null),Nt=x(null);function te(e,i){switch(st(_t,i),st(vt,e),st(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?ev(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=ev(i),e=nv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(lt),st(lt,e)}function Ft(){Y(lt),Y(vt),Y(_t)}function Vt(e){e.memoizedState!==null&&st(Nt,e);var i=lt.current,a=nv(i,e.type);i!==a&&(st(vt,e),st(lt,a))}function ti(e){vt.current===e&&(Y(lt),Y(vt)),Nt.current===e&&(Y(Nt),Ll._currentValue=gt)}var We,Pn;function Ie(e){if(We===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);We=i&&i[1]||"",Pn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+e+Pn}var ei=!1;function Rn(e,i){if(!e||ei)return"";ei=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var j=F}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(F){j=F}e.call(Z.prototype)}}else{try{throw Error()}catch(F){j=F}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),z=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var X=`
`+N[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=h);break}}}finally{ei=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ie(a):""}function Vr(e,i){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==i&&i!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Rn(e.type,!1);case 11:return Rn(e.type.render,!1);case 1:return Rn(e.type,!0);case 31:return Ie("Activity");default:return""}}function Lr(e){try{var i="",a=null;do i+=Vr(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fe=Object.prototype.hasOwnProperty,ee=r.unstable_scheduleCallback,zn=r.unstable_cancelCallback,kr=r.unstable_shouldYield,Ls=r.unstable_requestPaint,Qe=r.unstable_now,ir=r.unstable_getCurrentPriorityLevel,ks=r.unstable_ImmediatePriority,ni=r.unstable_UserBlockingPriority,vn=r.unstable_NormalPriority,rr=r.unstable_LowPriority,Us=r.unstable_IdlePriority,jn=r.log,Ps=r.unstable_setDisableYieldValue,Bn=null,qe=null;function cn(e){if(typeof jn=="function"&&Ps(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Bn,e)}catch{}}var de=Math.clz32?Math.clz32:wa,Aa=Math.log,sr=Math.LN2;function wa(e){return e>>>=0,e===0?32:31-(Aa(e)/sr|0)|0}var ii=256,ar=262144,Ot=4194304;function me(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ge(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=me(l):(_&=b,_!==0?h=me(_):a||(a=b&~e,a!==0&&(h=me(a))))):(b=l&~d,b!==0?h=me(b):_!==0?h=me(_):a||(a=l&~e,a!==0&&(h=me(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function De(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function hn(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var e=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),e}function be(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Cn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var X=31-de(a),Z=1<<X;b[X]=0,N[X]=-1;var j=z[X];if(j!==null)for(z[X]=null,X=0;X<j.length;X++){var F=j[X];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&fn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function fn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function dn(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function En(e,i){var a=i&-i;return a=(a&42)!==0?1:qn(a),(a&(e.suspendedLanes|i))!==0?0:a}function qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hn(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:wv(e.type))}function tn(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var bn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+bn,Ke="__reactProps$"+bn,xi="__reactContainer$"+bn,Ra="__reactEvents$"+bn,yf="__reactListeners$"+bn,Ou="__reactHandles$"+bn,xu="__reactResources$"+bn,Mi="__reactMarker$"+bn;function Ca(e){delete e[Ne],delete e[Ke],delete e[Ra],delete e[yf],delete e[Ou]}function Vi(e){var i=e[Ne];if(i)return i;for(var a=e.parentNode;a;){if(i=a[xi]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=uv(e);e!==null;){if(a=e[Ne])return a;e=uv(e)}return i}e=a,a=e.parentNode}return null}function ri(e){if(e=e[Ne]||e[xi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Li(e){var i=e[xu];return i||(i=e[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Oe(e){e[Mi]=!0}var qo=new Set,Ho={};function ki(e,i){Ui(e,i),Ui(e+"Capture",i)}function Ui(e,i){for(Ho[e]=i,e=0;e<i.length;e++)qo.add(i[e])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Qo={};function Mu(e){return fe.call(Qo,e)?!0:fe.call(Go,e)?!1:Fo.test(e)?Qo[e]=!0:(Go[e]=!0,!1)}function Ia(e,i,a){if(Mu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function xe(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ur(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Jt(e){if(!e._valueTracker){var i=Ur(e)?"checked":"value";e._valueTracker=Yo(e,i,""+e[i])}}function zs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Ur(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var js=/[\n"\\]/g;function In(e){return e.replace(js,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Da(e,i,a,l,h,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Xe(i)):e.value!==""+Xe(i)&&(e.value=""+Xe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Ko(e,_,Xe(i)):a!=null?Ko(e,_,Xe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Xe(b):e.removeAttribute("name")}function Vu(e,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Jt(e);return}a=a!=null?""+Xe(a):"",i=i!=null?""+Xe(i):a,b||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Jt(e)}function Ko(e,i,a){i==="number"&&Pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Pr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Lu(e,i,a){if(i!=null&&(i=""+Xe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Xe(a):""}function zr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Xe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Jt(e)}function Dn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||ku.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function $o(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Xo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Xo(e,d,i[d])}function Na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(e){return jr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _i(){}var Jo=null;function si(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Br=null,zi=null;function Bs(e){var i=ri(e);if(i&&(e=i.stateNode)){var a=e[Ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(Da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+In(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ke]||null;if(!h)throw Error(s(90));Da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&zs(l)}break t;case"textarea":Lu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Pr(e,!!a.multiple,i,!1)}}}var xa=!1;function qr(e,i,a){if(xa)return e(i,a);xa=!0;try{var l=e(i);return l}finally{if(xa=!1,(Br!==null||zi!==null)&&(Nc(),Br&&(i=Br,e=zi,zi=Br=null,Bs(i),e)))for(i=0;i<e.length;i++)Bs(e[i])}}function vi(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(ai)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){qs=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{qs=!1}var ji=null,Zo=null,Hs=null;function Wo(){if(Hs)return Hs;var e,i=Zo,a=i.length,l,h="value"in ji?ji.value:ji.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Hs=h.slice(e,1<l?1-l:void 0)}function Fs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function Ei(){return!1}function en(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?or:Ei,this.isPropagationStopped=Ei,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=en(lr),Hr=T({},lr,{view:0,detail:0}),tl=en(Hr),Fr,Ma,qi,Va=T({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Fr=e.screenX-qi.screenX,Ma=e.screenY-qi.screenY):Ma=Fr=0,qi=e),Fr)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),el=en(Va),Gs=T({},Va,{dataTransfer:0}),Pu=en(Gs),zu=T({},Hr,{relatedTarget:0}),Qs=en(zu),nl=T({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=en(nl),La=T({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bu=en(La),qu=T({},lr,{data:0}),Hi=en(qu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Gu[e])?!!i[e]:!1}function Gr(){return Qu}var Sn=T({},Hr,{key:function(e){if(e.key){var i=Hu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yu=en(Sn),Ku=T({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=en(Ku),c=T({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),p=en(c),v=T({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=en(v),U=T({},Va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=en(U),at=T({},lr,{newState:0,oldState:0}),Ct=en(at),Ae=[9,13,27,32],Kt=ai&&"CompositionEvent"in window,pe=null;ai&&"documentMode"in document&&(pe=document.documentMode);var oi=ai&&"TextEvent"in window&&!pe,Fi=ai&&(!Kt||pe&&8<pe&&11>=pe),Ti=" ",bi=!1;function Ys(e,i){switch(e){case"keyup":return Ae.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ua=!1;function MS(e,i){switch(e){case"compositionend":return ka(i);case"keypress":return i.which!==32?null:(bi=!0,Ti);case"textInput":return e=i.data,e===Ti&&bi?null:e;default:return null}}function VS(e,i){if(Ua)return e==="compositionend"||!Kt&&Ys(e,i)?(e=Wo(),Hs=Zo=ji=null,Ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fi&&i.locale!=="ko"?null:i.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!LS[e.type]:i==="textarea"}function dp(e,i,a,l){Br?zi?zi.push(l):zi=[l]:Br=l,i=Uc(i,"onChange"),0<i.length&&(a=new Bi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var il=null,rl=null;function kS(e){X_(e,0)}function Xu(e){var i=Fn(e);if(zs(i))return e}function mp(e,i){if(e==="change")return i}var gp=!1;if(ai){var _f;if(ai){var vf="oninput"in document;if(!vf){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),vf=typeof pp.oninput=="function"}_f=vf}else _f=!1;gp=_f&&(!document.documentMode||9<document.documentMode)}function yp(){il&&(il.detachEvent("onpropertychange",_p),rl=il=null)}function _p(e){if(e.propertyName==="value"&&Xu(rl)){var i=[];dp(i,rl,e,si(e)),qr(kS,i)}}function US(e,i,a){e==="focusin"?(yp(),il=i,rl=a,il.attachEvent("onpropertychange",_p)):e==="focusout"&&yp()}function PS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(rl)}function zS(e,i){if(e==="click")return Xu(i)}function jS(e,i){if(e==="input"||e==="change")return Xu(i)}function BS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Qn=typeof Object.is=="function"?Object.is:BS;function sl(e,i){if(Qn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!fe.call(i,h)||!Qn(e[h],i[h]))return!1}return!0}function vp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ep(e,i){var a=vp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=vp(a)}}function Tp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Tp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Pi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Pi(e.document)}return i}function Ef(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var qS=ai&&"documentMode"in document&&11>=document.documentMode,Pa=null,Tf=null,al=null,bf=!1;function Sp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bf||Pa==null||Pa!==Pi(l)||(l=Pa,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Uc(Tf,"onSelect"),0<l.length&&(i=new Bi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Pa)))}function Ks(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var za={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Sf={},Ap={};ai&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Xs(e){if(Sf[e])return Sf[e];if(!za[e])return e;var i=za[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ap)return Sf[e]=i[a];return e}var wp=Xs("animationend"),Rp=Xs("animationiteration"),Cp=Xs("animationstart"),HS=Xs("transitionrun"),FS=Xs("transitionstart"),GS=Xs("transitioncancel"),Ip=Xs("transitionend"),Dp=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function Si(e,i){Dp.set(e,i),ki(i,[e])}var $u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},li=[],ja=0,wf=0;function Ju(){for(var e=ja,i=wf=ja=0;i<e;){var a=li[i];li[i++]=null;var l=li[i];li[i++]=null;var h=li[i];li[i++]=null;var d=li[i];if(li[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Np(a,h,d)}}function Zu(e,i,a,l){li[ja++]=e,li[ja++]=i,li[ja++]=a,li[ja++]=l,wf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Rf(e,i,a,l){return Zu(e,i,a,l),Wu(e)}function $s(e,i){return Zu(e,null,null,i),Wu(e)}function Np(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wu(e){if(50<Il)throw Il=0,Ld=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ba={};function QS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,i,a,l){return new QS(e,i,a,l)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cr(e,i){var a=e.alternate;return a===null?(a=Yn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Op(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function tc(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Cf(e)&&(_=1);else if(typeof e=="string")_=JA(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Yn(31,a,i,h),e.elementType=C,e.lanes=d,e;case q:return Js(a.children,h,d,i);case G:_=8,h|=24;break;case it:return e=Yn(12,a,i,h|2),e.elementType=it,e.lanes=d,e;case ft:return e=Yn(13,a,i,h),e.elementType=ft,e.lanes=d,e;case ot:return e=Yn(19,a,i,h),e.elementType=ot,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:_=10;break t;case et:_=9;break t;case ut:_=11;break t;case R:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Yn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Js(e,i,a,l){return e=Yn(7,e,l,i),e.lanes=a,e}function If(e,i,a){return e=Yn(6,e,null,i),e.lanes=a,e}function xp(e){var i=Yn(18,null,null,0);return i.stateNode=e,i}function Df(e,i,a){return i=Yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Mp=new WeakMap;function ui(e,i){if(typeof e=="object"&&e!==null){var a=Mp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Lr(i)},Mp.set(e,i),i)}return{value:e,source:i,stack:Lr(i)}}var qa=[],Ha=0,ec=null,ol=0,ci=[],hi=0,Qr=null,Gi=1,Qi="";function hr(e,i){qa[Ha++]=ol,qa[Ha++]=ec,ec=e,ol=i}function Vp(e,i,a){ci[hi++]=Gi,ci[hi++]=Qi,ci[hi++]=Qr,Qr=e;var l=Gi;e=Qi;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Gi=1<<32-de(i)+h|a<<h|l,Qi=d+e}else Gi=1<<d|a<<h|l,Qi=e}function Nf(e){e.return!==null&&(hr(e,1),Vp(e,1,0))}function Of(e){for(;e===ec;)ec=qa[--Ha],qa[Ha]=null,ol=qa[--Ha],qa[Ha]=null;for(;e===Qr;)Qr=ci[--hi],ci[hi]=null,Qi=ci[--hi],ci[hi]=null,Gi=ci[--hi],ci[hi]=null}function Lp(e,i){ci[hi++]=Gi,ci[hi++]=Qi,ci[hi++]=Qr,Gi=i.id,Qi=i.overflow,Qr=e}var nn=null,ue=null,qt=!1,Yr=null,fi=!1,xf=Error(s(519));function Kr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(ui(i,e)),xf}function kp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ne]=e,i[Ke]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Mt(Nl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),zr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||W_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=_i),i=!0):i=!1,i||Kr(e,!0)}function Up(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:nn=nn.return}}function Fa(e){if(e!==nn)return!1;if(!qt)return Up(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||$d(e.type,e.memoizedProps)),a=!a),a&&ue&&Kr(e),Up(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ue=lv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ue=lv(e)}else i===27?(i=ue,ls(e.type)?(e=em,em=null,ue=e):ue=i):ue=nn?mi(e.stateNode.nextSibling):null;return!0}function Zs(){ue=nn=null,qt=!1}function Mf(){var e=Yr;return e!==null&&(Mn===null?Mn=e:Mn.push.apply(Mn,e),Yr=null),e}function ll(e){Yr===null?Yr=[e]:Yr.push(e)}var Vf=x(null),Ws=null,fr=null;function Xr(e,i,a){st(Vf,i._currentValue),i._currentValue=a}function dr(e){e._currentValue=Vf.current,Y(Vf)}function Lf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function kf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Lf(d.return,a,e),l||(_=null);break t}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Lf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ga(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;Qn(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===Nt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}h=h.return}e!==null&&kf(i,e,a,l),i.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ta(e){Ws=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return Pp(Ws,e)}function ic(e,i){return Ws===null&&ta(e),Pp(e,i)}function Pp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},fr===null){if(e===null)throw Error(s(308));fr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else fr=fr.next=i;return a}var YS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},KS=r.unstable_scheduleCallback,XS=r.unstable_NormalPriority,Me={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new YS,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&KS(XS,function(){e.controller.abort()})}var cl=null,Pf=0,Qa=0,Ya=null;function $S(e,i){if(cl===null){var a=cl=[];Pf=0,Qa=Bd(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,i.then(zp,zp),i}function zp(){if(--Pf===0&&cl!==null){Ya!==null&&(Ya.status="fulfilled");var e=cl;cl=null,Qa=0,Ya=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function JS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var jp=Q.S;Q.S=function(e,i){S_=Qe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$S(e,i),jp!==null&&jp(e,i)};var ea=x(null);function zf(){var e=ea.current;return e!==null?e:ae.pooledCache}function rc(e,i){i===null?st(ea,ea.current):st(ea,i.pool)}function Bp(){var e=zf();return e===null?null:{parent:Me._currentValue,pool:e}}var Ka=Error(s(460)),jf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(_i,_i),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gp(e),e;default:if(typeof i.status=="string")i.then(_i,_i);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gp(e),e}throw ia=i,Ka}}function na(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Ka):a}}var ia=null;function Fp(){if(ia===null)throw Error(s(459));var e=ia;return ia=null,e}function Gp(e){if(e===Ka||e===sc)throw Error(s(483))}var Xa=null,hl=0;function oc(e){var i=hl;return hl+=1,Xa===null&&(Xa=[]),Hp(Xa,e,i)}function fl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function lc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Qp(e){function i(k,M){if(e){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=cr(k,M),k.index=0,k.sibling=null,k}function d(k,M,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,M,P,$){return M===null||M.tag!==6?(M=If(P,k.mode,$),M.return=k,M):(M=h(M,P),M.return=k,M)}function N(k,M,P,$){var pt=P.type;return pt===q?X(k,M,P.props.children,$,P.key):M!==null&&(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&na(pt)===M.type)?(M=h(M,P.props),fl(M,P),M.return=k,M):(M=tc(P.type,P.key,P.props,null,k.mode,$),fl(M,P),M.return=k,M)}function z(k,M,P,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Df(P,k.mode,$),M.return=k,M):(M=h(M,P.children||[]),M.return=k,M)}function X(k,M,P,$,pt){return M===null||M.tag!==7?(M=Js(P,k.mode,$,pt),M.return=k,M):(M=h(M,P),M.return=k,M)}function Z(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=If(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return P=tc(M.type,M.key,M.props,null,k.mode,P),fl(P,M),P.return=k,P;case K:return M=Df(M,k.mode,P),M.return=k,M;case A:return M=na(M),Z(k,M,P)}if(le(M)||L(M))return M=Js(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return Z(k,oc(M),P);if(M.$$typeof===nt)return Z(k,ic(k,M),P);lc(k,M)}return null}function j(k,M,P,$){var pt=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pt!==null?null:b(k,M,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case V:return P.key===pt?N(k,M,P,$):null;case K:return P.key===pt?z(k,M,P,$):null;case A:return P=na(P),j(k,M,P,$)}if(le(P)||L(P))return pt!==null?null:X(k,M,P,$,null);if(typeof P.then=="function")return j(k,M,oc(P),$);if(P.$$typeof===nt)return j(k,M,ic(k,P),$);lc(k,P)}return null}function F(k,M,P,$,pt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(P)||null,b(M,k,""+$,pt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case V:return k=k.get($.key===null?P:$.key)||null,N(M,k,$,pt);case K:return k=k.get($.key===null?P:$.key)||null,z(M,k,$,pt);case A:return $=na($),F(k,M,P,$,pt)}if(le($)||L($))return k=k.get(P)||null,X(M,k,$,pt,null);if(typeof $.then=="function")return F(k,M,P,oc($),pt);if($.$$typeof===nt)return F(k,M,P,ic(M,$),pt);lc(M,$)}return null}function dt(k,M,P,$){for(var pt=null,Qt=null,mt=M,Dt=M=0,kt=null;mt!==null&&Dt<P.length;Dt++){mt.index>Dt?(kt=mt,mt=null):kt=mt.sibling;var Yt=j(k,mt,P[Dt],$);if(Yt===null){mt===null&&(mt=kt);break}e&&mt&&Yt.alternate===null&&i(k,mt),M=d(Yt,M,Dt),Qt===null?pt=Yt:Qt.sibling=Yt,Qt=Yt,mt=kt}if(Dt===P.length)return a(k,mt),qt&&hr(k,Dt),pt;if(mt===null){for(;Dt<P.length;Dt++)mt=Z(k,P[Dt],$),mt!==null&&(M=d(mt,M,Dt),Qt===null?pt=mt:Qt.sibling=mt,Qt=mt);return qt&&hr(k,Dt),pt}for(mt=l(mt);Dt<P.length;Dt++)kt=F(mt,k,Dt,P[Dt],$),kt!==null&&(e&&kt.alternate!==null&&mt.delete(kt.key===null?Dt:kt.key),M=d(kt,M,Dt),Qt===null?pt=kt:Qt.sibling=kt,Qt=kt);return e&&mt.forEach(function(ds){return i(k,ds)}),qt&&hr(k,Dt),pt}function Et(k,M,P,$){if(P==null)throw Error(s(151));for(var pt=null,Qt=null,mt=M,Dt=M=0,kt=null,Yt=P.next();mt!==null&&!Yt.done;Dt++,Yt=P.next()){mt.index>Dt?(kt=mt,mt=null):kt=mt.sibling;var ds=j(k,mt,Yt.value,$);if(ds===null){mt===null&&(mt=kt);break}e&&mt&&ds.alternate===null&&i(k,mt),M=d(ds,M,Dt),Qt===null?pt=ds:Qt.sibling=ds,Qt=ds,mt=kt}if(Yt.done)return a(k,mt),qt&&hr(k,Dt),pt;if(mt===null){for(;!Yt.done;Dt++,Yt=P.next())Yt=Z(k,Yt.value,$),Yt!==null&&(M=d(Yt,M,Dt),Qt===null?pt=Yt:Qt.sibling=Yt,Qt=Yt);return qt&&hr(k,Dt),pt}for(mt=l(mt);!Yt.done;Dt++,Yt=P.next())Yt=F(mt,k,Dt,Yt.value,$),Yt!==null&&(e&&Yt.alternate!==null&&mt.delete(Yt.key===null?Dt:Yt.key),M=d(Yt,M,Dt),Qt===null?pt=Yt:Qt.sibling=Yt,Qt=Yt);return e&&mt.forEach(function(l1){return i(k,l1)}),qt&&hr(k,Dt),pt}function se(k,M,P,$){if(typeof P=="object"&&P!==null&&P.type===q&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case V:t:{for(var pt=P.key;M!==null;){if(M.key===pt){if(pt=P.type,pt===q){if(M.tag===7){a(k,M.sibling),$=h(M,P.props.children),$.return=k,k=$;break t}}else if(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&na(pt)===M.type){a(k,M.sibling),$=h(M,P.props),fl($,P),$.return=k,k=$;break t}a(k,M);break}else i(k,M);M=M.sibling}P.type===q?($=Js(P.props.children,k.mode,$,P.key),$.return=k,k=$):($=tc(P.type,P.key,P.props,null,k.mode,$),fl($,P),$.return=k,k=$)}return _(k);case K:t:{for(pt=P.key;M!==null;){if(M.key===pt)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(k,M.sibling),$=h(M,P.children||[]),$.return=k,k=$;break t}else{a(k,M);break}else i(k,M);M=M.sibling}$=Df(P,k.mode,$),$.return=k,k=$}return _(k);case A:return P=na(P),se(k,M,P,$)}if(le(P))return dt(k,M,P,$);if(L(P)){if(pt=L(P),typeof pt!="function")throw Error(s(150));return P=pt.call(P),Et(k,M,P,$)}if(typeof P.then=="function")return se(k,M,oc(P),$);if(P.$$typeof===nt)return se(k,M,ic(k,P),$);lc(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(k,M.sibling),$=h(M,P),$.return=k,k=$):(a(k,M),$=If(P,k.mode,$),$.return=k,k=$),_(k)):a(k,M)}return function(k,M,P,$){try{hl=0;var pt=se(k,M,P,$);return Xa=null,pt}catch(mt){if(mt===Ka||mt===sc)throw mt;var Qt=Yn(29,mt,null,k.mode);return Qt.lanes=$,Qt.return=k,Qt}finally{}}}var ra=Qp(!0),Yp=Qp(!1),$r=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Wu(e),Np(e,null,a),i}return Zu(e,l,i,a),Wu(e)}function dl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,dn(e,a)}}function Hf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ff=!1;function ml(){if(Ff){var e=Ya;if(e!==null)throw e}}function gl(e,i,a,l){Ff=!1;var h=e.updateQueue;$r=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,z=N.next;N.next=null,_===null?d=z:_.next=z,_=N;var X=e.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==_&&(b===null?X.firstBaseUpdate=z:b.next=z,X.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,X=z=N=null,b=d;do{var j=b.lane&-536870913,F=j!==b.lane;if(F?(Lt&j)===j:(l&j)===j){j!==0&&j===Qa&&(Ff=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var dt=e,Et=b;j=i;var se=a;switch(Et.tag){case 1:if(dt=Et.payload,typeof dt=="function"){Z=dt.call(se,Z,j);break t}Z=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Et.payload,j=typeof dt=="function"?dt.call(se,Z,j):dt,j==null)break t;Z=T({},Z,j);break t;case 2:$r=!0}}j=b.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(z=X=F,N=Z):X=X.next=F,_|=j;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),is|=_,e.lanes=_,e.memoizedState=Z}}function Kp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Xp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Kp(a[e],i)}var $a=x(null),uc=x(0);function $p(e,i){e=br,st(uc,e),st($a,i),br=e|i.baseLanes}function Gf(){st(uc,br),st($a,$a.current)}function Qf(){br=uc.current,Y($a),Y(uc)}var Kn=x(null),di=null;function Wr(e){var i=e.alternate;st(we,we.current&1),st(Kn,e),di===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(di=e)}function Yf(e){st(we,we.current),st(Kn,e),di===null&&(di=e)}function Jp(e){e.tag===22?(st(we,we.current),st(Kn,e),di===null&&(di=e)):ts()}function ts(){st(we,we.current),st(Kn,Kn.current)}function Xn(e){Y(Kn),di===e&&(di=null),Y(we)}var we=x(0);function cc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var mr=0,It=null,ie=null,Ve=null,hc=!1,Ja=!1,sa=!1,fc=0,pl=0,Za=null,ZS=0;function Ee(){throw Error(s(321))}function Kf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Qn(e[a],i[a]))return!1;return!0}function Xf(e,i,a,l,h,d){return mr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?Vy:cd,sa=!1,d=a(l,h),sa=!1,Ja&&(d=Wp(i,a,l,h)),Zp(e),d}function Zp(e){Q.H=vl;var i=ie!==null&&ie.next!==null;if(mr=0,Ve=ie=It=null,hc=!1,pl=0,Za=null,i)throw Error(s(300));e===null||Le||(e=e.dependencies,e!==null&&nc(e)&&(Le=!0))}function Wp(e,i,a,l){It=e;var h=0;do{if(Ja&&(Za=null),pl=0,Ja=!1,25<=h)throw Error(s(301));if(h+=1,Ve=ie=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Ly,d=i(a,l)}while(Ja);return d}function WS(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?yl(i):i,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(It.flags|=1024),i}function $f(){var e=fc!==0;return fc=0,e}function Jf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Zf(e){if(hc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}hc=!1}mr=0,Ve=ie=It=null,Ja=!1,pl=fc=0,Za=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Re(){if(ie===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var i=Ve===null?It.memoizedState:Ve.next;if(i!==null)Ve=i,ie=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(e){var i=pl;return pl+=1,Za===null&&(Za=[]),e=Hp(Za,e,i),i=It,(Ve===null?i.memoizedState:Ve.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Vy:cd),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yl(e);if(e.$$typeof===nt)return rn(e)}throw Error(s(438,String(e)))}function Wf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function gr(e,i){return typeof i=="function"?i(e):i}function gc(e){var i=Re();return td(i,ie,e)}function td(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var b=_=null,N=null,z=i,X=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Lt&Z)===Z:(mr&Z)===Z){var j=z.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Qa&&(X=!0);else if((mr&j)===j){z=z.next,j===Qa&&(X=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=Z,_=d):N=N.next=Z,It.lanes|=j,is|=j;Z=z.action,sa&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else j={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=j,_=d):N=N.next=j,It.lanes|=Z,is|=Z;z=z.next}while(z!==null&&z!==i);if(N===null?_=d:N.next=b,!Qn(d,e.memoizedState)&&(Le=!0,X&&(a=Ya,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ed(e){var i=Re(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Qn(d,i.memoizedState)||(Le=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(e,i,a){var l=It,h=Re(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Qn((ie||h).memoizedState,a);if(_&&(h.memoizedState=a,Le=!0),h=h.queue,rd(iy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},ny.bind(null,l,h,a,i),null),ae===null)throw Error(s(349));d||(mr&127)!==0||ey(l,i,a)}return a}function ey(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=dc(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ny(e,i,a,l){i.value=a,i.getSnapshot=l,ry(i)&&sy(e)}function iy(e,i,a){return a(function(){ry(i)&&sy(e)})}function ry(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Qn(e,a)}catch{return!0}}function sy(e){var i=$s(e,2);i!==null&&Vn(i,e,2)}function nd(e){var i=An();if(typeof e=="function"){var a=e;if(e=a(),sa){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:e},i}function ay(e,i,a,l){return e.baseState=a,td(e,ie,typeof l=="function"?l:gr)}function tA(e,i,a,l,h){if(_c(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,oy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function oy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var b=a(h,l),N=Q.S;N!==null&&N(_,b),ly(e,i,b)}catch(z){id(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),ly(e,i,d)}catch(z){id(e,i,z)}}function ly(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){uy(e,i,l)},function(l){return id(e,i,l)}):uy(e,i,a)}function uy(e,i,a){i.status="fulfilled",i.value=a,cy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,oy(e,a)))}function id(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,cy(i),i=i.next;while(i!==l)}e.action=null}function cy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function hy(e,i){return i}function fy(e,i){if(qt){var a=ae.formState;if(a!==null){t:{var l=It;if(qt){if(ue){e:{for(var h=ue,d=fi;h.nodeType!==8;){if(!d){h=null;break e}if(h=mi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=mi(h.nextSibling),l=h.data==="F!";break t}}Kr(l)}l=!1}l&&(i=a[0])}}return a=An(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:i},a.queue=l,a=Oy.bind(null,It,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,It,!1,l.queue),l=An(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=tA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function dy(e){var i=Re();return my(i,ie,e)}function my(e,i,a){if(i=td(e,i,hy)[0],e=gc(gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(_){throw _===Ka?sc:_}else l=i;i=Re();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Wa(9,{destroy:void 0},eA.bind(null,h,a),null)),[l,d,e]}function eA(e,i){e.action=i}function gy(e){var i=Re(),a=ie;if(a!==null)return my(i,a,e);Re(),i=i.memoizedState,a=Re();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Wa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=dc(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function py(){return Re().memoizedState}function pc(e,i,a,l){var h=An();It.flags|=e,h.memoizedState=Wa(1|i,{destroy:void 0},a,l===void 0?null:l)}function yc(e,i,a,l){var h=Re();l=l===void 0?null:l;var d=h.memoizedState.inst;ie!==null&&l!==null&&Kf(l,ie.memoizedState.deps)?h.memoizedState=Wa(i,d,a,l):(It.flags|=e,h.memoizedState=Wa(1|i,d,a,l))}function yy(e,i){pc(8390656,8,e,i)}function rd(e,i){yc(2048,8,e,i)}function nA(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=dc(),It.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function _y(e){var i=Re().memoizedState;return nA({ref:i,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function vy(e,i){return yc(4,2,e,i)}function Ey(e,i){return yc(4,4,e,i)}function Ty(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function by(e,i,a){a=a!=null?a.concat([e]):null,yc(4,4,Ty.bind(null,i,e),a)}function sd(){}function Sy(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ay(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kf(i,l[1]))return l[0];if(l=e(),sa){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function ad(e,i,a){return a===void 0||(mr&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=w_(),It.lanes|=e,is|=e,a)}function wy(e,i,a,l){return Qn(a,i)?a:$a.current!==null?(e=ad(e,a,l),Qn(e,i)||(Le=!0),e):(mr&42)===0||(mr&1073741824)!==0&&(Lt&261930)===0?(Le=!0,e.memoizedState=a):(e=w_(),It.lanes|=e,is|=e,i)}function Ry(e,i,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=Q.T,b={};Q.T=b,ud(e,!1,i,a);try{var N=h(),z=Q.S;if(z!==null&&z(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=JS(N,l);_l(e,i,X,Zn(e))}else _l(e,i,l,Zn(e))}catch(Z){_l(e,i,{then:function(){},status:"rejected",reason:Z},Zn())}finally{rt.p=d,_!==null&&b.types!==null&&(_.types=b.types),Q.T=_}}function iA(){}function od(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Cy(e).queue;Ry(e,h,i,gt,a===null?iA:function(){return Iy(e),a(l)})}function Cy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Iy(e){var i=Cy(e);i.next===null&&(i=e.alternate.memoizedState),_l(e,i.next.queue,{},Zn())}function ld(){return rn(Ll)}function Dy(){return Re().memoizedState}function Ny(){return Re().memoizedState}function rA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Zn();e=Jr(a);var l=Zr(i,e,a);l!==null&&(Vn(l,i,a),dl(l,i,a)),i={cache:Uf()},e.payload=i;return}i=i.return}}function sA(e,i,a){var l=Zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(e)?xy(i,a):(a=Rf(e,i,a,l),a!==null&&(Vn(a,e,l),My(a,i,l)))}function Oy(e,i,a){var l=Zn();_l(e,i,a,l)}function _l(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(e))xy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,Qn(b,_))return Zu(e,i,h,0),ae===null&&Ju(),!1}catch{}finally{}if(a=Rf(e,i,h,l),a!==null)return Vn(a,e,l),My(a,i,l),!0}return!1}function ud(e,i,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(e)){if(i)throw Error(s(479))}else i=Rf(e,a,l,2),i!==null&&Vn(i,e,2)}function _c(e){var i=e.alternate;return e===It||i!==null&&i===It}function xy(e,i){Ja=hc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function My(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,dn(e,a)}}var vl={readContext:rn,use:mc,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};vl.useEffectEvent=Ee;var Vy={readContext:rn,use:mc,useCallback:function(e,i){return An().memoizedState=[e,i===void 0?null:i],e},useContext:rn,useEffect:yy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,pc(4194308,4,Ty.bind(null,i,e),a)},useLayoutEffect:function(e,i){return pc(4194308,4,e,i)},useInsertionEffect:function(e,i){pc(4,2,e,i)},useMemo:function(e,i){var a=An();i=i===void 0?null:i;var l=e();if(sa){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=An();if(a!==void 0){var h=a(i);if(sa){cn(!0);try{a(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=sA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=An();return e={current:e},i.memoizedState=e},useState:function(e){e=nd(e);var i=e.queue,a=Oy.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(e,i){var a=An();return ad(a,e,i)},useTransition:function(){var e=nd(!1);return e=Ry.bind(null,It,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=An();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ae===null)throw Error(s(349));(Lt&127)!==0||ey(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,yy(iy.bind(null,l,d,e),[e]),l.flags|=2048,Wa(9,{destroy:void 0},ny.bind(null,l,d,a,i),null),a},useId:function(){var e=An(),i=ae.identifierPrefix;if(qt){var a=Qi,l=Gi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ZS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:ld,useFormState:fy,useActionState:fy,useOptimistic:function(e){var i=An();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:Wf,useCacheRefresh:function(){return An().memoizedState=rA.bind(null,It)},useEffectEvent:function(e){var i=An(),a={impl:e};return i.memoizedState=a,function(){if((Xt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:rn,use:mc,useCallback:Sy,useContext:rn,useEffect:rd,useImperativeHandle:by,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:Ay,useReducer:gc,useRef:py,useState:function(){return gc(gr)},useDebugValue:sd,useDeferredValue:function(e,i){var a=Re();return wy(a,ie.memoizedState,e,i)},useTransition:function(){var e=gc(gr)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:yl(e),i]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:ld,useFormState:dy,useActionState:dy,useOptimistic:function(e,i){var a=Re();return ay(a,ie,e,i)},useMemoCache:Wf,useCacheRefresh:Ny};cd.useEffectEvent=_y;var Ly={readContext:rn,use:mc,useCallback:Sy,useContext:rn,useEffect:rd,useImperativeHandle:by,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:Ay,useReducer:ed,useRef:py,useState:function(){return ed(gr)},useDebugValue:sd,useDeferredValue:function(e,i){var a=Re();return ie===null?ad(a,e,i):wy(a,ie.memoizedState,e,i)},useTransition:function(){var e=ed(gr)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:yl(e),i]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:ld,useFormState:gy,useActionState:gy,useOptimistic:function(e,i){var a=Re();return ie!==null?ay(a,ie,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Ny};Ly.useEffectEvent=_y;function hd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var fd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Zn(),h=Jr(l);h.payload=i,a!=null&&(h.callback=a),i=Zr(e,h,l),i!==null&&(Vn(i,e,l),dl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Zn(),h=Jr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Zr(e,h,l),i!==null&&(Vn(i,e,l),dl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Zn(),l=Jr(a);l.tag=2,i!=null&&(l.callback=i),i=Zr(e,l,a),i!==null&&(Vn(i,e,a),dl(i,e,a))}};function ky(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function Uy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&fd.enqueueReplaceState(i,i.state,null)}function aa(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Py(e){$u(e)}function zy(e){console.error(e)}function jy(e){$u(e)}function vc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function By(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(e,i,a){return a=Jr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(e,i)},a}function qy(e){return e=Jr(e),e.tag=3,e}function Hy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){By(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){By(i,a,l),typeof h!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function aA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ga(i,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 31:case 13:return di===null?Oc():a.alternate===null&&Te===0&&(Te=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Pd(e,l,h)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Pd(e,l,h)),!1}throw Error(s(435,a.tag))}return Pd(e,l,h),Oc(),!1}if(qt)return i=Kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==xf&&(e=Error(s(422),{cause:l}),ll(ui(e,a)))):(l!==xf&&(i=Error(s(423),{cause:l}),ll(ui(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=ui(l,a),h=dd(e.stateNode,l,h),Hf(e,h),Te!==4&&(Te=2)),!1;var d=Error(s(520),{cause:l});if(d=ui(d,a),Cl===null?Cl=[d]:Cl.push(d),Te!==4&&(Te=2),i===null)return!0;l=ui(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=dd(a.stateNode,l,e),Hf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(rs===null||!rs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qy(h),Hy(h,e,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),Le=!1;function sn(e,i,a,l){i.child=e===null?Yp(i,null,a,l):ra(i,e.child,a,l)}function Fy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return ta(i),l=Xf(e,i,a,_,d,h),b=$f(),e!==null&&!Le?(Jf(e,i,h),pr(e,i,h)):(qt&&b&&Nf(i),i.flags|=1,sn(e,i,l,h),i.child)}function Gy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Qy(e,i,d,l,h)):(e=tc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!bd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(_,l)&&e.ref===i.ref)return pr(e,i,h)}return i.flags|=1,e=cr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Qy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(sl(d,l)&&e.ref===i.ref)if(Le=!1,i.pendingProps=l=d,bd(e,h))(e.flags&131072)!==0&&(Le=!0);else return i.lanes=e.lanes,pr(e,i,h)}return gd(e,i,a,l,h)}function Yy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ky(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&rc(i,d!==null?d.cachePool:null),d!==null?$p(i,d):Gf(),Jp(i);else return l=i.lanes=536870912,Ky(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),$p(i,d),ts(),i.memoizedState=null):(e!==null&&rc(i,null),Gf(),ts());return sn(e,i,h,a),i.child}function El(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ky(e,i,a,l,h){var d=zf();return d=d===null?null:{parent:Me._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&rc(i,null),Gf(),Jp(i),e!==null&&Ga(e,i,l,!0),i.childLanes=h,null}function Ec(e,i){return i=bc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Xy(e,i,a){return ra(i,e.child,null,a),e=Ec(i,i.pendingProps),e.flags|=2,Xn(i),i.memoizedState=null,e}function oA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=Ec(i,l),i.lanes=536870912,El(null,e);if(Yf(i),(e=ue)?(e=ov(e,fi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Qr!==null?{id:Gi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=xp(e),a.return=i,i.child=a,nn=i,ue=null)):e=null,e===null)throw Kr(i);return i.lanes=536870912,null}return Ec(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Yf(i),h)if(i.flags&256)i.flags&=-257,i=Xy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Le||Ga(e,i,a,!1),h=(a&e.childLanes)!==0,Le||h){if(l=ae,l!==null&&(_=En(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,$s(e,_),Vn(l,e,_),md;Oc(),i=Xy(e,i,a)}else e=d.treeContext,ue=mi(_.nextSibling),nn=i,qt=!0,Yr=null,fi=!1,e!==null&&Lp(i,e),i=Ec(i,l),i.flags|=4096;return i}return e=cr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Tc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function gd(e,i,a,l,h){return ta(i),a=Xf(e,i,a,l,void 0,h),l=$f(),e!==null&&!Le?(Jf(e,i,h),pr(e,i,h)):(qt&&l&&Nf(i),i.flags|=1,sn(e,i,a,h),i.child)}function $y(e,i,a,l,h,d){return ta(i),i.updateQueue=null,a=Wp(i,l,a,h),Zp(e),l=$f(),e!==null&&!Le?(Jf(e,i,d),pr(e,i,d)):(qt&&l&&Nf(i),i.flags|=1,sn(e,i,a,d),i.child)}function Jy(e,i,a,l,h){if(ta(i),i.stateNode===null){var d=Ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=rn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?rn(_):Ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var b=i.memoizedProps,N=aa(a,b);d.props=N;var z=d.context,X=a.contextType;_=Ba,typeof X=="object"&&X!==null&&(_=rn(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||z!==_)&&Uy(i,d,l,_),$r=!1;var j=i.memoizedState;d.state=j,gl(i,l,d,h),ml(),z=i.memoizedState,b||j!==z||$r?(typeof Z=="function"&&(hd(i,a,Z,l),z=i.memoizedState),(N=$r||ky(i,a,N,l,j,z,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qf(e,i),_=i.memoizedProps,X=aa(a,_),d.props=X,Z=i.pendingProps,j=d.context,z=a.contextType,N=Ba,typeof z=="object"&&z!==null&&(N=rn(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||j!==N)&&Uy(i,d,l,N),$r=!1,j=i.memoizedState,d.state=j,gl(i,l,d,h),ml();var F=i.memoizedState;_!==Z||j!==F||$r||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof b=="function"&&(hd(i,a,b,l),F=i.memoizedState),(X=$r||ky(i,a,X,l,j,F,N)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ra(i,e.child,null,h),i.child=ra(i,null,a,h)):sn(e,i,a,h),i.memoizedState=d.state,e=i.child):e=pr(e,i,h),e}function Zy(e,i,a,l){return Zs(),i.flags|=256,sn(e,i,a,l),i.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(e){return{baseLanes:e,cachePool:Bp()}}function _d(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Jn),e}function Wy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?Wr(i):ts(),(e=ue)?(e=ov(e,fi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Qr!==null?{id:Gi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=xp(e),a.return=i,i.child=a,nn=i,ue=null)):e=null,e===null)throw Kr(i);return tm(e)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(ts(),h=i.mode,b=bc({mode:"hidden",children:b},h),l=Js(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=yd(a),l.childLanes=_d(e,_,a),i.memoizedState=pd,El(null,l)):(Wr(i),vd(i,b))}var N=e.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(Wr(i),i.flags&=-257,i=Ed(e,i,a)):i.memoizedState!==null?(ts(),i.child=e.child,i.flags|=128,i=null):(ts(),b=l.fallback,h=i.mode,l=bc({mode:"visible",children:l.children},h),b=Js(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,ra(i,e.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=_d(e,_,a),i.memoizedState=pd,i=El(null,l));else if(Wr(i),tm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),i=Ed(e,i,a)}else if(Le||Ga(e,i,a,!1),_=(a&e.childLanes)!==0,Le||_){if(_=ae,_!==null&&(l=En(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,$s(e,l),Vn(_,e,l),md;Wd(b)||Oc(),i=Ed(e,i,a)}else Wd(b)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,ue=mi(b.nextSibling),nn=i,qt=!0,Yr=null,fi=!1,e!==null&&Lp(i,e),i=vd(i,l.children),i.flags|=4096);return i}return h?(ts(),b=l.fallback,h=i.mode,N=e.child,z=N.sibling,l=cr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?b=cr(z,b):(b=Js(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,El(null,l),l=i.child,b=e.child.memoizedState,b===null?b=yd(a):(h=b.cachePool,h!==null?(N=Me._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Bp(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=_d(e,_,a),i.memoizedState=pd,El(e.child,l)):(Wr(i),a=e.child,e=a.sibling,a=cr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function vd(e,i){return i=bc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function bc(e,i){return e=Yn(22,e,null,i),e.lanes=0,e}function Ed(e,i,a){return ra(i,e.child,null,a),e=vd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function t_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Lf(e.return,i,a)}function Td(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function e_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=we.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,st(we,_),sn(e,i,l,a),l=qt?ol:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&t_(e,a,i);else if(e.tag===19)t_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&cc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Td(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&cc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Td(i,!0,a,null,d,l);break;case"together":Td(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function pr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),is|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ga(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=cr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=cr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function bd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function lA(e,i,a){switch(i.tag){case 3:te(i,i.stateNode.containerInfo),Xr(i,Me,e.memoizedState.cache),Zs();break;case 27:case 5:Vt(i);break;case 4:te(i,i.stateNode.containerInfo);break;case 10:Xr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Wr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wy(e,i,a):(Wr(i),e=pr(e,i,a),e!==null?e.sibling:null);Wr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ga(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return e_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(we,we.current),l)break;return null;case 22:return i.lanes=0,Yy(e,i,a,i.pendingProps);case 24:Xr(i,Me,e.memoizedState.cache)}return pr(e,i,a)}function n_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Le=!0;else{if(!bd(e,a)&&(i.flags&128)===0)return Le=!1,lA(e,i,a);Le=(e.flags&131072)!==0}else Le=!1,qt&&(i.flags&1048576)!==0&&Vp(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=na(i.elementType),i.type=e,typeof e=="function")Cf(e)?(l=aa(e,l),i.tag=1,i=Jy(null,i,e,l,a)):(i.tag=0,i=gd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===ut){i.tag=11,i=Fy(null,i,e,l,a);break t}else if(h===R){i.tag=14,i=Gy(null,i,e,l,a);break t}}throw i=jt(e)||e,Error(s(306,i,""))}}return i;case 0:return gd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=aa(l,i.pendingProps),Jy(e,i,l,h,a);case 3:t:{if(te(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,qf(e,i),gl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Xr(i,Me,l),l!==d.cache&&kf(i,[Me],a,!0),ml(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Zy(e,i,l,a);break t}else if(l!==h){h=ui(Error(s(424)),i),ll(h),i=Zy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=mi(e.firstChild),nn=i,qt=!0,Yr=null,fi=!0,a=Yp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zs(),l===h){i=pr(e,i,a);break t}sn(e,i,l,a)}i=i.child}return i;case 26:return Tc(e,i),e===null?(a=dv(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=Pc(_t.current).createElement(a),l[Ne]=i,l[Ke]=e,an(l,a,e),Oe(l),i.stateNode=l):i.memoizedState=dv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Vt(i),e===null&&qt&&(l=i.stateNode=cv(i.type,i.pendingProps,_t.current),nn=i,fi=!0,h=ue,ls(i.type)?(em=h,ue=mi(l.firstChild)):ue=h),sn(e,i,i.pendingProps.children,a),Tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=ue)&&(l=PA(l,i.type,i.pendingProps,fi),l!==null?(i.stateNode=l,nn=i,ue=mi(l.firstChild),fi=!1,h=!0):h=!1),h||Kr(i)),Vt(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,$d(h,d)?l=null:_!==null&&$d(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Xf(e,i,WS,null,null,a),Ll._currentValue=h),Tc(e,i),sn(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=ue)&&(a=zA(a,i.pendingProps,fi),a!==null?(i.stateNode=a,nn=i,ue=null,e=!0):e=!1),e||Kr(i)),null;case 13:return Wy(e,i,a);case 4:return te(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ra(i,null,l,a):sn(e,i,l,a),i.child;case 11:return Fy(e,i,i.type,i.pendingProps,a);case 7:return sn(e,i,i.pendingProps,a),i.child;case 8:return sn(e,i,i.pendingProps.children,a),i.child;case 12:return sn(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Xr(i,i.type,l.value),sn(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ta(i),h=rn(h),l=l(h),i.flags|=1,sn(e,i,l,a),i.child;case 14:return Gy(e,i,i.type,i.pendingProps,a);case 15:return Qy(e,i,i.type,i.pendingProps,a);case 19:return e_(e,i,a);case 31:return oA(e,i,a);case 22:return Yy(e,i,a,i.pendingProps);case 24:return ta(i),l=rn(Me),e===null?(h=zf(),h===null&&(h=ae,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Bf(i),Xr(i,Me,h)):((e.lanes&a)!==0&&(qf(e,i),gl(i,null,null,a),ml()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Xr(i,Me,l)):(l=d.cache,Xr(i,Me,l),l!==h.cache&&kf(i,[Me],a,!0))),sn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function yr(e){e.flags|=4}function Sd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(D_())e.flags|=8192;else throw ia=ac,jf}else e.flags&=-16777217}function i_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_v(i))if(D_())e.flags|=8192;else throw ia=ac,jf}function Sc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ye():536870912,e.lanes|=i,io|=i)}function Tl(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ce(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function uA(e,i,a){var l=i.pendingProps;switch(Of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(i),null;case 1:return ce(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),dr(Me),Ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fa(i)?yr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),ce(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(yr(i),d!==null?(ce(i),i_(i,d)):(ce(i),Sd(i,h,null,l,a))):d?d!==e.memoizedState?(yr(i),ce(i),i_(i,d)):(ce(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&yr(i),ce(i),Sd(i,h,e,l,a)),null;case 27:if(ti(i),a=_t.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ce(i),null}e=lt.current,Fa(i)?kp(i):(e=cv(h,l,a),i.stateNode=e,yr(i))}return ce(i),null;case 5:if(ti(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ce(i),null}if(d=lt.current,Fa(i))kp(i);else{var _=Pc(_t.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ne]=i,d[Ke]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(an(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&yr(i)}}return ce(i),Sd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&yr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=_t.current,Fa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W_(e.nodeValue,a)),e||Kr(i,!0)}else e=Pc(e).createTextNode(l),e[Ne]=i,i.stateNode=e}return ce(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Fa(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ne]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ce(i),e=!1}else a=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Xn(i),i):(Xn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ce(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Fa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ce(i),h=!1}else h=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Xn(i),i):(Xn(i),null)}return Xn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),ce(i),null);case 4:return Ft(),e===null&&Gd(i.stateNode.containerInfo),ce(i),null;case 10:return dr(i.type),ce(i),null;case 19:if(Y(we),l=i.memoizedState,l===null)return ce(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Tl(l,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=cc(e),d!==null){for(i.flags|=128,Tl(l,!1),e=d.updateQueue,i.updateQueue=e,Sc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Op(a,e),a=a.sibling;return st(we,we.current&1|2),qt&&hr(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&Qe()>Ic&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304)}else{if(!h)if(e=cc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Sc(i,e),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return ce(i),null}else 2*Qe()-l.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,a=we.current,st(we,h?a&1|2:a&1),qt&&hr(i,l.treeForkCount),e):(ce(i),null);case 22:case 23:return Xn(i),Qf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ce(i),i.subtreeFlags&6&&(i.flags|=8192)):ce(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Y(ea),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),dr(Me),ce(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function cA(e,i){switch(Of(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return dr(Me),Ft(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ti(i),null;case 31:if(i.memoizedState!==null){if(Xn(i),i.alternate===null)throw Error(s(340));Zs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Xn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(we),null;case 4:return Ft(),null;case 10:return dr(i.type),null;case 22:case 23:return Xn(i),Qf(),e!==null&&Y(ea),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return dr(Me),null;case 25:return null;default:return null}}function r_(e,i){switch(Of(i),i.tag){case 3:dr(Me),Ft();break;case 26:case 27:case 5:ti(i);break;case 4:Ft();break;case 31:i.memoizedState!==null&&Xn(i);break;case 13:Xn(i);break;case 19:Y(we);break;case 10:dr(i.type);break;case 22:case 23:Xn(i),Qf(),e!==null&&Y(ea);break;case 24:dr(Me)}}function bl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Wt(i,i.return,b)}}function es(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var N=a,z=b;try{z()}catch(X){Wt(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){Wt(i,i.return,X)}}function s_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Xp(i,a)}catch(l){Wt(e,e.return,l)}}}function a_(e,i,a){a.props=aa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function Sl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Wt(e,i,h)}}function Yi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function o_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function Ad(e,i,a){try{var l=e.stateNode;xA(l,e.type,a,i),l[Ke]=i}catch(h){Wt(e,e.return,h)}}function l_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ls(e.type)||e.tag===4}function wd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||l_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_i));else if(l!==4&&(l===27&&ls(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Rd(e,i,a),e=e.sibling;e!==null;)Rd(e,i,a),e=e.sibling}function Ac(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&ls(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ac(e,i,a),e=e.sibling;e!==null;)Ac(e,i,a),e=e.sibling}function u_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);an(i,l,a),i[Ne]=e,i[Ke]=a}catch(d){Wt(e,e.return,d)}}var _r=!1,ke=!1,Cd=!1,c_=typeof WeakSet=="function"?WeakSet:Set,$e=null;function hA(e,i){if(e=e.containerInfo,Kd=Gc,e=bp(e),Ef(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,b=-1,N=-1,z=0,X=0,Z=e,j=null;e:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(b=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)j=Z,Z=F;for(;;){if(Z===e)break e;if(j===a&&++z===h&&(b=_),j===d&&++X===l&&(N=_),(F=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=F}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:e,selectionRange:a},Gc=!1,$e=i;$e!==null;)if(i=$e,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,$e=e;else for(;$e!==null;){switch(i=$e,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=aa(a.type,h);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Wt(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,$e=e;break}$e=i.return}}function h_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(e,a),l&4&&bl(5,a);break;case 1:if(Er(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Wt(a,a.return,_)}else{var h=aa(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(a,a.return,_)}}l&64&&s_(a),l&512&&Sl(a,a.return);break;case 3:if(Er(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Xp(e,i)}catch(_){Wt(a,a.return,_)}}break;case 27:i===null&&l&4&&u_(a);case 26:case 5:Er(e,a),i===null&&l&4&&o_(a),l&512&&Sl(a,a.return);break;case 12:Er(e,a);break;case 31:Er(e,a),l&4&&m_(e,a);break;case 13:Er(e,a),l&4&&g_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=EA.bind(null,a),jA(e,a))));break;case 22:if(l=a.memoizedState!==null||_r,!l){i=i!==null&&i.memoizedState!==null||ke,h=_r;var d=ke;_r=l,(ke=i)&&!d?Tr(e,a,(a.subtreeFlags&8772)!==0):Er(e,a),_r=h,ke=d}break;case 30:break;default:Er(e,a)}}function f_(e){var i=e.alternate;i!==null&&(e.alternate=null,f_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ca(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,Nn=!1;function vr(e,i,a){for(a=a.child;a!==null;)d_(e,i,a),a=a.sibling}function d_(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:ke||Yi(a,i),vr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||Yi(a,i);var l=ye,h=Nn;ls(a.type)&&(ye=a.stateNode,Nn=!1),vr(e,i,a),xl(a.stateNode),ye=l,Nn=h;break;case 5:ke||Yi(a,i);case 6:if(l=ye,h=Nn,ye=null,vr(e,i,a),ye=l,Nn=h,ye!==null)if(Nn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(d){Wt(a,i,d)}else try{ye.removeChild(a.stateNode)}catch(d){Wt(a,i,d)}break;case 18:ye!==null&&(Nn?(e=ye,sv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ho(e)):sv(ye,a.stateNode));break;case 4:l=ye,h=Nn,ye=a.stateNode.containerInfo,Nn=!0,vr(e,i,a),ye=l,Nn=h;break;case 0:case 11:case 14:case 15:es(2,a,i),ke||es(4,a,i),vr(e,i,a);break;case 1:ke||(Yi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&a_(a,i,l)),vr(e,i,a);break;case 21:vr(e,i,a);break;case 22:ke=(l=ke)||a.memoizedState!==null,vr(e,i,a),ke=l;break;default:vr(e,i,a)}}function m_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ho(e)}catch(a){Wt(i,i.return,a)}}}function g_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ho(e)}catch(a){Wt(i,i.return,a)}}function fA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new c_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new c_),i;default:throw Error(s(435,e.tag))}}function wc(e,i){var a=fA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=TA.bind(null,e,l);l.then(h,h)}})}function On(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(ls(b.type)){ye=b.stateNode,Nn=!1;break t}break;case 5:ye=b.stateNode,Nn=!1;break t;case 3:case 4:ye=b.stateNode.containerInfo,Nn=!0;break t}b=b.return}if(ye===null)throw Error(s(160));d_(d,_,h),ye=null,Nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)p_(i,e),i=i.sibling}var Ai=null;function p_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(i,e),xn(e),l&4&&(es(3,e,e.return),bl(3,e),es(5,e,e.return));break;case 1:On(i,e),xn(e),l&512&&(ke||a===null||Yi(a,a.return)),l&64&&_r&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ai;if(On(i,e),xn(e),l&512&&(ke||a===null||Yi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Mi]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),an(d,l,a),d[Ne]=e,Oe(d),l=d;break t;case"link":var _=pv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break e}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;case"meta":if(_=pv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break e}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,Oe(d),l=d}e.stateNode=l}else yv(h,e.type,e.stateNode);else e.stateNode=gv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?yv(h,e.type,e.stateNode):gv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:On(i,e),xn(e),l&512&&(ke||a===null||Yi(a,a.return)),a!==null&&l&4&&Ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(On(i,e),xn(e),l&512&&(ke||a===null||Yi(a,a.return)),e.flags&32){h=e.stateNode;try{Dn(h,"")}catch(dt){Wt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ad(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(On(i,e),xn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Wt(e,e.return,dt)}}break;case 3:if(Bc=null,h=Ai,Ai=zc(i.containerInfo),On(i,e),Ai=h,xn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(i.containerInfo)}catch(dt){Wt(e,e.return,dt)}Cd&&(Cd=!1,y_(e));break;case 4:l=Ai,Ai=zc(e.stateNode.containerInfo),On(i,e),xn(e),Ai=l;break;case 12:On(i,e),xn(e);break;case 31:On(i,e),xn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 13:On(i,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=_r,X=ke;if(_r=z||h,ke=X||N,On(i,e),ke=X,_r=z,xn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||_r||ke||oa(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var Z=N.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(dt){Wt(N,N.return,dt)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(dt){Wt(N,N.return,dt)}}}else if(i.tag===18){if(a===null){N=i;try{var F=N.stateNode;h?av(F,!0):av(N.stateNode,!1)}catch(dt){Wt(N,N.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(e,a))));break;case 19:On(i,e),xn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 30:break;case 21:break;default:On(i,e),xn(e)}}function xn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(l_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(e);Ac(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Dn(_,""),a.flags&=-33);var b=wd(e);Ac(e,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=wd(e);Rd(e,z,N);break;default:throw Error(s(161))}}catch(X){Wt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function y_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;y_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Er(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)h_(e,i.alternate,i),i=i.sibling}function oa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:es(4,i,i.return),oa(i);break;case 1:Yi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&a_(i,i.return,a),oa(i);break;case 27:xl(i.stateNode);case 26:case 5:Yi(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),bl(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Kp(N[h],b)}catch(z){Wt(l,l.return,z)}}a&&_&64&&s_(d),Sl(d,d.return);break;case 27:u_(d);case 26:case 5:Tr(h,d,a),a&&l===null&&_&4&&o_(d),Sl(d,d.return);break;case 12:Tr(h,d,a);break;case 31:Tr(h,d,a),a&&_&4&&m_(h,d);break;case 13:Tr(h,d,a),a&&_&4&&g_(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),Sl(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function Id(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ul(a))}function Dd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ul(e))}function wi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)__(e,i,a,l),i=i.sibling}function __(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:wi(e,i,a,l),h&2048&&bl(9,i);break;case 1:wi(e,i,a,l);break;case 3:wi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ul(e)));break;case 12:if(h&2048){wi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Wt(i,i.return,N)}}else wi(e,i,a,l);break;case 31:wi(e,i,a,l);break;case 13:wi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?wi(e,i,a,l):Al(e,i):d._visibility&2?wi(e,i,a,l):(d._visibility|=2,to(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Id(_,i);break;case 24:wi(e,i,a,l),h&2048&&Dd(i.alternate,i);break;default:wi(e,i,a,l)}}function to(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,b=a,N=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:to(d,_,b,N,h),bl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?to(d,_,b,N,h):Al(d,_):(X._visibility|=2,to(d,_,b,N,h)),h&&z&2048&&Id(_.alternate,_);break;case 24:to(d,_,b,N,h),h&&z&2048&&Dd(_.alternate,_);break;default:to(d,_,b,N,h)}i=i.sibling}}function Al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Al(a,l),h&2048&&Id(l.alternate,l);break;case 24:Al(a,l),h&2048&&Dd(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var wl=8192;function eo(e,i,a){if(e.subtreeFlags&wl)for(e=e.child;e!==null;)v_(e,i,a),e=e.sibling}function v_(e,i,a){switch(e.tag){case 26:eo(e,i,a),e.flags&wl&&e.memoizedState!==null&&ZA(a,Ai,e.memoizedState,e.memoizedProps);break;case 5:eo(e,i,a);break;case 3:case 4:var l=Ai;Ai=zc(e.stateNode.containerInfo),eo(e,i,a),Ai=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,eo(e,i,a),wl=l):eo(e,i,a));break;default:eo(e,i,a)}}function E_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Rl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$e=l,b_(l,e)}E_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)T_(e),e=e.sibling}function T_(e){switch(e.tag){case 0:case 11:case 15:Rl(e),e.flags&2048&&es(9,e,e.return);break;case 3:Rl(e);break;case 12:Rl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Rc(e)):Rl(e);break;default:Rl(e)}}function Rc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$e=l,b_(l,e)}E_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:es(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}e=e.sibling}}function b_(e,i){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:es(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$e=l;else t:for(a=e;$e!==null;){l=$e;var h=l.sibling,d=l.return;if(f_(l),l===a){$e=null;break t}if(h!==null){h.return=d,$e=h;break t}$e=d}}}var dA={getCacheForType:function(e){var i=rn(Me),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return rn(Me).controller.signal}},mA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,xt=null,Lt=0,Zt=0,$n=null,ns=!1,no=!1,Nd=!1,br=0,Te=0,is=0,la=0,Od=0,Jn=0,io=0,Cl=null,Mn=null,xd=!1,Cc=0,S_=0,Ic=1/0,Dc=null,rs=null,He=0,ss=null,ro=null,Sr=0,Md=0,Vd=null,A_=null,Il=0,Ld=null;function Zn(){return(Xt&2)!==0&&Lt!==0?Lt&-Lt:Q.T!==null?Bd():Hn()}function w_(){if(Jn===0)if((Lt&536870912)===0||qt){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Jn=e}else Jn=536870912;return e=Kn.current,e!==null&&(e.flags|=32),Jn}function Vn(e,i,a){(e===ae&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(so(e,0),as(e,Lt,Jn,!1)),Cn(e,a),((Xt&2)===0||e!==ae)&&(e===ae&&((Xt&2)===0&&(la|=a),Te===4&&as(e,Lt,Jn,!1)),Ki(e))}function R_(e,i,a){if((Xt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||De(e,i),h=l?yA(e,i):Ud(e,i,!0),d=l;do{if(h===0){no&&!l&&as(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!gA(a)){h=Ud(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var b=e;h=Cl;var N=b.current.memoizedState.isDehydrated;if(N&&(so(b,_).flags|=256),_=Ud(b,_,!1),_!==2){if(Nd&&!N){b.errorRecoveryDisabledLanes|=d,la|=d,h=4;break t}d=Mn,Mn=h,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){so(e,0),as(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:as(l,i,Jn,!ns);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cc+300-Qe(),10<h)){if(as(l,i,Jn,!ns),ge(l,0,!0)!==0)break t;Sr=i,l.timeoutHandle=iv(C_.bind(null,l,a,Mn,Dc,xd,i,Jn,la,io,ns,d,"Throttled",-0,0),h);break t}C_(l,a,Mn,Dc,xd,i,Jn,la,io,ns,d,null,-0,0)}}break}while(!0);Ki(e)}function C_(e,i,a,l,h,d,_,b,N,z,X,Z,j,F){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},v_(i,d,Z);var dt=(d&62914560)===d?Cc-Qe():(d&4194048)===d?S_-Qe():0;if(dt=WA(Z,dt),dt!==null){Sr=d,e.cancelPendingCommit=dt(L_.bind(null,e,i,d,a,l,h,_,b,N,X,Z,null,j,F)),as(e,d,_,!z);return}}L_(e,i,d,a,l,h,_,b,N)}function gA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Qn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function as(e,i,a,l){i&=~Od,i&=~la,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&fn(e,a,i)}function Nc(){return(Xt&6)===0?(Dl(0),!1):!0}function kd(){if(xt!==null){if(Zt===0)var e=xt.return;else e=xt,fr=Ws=null,Zf(e),Xa=null,hl=0,e=xt;for(;e!==null;)r_(e.alternate,e),e=e.return;xt=null}}function so(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,LA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Sr=0,kd(),ae=e,xt=a=cr(e.current,null),Lt=i,Zt=0,$n=null,ns=!1,no=De(e,i),Nd=!1,io=Jn=Od=la=is=Te=0,Mn=Cl=null,xd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return br=i,Ju(),a}function I_(e,i){It=null,Q.H=vl,i===Ka||i===sc?(i=Fp(),Zt=3):i===jf?(i=Fp(),Zt=4):Zt=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$n=i,xt===null&&(Te=1,vc(e,ui(i,e.current)))}function D_(){var e=Kn.current;return e===null?!0:(Lt&4194048)===Lt?di===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===di:!1}function N_(){var e=Q.H;return Q.H=vl,e===null?vl:e}function O_(){var e=Q.A;return Q.A=dA,e}function Oc(){Te=4,ns||(Lt&4194048)!==Lt&&Kn.current!==null||(no=!0),(is&134217727)===0&&(la&134217727)===0||ae===null||as(ae,Lt,Jn,!1)}function Ud(e,i,a){var l=Xt;Xt|=2;var h=N_(),d=O_();(ae!==e||Lt!==i)&&(Dc=null,so(e,i)),i=!1;var _=Te;t:do try{if(Zt!==0&&xt!==null){var b=xt,N=$n;switch(Zt){case 8:kd(),_=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(i=!0);var z=Zt;if(Zt=0,$n=null,ao(e,b,N,z),a&&no){_=0;break t}break;default:z=Zt,Zt=0,$n=null,ao(e,b,N,z)}}pA(),_=Te;break}catch(X){I_(e,X)}while(!0);return i&&e.shellSuspendCounter++,fr=Ws=null,Xt=l,Q.H=h,Q.A=d,xt===null&&(ae=null,Lt=0,Ju()),_}function pA(){for(;xt!==null;)x_(xt)}function yA(e,i){var a=Xt;Xt|=2;var l=N_(),h=O_();ae!==e||Lt!==i?(Dc=null,Ic=Qe()+500,so(e,i)):no=De(e,i);t:do try{if(Zt!==0&&xt!==null){i=xt;var d=$n;e:switch(Zt){case 1:Zt=0,$n=null,ao(e,i,d,1);break;case 2:case 9:if(qp(d)){Zt=0,$n=null,M_(i);break}i=function(){Zt!==2&&Zt!==9||ae!==e||(Zt=7),Ki(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:qp(d)?(Zt=0,$n=null,M_(i)):(Zt=0,$n=null,ao(e,i,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var b=xt;if(_?_v(_):b.stateNode.complete){Zt=0,$n=null;var N=b.sibling;if(N!==null)xt=N;else{var z=b.return;z!==null?(xt=z,xc(z)):xt=null}break e}}Zt=0,$n=null,ao(e,i,d,5);break;case 6:Zt=0,$n=null,ao(e,i,d,6);break;case 8:kd(),Te=6;break t;default:throw Error(s(462))}}_A();break}catch(X){I_(e,X)}while(!0);return fr=Ws=null,Q.H=l,Q.A=h,Xt=a,xt!==null?0:(ae=null,Lt=0,Ju(),Te)}function _A(){for(;xt!==null&&!kr();)x_(xt)}function x_(e){var i=n_(e.alternate,e,br);e.memoizedProps=e.pendingProps,i===null?xc(e):xt=i}function M_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=$y(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=$y(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:Zf(i);default:r_(a,i),i=xt=Op(i,br),i=n_(a,i,br)}e.memoizedProps=e.pendingProps,i===null?xc(e):xt=i}function ao(e,i,a,l){fr=Ws=null,Zf(i),Xa=null,hl=0;var h=i.return;try{if(aA(e,h,i,a,Lt)){Te=1,vc(e,ui(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;Te=1,vc(e,ui(a,e.current)),xt=null;return}i.flags&32768?(qt||l===1?e=!0:no||(Lt&536870912)!==0?e=!1:(ns=e=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),V_(i,e)):xc(i)}function xc(e){var i=e;do{if((i.flags&32768)!==0){V_(i,ns);return}e=i.return;var a=uA(i.alternate,i,br);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);Te===0&&(Te=5)}function V_(e,i){do{var a=cA(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);Te=6,xt=null}function L_(e,i,a,l,h,d,_,b,N){e.cancelPendingCommit=null;do Mc();while(He!==0);if((Xt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=wf,Se(e,a,d,_,b,N),e===ae&&(xt=ae=null,Lt=0),ro=i,ss=e,Sr=a,Md=d,Vd=h,A_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bA(vn,function(){return j_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=rt.p,rt.p=2,_=Xt,Xt|=4;try{hA(e,i,a)}finally{Xt=_,rt.p=h,Q.T=l}}He=1,k_(),U_(),P_()}}function k_(){if(He===1){He=0;var e=ss,i=ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=rt.p;rt.p=2;var h=Xt;Xt|=4;try{p_(i,e);var d=Xd,_=bp(e.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Tp(b.ownerDocument.documentElement,b)){if(N!==null&&Ef(b)){var z=N.start,X=N.end;if(X===void 0&&(X=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(X,b.value.length);else{var Z=b.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var F=j.getSelection(),dt=b.textContent.length,Et=Math.min(N.start,dt),se=N.end===void 0?Et:Math.min(N.end,dt);!F.extend&&Et>se&&(_=se,se=Et,Et=_);var k=Ep(b,Et),M=Ep(b,se);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var P=Z.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),Et>se?(F.addRange(P),F.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),F.addRange(P))}}}}for(Z=[],F=b;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var $=Z[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Gc=!!Kd,Xd=Kd=null}finally{Xt=h,rt.p=l,Q.T=a}}e.current=i,He=2}}function U_(){if(He===2){He=0;var e=ss,i=ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=rt.p;rt.p=2;var h=Xt;Xt|=4;try{h_(e,i.alternate,i)}finally{Xt=h,rt.p=l,Q.T=a}}He=3}}function P_(){if(He===4||He===3){He=0,Ls();var e=ss,i=ro,a=Sr,l=A_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,ro=ss=null,z_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(rs=null),Tn(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=rt.p,rt.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Q.T=i,rt.p=h}}(Sr&3)!==0&&Mc(),Ki(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Ld?Il++:(Il=0,Ld=e):Il=0,Dl(0)}}function z_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ul(i)))}function Mc(){return k_(),U_(),P_(),j_()}function j_(){if(He!==5)return!1;var e=ss,i=Md;Md=0;var a=Tn(Sr),l=Q.T,h=rt.p;try{rt.p=32>a?32:a,Q.T=null,a=Vd,Vd=null;var d=ss,_=Sr;if(He=0,ro=ss=null,Sr=0,(Xt&6)!==0)throw Error(s(331));var b=Xt;if(Xt|=4,T_(d.current),__(d,d.current,_,a),Xt=b,Dl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{rt.p=h,Q.T=l,z_(e,i)}}function B_(e,i,a){i=ui(a,i),i=dd(e.stateNode,i,2),e=Zr(e,i,2),e!==null&&(Cn(e,2),Ki(e))}function Wt(e,i,a){if(e.tag===3)B_(e,e,a);else for(;i!==null;){if(i.tag===3){B_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rs===null||!rs.has(l))){e=ui(a,e),a=qy(2),l=Zr(i,a,2),l!==null&&(Hy(a,l,i,e),Cn(l,2),Ki(l));break}}i=i.return}}function Pd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new mA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Nd=!0,h.add(a),e=vA.bind(null,e,i,a),i.then(e,e))}function vA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(Lt&a)===a&&(Te===4||Te===3&&(Lt&62914560)===Lt&&300>Qe()-Cc?(Xt&2)===0&&so(e,0):Od|=a,io===Lt&&(io=0)),Ki(e)}function q_(e,i){i===0&&(i=Ye()),e=$s(e,i),e!==null&&(Cn(e,i),Ki(e))}function EA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),q_(e,a)}function TA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),q_(e,a)}function bA(e,i){return ee(e,i)}var Vc=null,oo=null,zd=!1,Lc=!1,jd=!1,os=0;function Ki(e){e!==oo&&e.next===null&&(oo===null?Vc=oo=e:oo=oo.next=e),Lc=!0,zd||(zd=!0,AA())}function Dl(e,i){if(!jd&&Lc){jd=!0;do for(var a=!1,l=Vc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=Lt,d=ge(l,l===ae?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||De(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);jd=!1}}function SA(){H_()}function H_(){Lc=zd=!1;var e=0;os!==0&&VA()&&(e=os);for(var i=Qe(),a=null,l=Vc;l!==null;){var h=l.next,d=F_(l,i);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(oo=a)):(a=l,(e!==0||(d&3)!==0)&&(Lc=!0)),l=h}He!==0&&He!==5||Dl(e),os!==0&&(os=0)}function F_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-de(d),b=1<<_,N=h[_];N===-1?((b&a)===0||(b&l)!==0)&&(h[_]=hn(b,i)):N<=i&&(e.expiredLanes|=b),d&=~b}if(i=ae,a=Lt,a=ge(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&zn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||De(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&zn(l),Tn(a)){case 2:case 8:a=ni;break;case 32:a=vn;break;case 268435456:a=Us;break;default:a=vn}return l=G_.bind(null,e),a=ee(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&zn(l),e.callbackPriority=2,e.callbackNode=null,2}function G_(e,i){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mc()&&e.callbackNode!==a)return null;var l=Lt;return l=ge(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(R_(e,l,i),F_(e,Qe()),e.callbackNode!=null&&e.callbackNode===a?G_.bind(null,e):null)}function Q_(e,i){if(Mc())return null;R_(e,i,!0)}function AA(){kA(function(){(Xt&6)!==0?ee(ks,SA):H_()})}function Bd(){if(os===0){var e=Qa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),os=e}return os}function Y_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oa(""+e)}function K_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function wA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Y_((h[Ke]||null).action),_=l.submitter;_&&(i=(i=_[Ke]||null)?Y_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Bi("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var N=_?K_(h,_):new FormData(h);od(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?K_(h,_):new FormData(h),od(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var qd=0;qd<Af.length;qd++){var Hd=Af[qd],RA=Hd.toLowerCase(),CA=Hd[0].toUpperCase()+Hd.slice(1);Si(RA,"on"+CA)}Si(wp,"onAnimationEnd"),Si(Rp,"onAnimationIteration"),Si(Cp,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(HS,"onTransitionRun"),Si(FS,"onTransitionStart"),Si(GS,"onTransitionCancel"),Si(Ip,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function X_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,z=b.currentTarget;if(b=b.listener,N!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=z;try{d(h)}catch(X){$u(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,z=b.currentTarget,b=b.listener,N!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=z;try{d(h)}catch(X){$u(X)}h.currentTarget=null,d=N}}}}function Mt(e,i){var a=i[Ra];a===void 0&&(a=i[Ra]=new Set);var l=e+"__bubble";a.has(l)||($_(i,e,2,!1),a.add(l))}function Fd(e,i,a){var l=0;i&&(l|=4),$_(a,e,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Gd(e){if(!e[kc]){e[kc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(IA.has(a)||Fd(a,!1,e),Fd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[kc]||(i[kc]=!0,Fd("selectionchange",!1,i))}}function $_(e,i,a,l){switch(wv(i)){case 2:var h=n1;break;case 8:h=i1;break;default:h=am}a=h.bind(null,i,a,e),h=void 0,!qs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Qd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Vi(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}b=b.parentNode}}l=l.return}qr(function(){var z=d,X=si(a),Z=[];t:{var j=Dp.get(e);if(j!==void 0){var F=Bi,dt=e;switch(e){case"keypress":if(Fs(a)===0)break t;case"keydown":case"keyup":F=Yu;break;case"focusin":dt="focus",F=Qs;break;case"focusout":dt="blur",F=Qs;break;case"beforeblur":case"afterblur":F=Qs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case wp:case Rp:case Cp:F=ju;break;case Ip:F=S;break;case"scroll":case"scrollend":F=tl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ur;break;case"toggle":case"beforetoggle":F=Ct}var Et=(i&4)!==0,se=!Et&&(e==="scroll"||e==="scrollend"),k=Et?j!==null?j+"Capture":null:j;Et=[];for(var M=z,P;M!==null;){var $=M;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||k===null||($=vi(M,k),$!=null&&Et.push(Ol(M,$,P))),se)break;M=M.return}0<Et.length&&(j=new F(j,dt,null,a,X),Z.push({event:j,listeners:Et}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==Jo&&(dt=a.relatedTarget||a.fromElement)&&(Vi(dt)||dt[xi]))break t;if((F||j)&&(j=X.window===X?X:(j=X.ownerDocument)?j.defaultView||j.parentWindow:window,F?(dt=a.relatedTarget||a.toElement,F=z,dt=dt?Vi(dt):null,dt!==null&&(se=u(dt),Et=dt.tag,dt!==se||Et!==5&&Et!==27&&Et!==6)&&(dt=null)):(F=null,dt=z),F!==dt)){if(Et=el,$="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Et=ur,$="onPointerLeave",k="onPointerEnter",M="pointer"),se=F==null?j:Fn(F),P=dt==null?j:Fn(dt),j=new Et($,M+"leave",F,a,X),j.target=se,j.relatedTarget=P,$=null,Vi(X)===z&&(Et=new Et(k,M+"enter",dt,a,X),Et.target=P,Et.relatedTarget=se,$=Et),se=$,F&&dt)e:{for(Et=DA,k=F,M=dt,P=0,$=k;$;$=Et($))P++;$=0;for(var pt=M;pt;pt=Et(pt))$++;for(;0<P-$;)k=Et(k),P--;for(;0<$-P;)M=Et(M),$--;for(;P--;){if(k===M||M!==null&&k===M.alternate){Et=k;break e}k=Et(k),M=Et(M)}Et=null}else Et=null;F!==null&&J_(Z,j,F,Et,!1),dt!==null&&se!==null&&J_(Z,se,dt,Et,!0)}}t:{if(j=z?Fn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var Qt=mp;else if(fp(j))if(gp)Qt=jS;else{Qt=PS;var mt=US}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Na(z.elementType)&&(Qt=mp):Qt=zS;if(Qt&&(Qt=Qt(e,z))){dp(Z,Qt,a,X);break t}mt&&mt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ko(j,"number",j.value)}switch(mt=z?Fn(z):window,e){case"focusin":(fp(mt)||mt.contentEditable==="true")&&(Pa=mt,Tf=z,al=null);break;case"focusout":al=Tf=Pa=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Sp(Z,a,X);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":Sp(Z,a,X)}var Dt;if(Kt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Ua?Ys(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Fi&&a.locale!=="ko"&&(Ua||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Ua&&(Dt=Wo()):(ji=X,Zo="value"in ji?ji.value:ji.textContent,Ua=!0)),mt=Uc(z,kt),0<mt.length&&(kt=new Hi(kt,e,null,a,X),Z.push({event:kt,listeners:mt}),Dt?kt.data=Dt:(Dt=ka(a),Dt!==null&&(kt.data=Dt)))),(Dt=oi?MS(e,a):VS(e,a))&&(kt=Uc(z,"onBeforeInput"),0<kt.length&&(mt=new Hi("onBeforeInput","beforeinput",null,a,X),Z.push({event:mt,listeners:kt}),mt.data=Dt)),wA(Z,e,z,a,X)}X_(Z,i)})}function Ol(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Uc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vi(e,a),h!=null&&l.unshift(Ol(e,h,d)),h=vi(e,i),h!=null&&l.push(Ol(e,h,d))),e.tag===3)return l;e=e.return}return[]}function DA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function J_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,z=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||z===null||(N=z,h?(z=vi(a,d),z!=null&&_.unshift(Ol(a,z,N))):h||(z=vi(a,d),z!=null&&_.push(Ol(a,z,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var NA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function Z_(e){return(typeof e=="string"?e:""+e).replace(NA,`
`).replace(OA,"")}function W_(e,i){return i=Z_(i),Z_(e)===i}function re(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,l);break;case"style":$o(e,l,d);break;case"data":if(i!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Oa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&re(e,i,"name",h.name,h,null),re(e,i,"formEncType",h.formEncType,h,null),re(e,i,"formMethod",h.formMethod,h,null),re(e,i,"formTarget",h.formTarget,h,null)):(re(e,i,"encType",h.encType,h,null),re(e,i,"method",h.method,h,null),re(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Oa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=_i);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Oa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),Ia(e,"popover",l);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ia(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uu.get(a)||a,Ia(e,a,l))}}function Yd(e,i,a,l,h,d){switch(a){case"style":$o(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&Dn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ia(e,a,l)}}}function an(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(e,i,d,_,a,null)}}h&&re(e,i,"srcSet",a.srcSet,a,null),l&&re(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var b=d=_=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":z=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:re(e,i,l,X,a,null)}}Vu(e,d,b,N,z,_,h,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:re(e,i,h,b,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Pr(e,!!l,i,!1):a!=null&&Pr(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:re(e,i,_,b,a,null)}zr(e,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(e,i,N,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Mt(Nl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(e,i,z,l,a,null)}return;default:if(Na(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Yd(e,i,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&re(e,i,b,l,a,null))}function xA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,N=null,z=null,X=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(F)||re(e,i,F,null,l,Z)}}for(var j in l){var F=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(F!=null||Z!=null))switch(j){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":X=F;break;case"value":_=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&re(e,i,j,F,l,Z)}}Da(e,_,b,N,z,X,d,h);return;case"select":F=_=b=j=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(d)||re(e,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":j=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&re(e,i,h,d,l,N)}i=b,a=_,l=F,j!=null?Pr(e,!!a,j,!1):!!l!=!!a&&(i!=null?Pr(e,!!a,i,!0):Pr(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:re(e,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&re(e,i,_,h,l,d)}Lu(e,j,F);return;case"option":for(var dt in a)if(j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:re(e,i,dt,null,l,j)}for(N in l)if(j=l[N],F=a[N],l.hasOwnProperty(N)&&j!==F&&(j!=null||F!=null))switch(N){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:re(e,i,N,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)j=a[Et],a.hasOwnProperty(Et)&&j!=null&&!l.hasOwnProperty(Et)&&re(e,i,Et,null,l,j);for(z in l)if(j=l[z],F=a[z],l.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:re(e,i,z,j,l,F)}return;default:if(Na(i)){for(var se in a)j=a[se],a.hasOwnProperty(se)&&j!==void 0&&!l.hasOwnProperty(se)&&Yd(e,i,se,void 0,l,j);for(X in l)j=l[X],F=a[X],!l.hasOwnProperty(X)||j===F||j===void 0&&F===void 0||Yd(e,i,X,j,l,F);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&re(e,i,k,null,l,j);for(Z in l)j=l[Z],F=a[Z],!l.hasOwnProperty(Z)||j===F||j==null&&F==null||re(e,i,Z,j,l,F)}function tv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&tv(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>b)break;var X=N.transferSize,Z=N.initiatorType;X&&tv(Z)&&(N=N.responseEnd,_+=X*(N<b?1:(b-z)/(N-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kd=null,Xd=null;function Pc(e){return e.nodeType===9?e:e.ownerDocument}function ev(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function $d(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jd=null;function VA(){var e=window.event;return e&&e.type==="popstate"?e===Jd?!1:(Jd=e,!0):(Jd=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(e){return rv.resolve(null).then(e).catch(UA)}:iv;function UA(e){setTimeout(function(){throw e})}function ls(e){return e==="head"}function sv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),ho(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")xl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,xl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Mi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&xl(e.ownerDocument.body);a=h}while(a);ho(i)}function av(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Zd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function PA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Mi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=mi(e.nextSibling),e===null)break}return null}function zA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=mi(e.nextSibling),e===null))return null;return e}function ov(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=mi(e.nextSibling),e===null))return null;return e}function Wd(e){return e.data==="$?"||e.data==="$~"}function tm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function mi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var em=null;function lv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return mi(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function uv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function cv(e,i,a){switch(i=Pc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function xl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ca(e)}var gi=new Map,hv=new Set;function zc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ar=rt.d;rt.d={f:BA,r:qA,D:HA,C:FA,L:GA,m:QA,X:KA,S:YA,M:XA};function BA(){var e=Ar.f(),i=Nc();return e||i}function qA(e){var i=ri(e);i!==null&&i.tag===5&&i.type==="form"?Iy(i):Ar.r(e)}var lo=typeof document>"u"?null:document;function fv(e,i,a){var l=lo;if(l&&typeof i=="string"&&i){var h=In(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),hv.has(h)||(hv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),an(i,"link",e),Oe(i),l.head.appendChild(i)))}}function HA(e){Ar.D(e),fv("dns-prefetch",e,null)}function FA(e,i){Ar.C(e,i),fv("preconnect",e,i)}function GA(e,i,a){Ar.L(e,i,a);var l=lo;if(l&&e&&i){var h='link[rel="preload"][as="'+In(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+In(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+In(a.imageSizes)+'"]')):h+='[href="'+In(e)+'"]';var d=h;switch(i){case"style":d=uo(e);break;case"script":d=co(e)}gi.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),gi.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),an(i,"link",e),Oe(i),l.head.appendChild(i)))}}function QA(e,i){Ar.m(e,i);var a=lo;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+In(l)+'"][href="'+In(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(e)}if(!gi.has(d)&&(e=T({rel:"modulepreload",href:e},i),gi.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),an(l,"link",e),Oe(l),a.head.appendChild(l)}}}function YA(e,i,a){Ar.S(e,i,a);var l=lo;if(l&&e){var h=Li(l).hoistableStyles,d=uo(e);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ml(d)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=gi.get(d))&&nm(e,a);var N=_=l.createElement("link");Oe(N),an(N,"link",e),N._p=new Promise(function(z,X){N.onload=z,N.onerror=X}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,jc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function KA(e,i){Ar.X(e,i);var a=lo;if(a&&e){var l=Li(a).hoistableScripts,h=co(e),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(e=T({src:e,async:!0},i),(i=gi.get(h))&&im(e,i),d=a.createElement("script"),Oe(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function XA(e,i){Ar.M(e,i);var a=lo;if(a&&e){var l=Li(a).hoistableScripts,h=co(e),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=gi.get(h))&&im(e,i),d=a.createElement("script"),Oe(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dv(e,i,a,l){var h=(h=_t.current)?zc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=uo(a.href),a=Li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=uo(a.href);var d=Li(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Ml(e)))&&!d._p&&(_.instance=d,_.state.loading=5),gi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(e,a),d||$A(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=co(a),a=Li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function uo(e){return'href="'+In(e)+'"'}function Ml(e){return'link[rel="stylesheet"]['+e+"]"}function mv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function $A(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),an(i,"link",a),Oe(i),e.head.appendChild(i))}function co(e){return'[src="'+In(e)+'"]'}function Vl(e){return"script[async]"+e}function gv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+In(a.href)+'"]');if(l)return i.instance=l,Oe(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Oe(l),an(l,"style",h),jc(l,a.precedence,e),i.instance=l;case"stylesheet":h=uo(a.href);var d=e.querySelector(Ml(h));if(d)return i.state.loading|=4,i.instance=d,Oe(d),d;l=mv(a),(h=gi.get(h))&&nm(l,h),d=(e.ownerDocument||e).createElement("link"),Oe(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),an(d,"link",l),i.state.loading|=4,jc(d,a.precedence,e),i.instance=d;case"script":return d=co(a.src),(h=e.querySelector(Vl(d)))?(i.instance=h,Oe(h),h):(l=a,(h=gi.get(d))&&(l=T({},a),im(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Oe(h),an(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jc(l,a.precedence,e));return i.instance}function jc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function nm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function im(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Bc=null;function pv(e,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Mi]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function yv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function JA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _v(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ZA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=uo(l.href),d=i.querySelector(Ml(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=qc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Oe(d);return}d=i.ownerDocument||i,l=mv(l),(h=gi.get(h))&&nm(l,h),d=d.createElement("link"),Oe(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),an(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=qc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var rm=0;function WA(e,i){return e.stylesheets&&e.count===0&&Fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Fc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&rm===0&&(rm=62500*MA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>rm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hc=null;function Fc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hc=new Map,i.forEach(t1,e),Hc=null,qc.call(e))}function t1(e,i){if(!(i.state.loading&4)){var a=Hc.get(e);if(a)var l=a.get(null);else{a=new Map,Hc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ll={$$typeof:nt,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function e1(e,i,a,l,h,d,_,b,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=be(0),this.hiddenUpdates=be(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function vv(e,i,a,l,h,d,_,b,N,z,X,Z){return e=new e1(e,i,a,_,N,z,X,Z,b),i=1,d===!0&&(i|=24),d=Yn(3,null,null,i),e.current=d,d.stateNode=e,i=Uf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),e}function Ev(e){return e?(e=Ba,e):Ba}function Tv(e,i,a,l,h,d){h=Ev(h),l.context===null?l.context=h:l.pendingContext=h,l=Jr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Zr(e,l,i),a!==null&&(Vn(a,e,i),dl(a,e,i))}function bv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function sm(e,i){bv(e,i),(e=e.alternate)&&bv(e,i)}function Sv(e){if(e.tag===13||e.tag===31){var i=$s(e,67108864);i!==null&&Vn(i,e,67108864),sm(e,67108864)}}function Av(e){if(e.tag===13||e.tag===31){var i=Zn();i=qn(i);var a=$s(e,i);a!==null&&Vn(a,e,i),sm(e,i)}}var Gc=!0;function n1(e,i,a,l){var h=Q.T;Q.T=null;var d=rt.p;try{rt.p=2,am(e,i,a,l)}finally{rt.p=d,Q.T=h}}function i1(e,i,a,l){var h=Q.T;Q.T=null;var d=rt.p;try{rt.p=8,am(e,i,a,l)}finally{rt.p=d,Q.T=h}}function am(e,i,a,l){if(Gc){var h=om(l);if(h===null)Qd(e,i,l,Qc,a),Rv(e,l);else if(s1(h,e,i,a,l))l.stopPropagation();else if(Rv(e,l),i&4&&-1<r1.indexOf(e)){for(;h!==null;){var d=ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=me(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-de(_);b.entanglements[1]|=N,_&=~N}Ki(d),(Xt&6)===0&&(Ic=Qe()+500,Dl(0))}}break;case 31:case 13:b=$s(d,2),b!==null&&Vn(b,d,2),Nc(),sm(d,2)}if(d=om(l),d===null&&Qd(e,i,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(e,i,l,null,a)}}function om(e){return e=si(e),lm(e)}var Qc=null;function lm(e){if(Qc=null,e=Vi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Qc=e,null}function wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case ks:return 2;case ni:return 8;case vn:case rr:return 32;case Us:return 268435456;default:return 32}default:return 32}}var um=!1,us=null,cs=null,hs=null,kl=new Map,Ul=new Map,fs=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(e,i){switch(e){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function Pl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ri(i),i!==null&&Sv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function s1(e,i,a,l,h){switch(i){case"focusin":return us=Pl(us,e,i,a,l,h),!0;case"dragenter":return cs=Pl(cs,e,i,a,l,h),!0;case"mouseover":return hs=Pl(hs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,Pl(kl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ul.set(d,Pl(Ul.get(d)||null,e,i,a,l,h)),!0}return!1}function Cv(e){var i=Vi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,tn(e.priority,function(){Av(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,tn(e.priority,function(){Av(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=om(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Jo=l,a.target.dispatchEvent(l),Jo=null}else return i=ri(a),i!==null&&Sv(i),e.blockedOn=a,!1;i.shift()}return!0}function Iv(e,i,a){Yc(e)&&a.delete(i)}function a1(){um=!1,us!==null&&Yc(us)&&(us=null),cs!==null&&Yc(cs)&&(cs=null),hs!==null&&Yc(hs)&&(hs=null),kl.forEach(Iv),Ul.forEach(Iv)}function Kc(e,i){e.blockedOn===i&&(e.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,a1)))}var Xc=null;function Dv(e){Xc!==e&&(Xc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===e&&(Xc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=ri(a);d!==null&&(e.splice(i,3),i-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ho(e){function i(N){return Kc(N,e)}us!==null&&Kc(us,e),cs!==null&&Kc(cs,e),hs!==null&&Kc(hs,e),kl.forEach(i),Ul.forEach(i);for(var a=0;a<fs.length;a++){var l=fs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<fs.length&&(a=fs[0],a.blockedOn===null);)Cv(a),a.blockedOn===null&&fs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ke]||null;if(typeof d=="function")_||Dv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ke]||null)b=_.formAction;else if(lm(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Dv(a)}}}function Nv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cm(e){this._internalRoot=e}$c.prototype.render=cm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Zn();Tv(a,l,e,i,null,null)},$c.prototype.unmount=cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Tv(e.current,2,null,e,null,null),Nc(),i[xi]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hn();e={blockedOn:null,target:e,priority:i};for(var a=0;a<fs.length&&i!==0&&i<fs[a].priority;a++);fs.splice(a,0,e),a===0&&Cv(e)}};var Ov=t.version;if(Ov!=="19.2.0")throw Error(s(527,Ov,"19.2.0"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var o1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Bn=Jc.inject(o1),qe=Jc}catch{}}return jl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Py,d=zy,_=jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=vv(e,1,!1,null,null,a,l,null,h,d,_,Nv),e[xi]=i.current,Gd(e),new cm(i)},jl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Py,_=zy,b=jy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=vv(e,1,!0,i,a??null,l,h,N,d,_,b,Nv),i.context=Ev(null),a=i.current,l=Zn(),l=qn(l),h=Jr(l),h.callback=null,Zr(a,h,l),a=l,i.current.lanes=a,Cn(i,a),Ki(i),e[xi]=i.current,Gd(e),new $c(i)},jl.version="19.2.0",jl}var Bv;function y1(){if(Bv)return dm.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dm.exports=p1(),dm.exports}var _1=y1();const v1=()=>{};var qv={};const VE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},E1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,V=y&63;g||(V=64,f||(w=64)),s.push(n[E],n[T],n[w],n[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(VE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):E1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new T1;const w=u<<2|m>>4;if(s.push(w),y!==64){const V=m<<4&240|y>>2;if(s.push(V),T!==64){const K=y<<6&192|T;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class T1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b1=function(r){const t=VE(r);return LE.encodeByteArray(t,!0)},yh=function(r){return b1(r).replace(/\./g,"")},kE=function(r){try{return LE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function S1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const A1=()=>S1().__FIREBASE_DEFAULTS__,w1=()=>{if(typeof process>"u"||typeof qv>"u")return;const r=qv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},R1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&kE(r[1]);return t&&JSON.parse(t)},Hh=()=>{try{return v1()||A1()||w1()||R1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UE=r=>Hh()?.emulatorHosts?.[r],C1=r=>{const t=UE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},PE=()=>Hh()?.config,zE=r=>Hh()?.[`_${r}`];class I1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jE(r){return(await fetch(r,{credentials:"include"})).ok}function D1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[yh(JSON.stringify(n)),yh(JSON.stringify(f)),""].join(".")}const Ql={};function N1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ql))Ql[t]?r.emulator.push(t):r.prod.push(t);return r}function O1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Hv=!1;function BE(r,t){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||Ql[r]===t||Ql[r]||Hv)return;Ql[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=N1().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,V){w.setAttribute("width","24"),w.setAttribute("id",V),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Hv=!0,f()},w}function E(w,V){w.setAttribute("id",V),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=O1(s),V=n("text"),K=document.getElementById(V)||document.createElement("span"),q=n("learnmore"),G=document.getElementById(q)||document.createElement("a"),it=n("preprendIcon"),et=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const nt=w.element;m(nt),E(G,q);const ut=y();g(et,it),nt.append(et,K,G,ut),document.body.appendChild(nt)}u?(K.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function M1(){const r=Hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function k1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U1(){const r=_n();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function P1(){return!M1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z1(){try{return typeof indexedDB=="object"}catch{return!1}}function j1(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const B1="FirebaseError";class Mr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=B1,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?q1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Mr(o,m,s)}}function q1(r,t){return r.replace(H1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const H1=/\{\$([^}]+)}/g;function F1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function pa(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Fv(u)&&Fv(f)){if(!pa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Fv(r){return r!==null&&typeof r=="object"}function gu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function G1(r,t){const n=new Q1(r,t);return n.subscribe.bind(n)}class Q1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Y1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function ym(){}function Be(r){return r&&r._delegate?r._delegate:r}class ya{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ua="[DEFAULT]";class K1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new I1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($1(t))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ua){return this.instances.has(t)}getOptions(t=ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:X1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ua){return this.component?this.component.multipleInstances?t:ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X1(r){return r===ua?void 0:r}function $1(r){return r.instantiationMode==="EAGER"}class J1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new K1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const Z1={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},W1=Ut.INFO,tw={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},ew=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=tw[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dg{constructor(t){this.name=t,this._logLevel=W1,this._logHandler=ew,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Z1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const nw=(r,t)=>t.some(n=>r instanceof n);let Gv,Qv;function iw(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rw(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,Vm=new WeakMap,HE=new WeakMap,_m=new WeakMap,mg=new WeakMap;function sw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&qE.set(n,r)}).catch(()=>{}),mg.set(t,r),t}function aw(r){if(Vm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Vm.set(r,t)}let Lm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Vm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||HE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ow(r){Lm=r(Lm)}function lw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(vm(this),t,...n);return HE.set(s,t.sort?t.sort():[t]),Es(s)}:rw().includes(r)?function(...t){return r.apply(vm(this),t),Es(qE.get(this))}:function(...t){return Es(r.apply(vm(this),t))}}function uw(r){return typeof r=="function"?lw(r):(r instanceof IDBTransaction&&aw(r),nw(r,iw())?new Proxy(r,Lm):r)}function Es(r){if(r instanceof IDBRequest)return sw(r);if(_m.has(r))return _m.get(r);const t=uw(r);return t!==r&&(_m.set(r,t),mg.set(t,r)),t}const vm=r=>mg.get(r);function cw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Es(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Es(f.result),g.oldVersion,g.newVersion,Es(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const hw=["get","getKey","getAll","getAllKeys","count"],fw=["put","add","delete","clear"],Em=new Map;function Yv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Em.get(t))return Em.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=fw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Em.set(t,u),u}ow(r=>({...r,get:(t,n,s)=>Yv(t,n)||r.get(t,n,s),has:(t,n)=>!!Yv(t,n)||r.has(t,n)}));class dw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mw(r){return r.getComponent()?.type==="VERSION"}const km="@firebase/app",Kv="0.14.6";const Dr=new dg("@firebase/app"),gw="@firebase/app-compat",pw="@firebase/analytics-compat",yw="@firebase/analytics",_w="@firebase/app-check-compat",vw="@firebase/app-check",Ew="@firebase/auth",Tw="@firebase/auth-compat",bw="@firebase/database",Sw="@firebase/data-connect",Aw="@firebase/database-compat",ww="@firebase/functions",Rw="@firebase/functions-compat",Cw="@firebase/installations",Iw="@firebase/installations-compat",Dw="@firebase/messaging",Nw="@firebase/messaging-compat",Ow="@firebase/performance",xw="@firebase/performance-compat",Mw="@firebase/remote-config",Vw="@firebase/remote-config-compat",Lw="@firebase/storage",kw="@firebase/storage-compat",Uw="@firebase/firestore",Pw="@firebase/ai",zw="@firebase/firestore-compat",jw="firebase",Bw="12.6.0";const Um="[DEFAULT]",qw={[km]:"fire-core",[gw]:"fire-core-compat",[yw]:"fire-analytics",[pw]:"fire-analytics-compat",[vw]:"fire-app-check",[_w]:"fire-app-check-compat",[Ew]:"fire-auth",[Tw]:"fire-auth-compat",[bw]:"fire-rtdb",[Sw]:"fire-data-connect",[Aw]:"fire-rtdb-compat",[ww]:"fire-fn",[Rw]:"fire-fn-compat",[Cw]:"fire-iid",[Iw]:"fire-iid-compat",[Dw]:"fire-fcm",[Nw]:"fire-fcm-compat",[Ow]:"fire-perf",[xw]:"fire-perf-compat",[Mw]:"fire-rc",[Vw]:"fire-rc-compat",[Lw]:"fire-gcs",[kw]:"fire-gcs-compat",[Uw]:"fire-fst",[zw]:"fire-fst-compat",[Pw]:"fire-vertex","fire-js":"fire-js",[jw]:"fire-js-all"};const _h=new Map,Hw=new Map,Pm=new Map;function Xv(r,t){try{r.container.addComponent(t)}catch(n){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function So(r){const t=r.name;if(Pm.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;Pm.set(t,r);for(const n of _h.values())Xv(n,r);for(const n of Hw.values())Xv(n,r);return!0}function gg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ri(r){return r==null?!1:r.settings!==void 0}const Fw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new mu("app","Firebase",Fw);class Gw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}const xo=Bw;function FE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Um,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(n||(n=PE()),!n)throw Ts.create("no-options");const u=_h.get(o);if(u){if(pa(n,u.options)&&pa(s,u.config))return u;throw Ts.create("duplicate-app",{appName:o})}const f=new J1(o);for(const g of Pm.values())f.addComponent(g);const m=new Gw(n,s,f);return _h.set(o,m),m}function GE(r=Um){const t=_h.get(r);if(!t&&r===Um&&PE())return FE();if(!t)throw Ts.create("no-app",{appName:r});return t}function bs(r,t,n){let s=qw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(f.join(" "));return}So(new ya(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Qw="firebase-heartbeat-database",Yw=1,iu="firebase-heartbeat-store";let Tm=null;function QE(){return Tm||(Tm=cw(Qw,Yw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ts.create("idb-open",{originalErrorMessage:r.message})})),Tm}async function Kw(r){try{const n=(await QE()).transaction(iu),s=await n.objectStore(iu).get(YE(r));return await n.done,s}catch(t){if(t instanceof Mr)Dr.warn(t.message);else{const n=Ts.create("idb-get",{originalErrorMessage:t?.message});Dr.warn(n.message)}}}async function $v(r,t){try{const s=(await QE()).transaction(iu,"readwrite");await s.objectStore(iu).put(t,YE(r)),await s.done}catch(n){if(n instanceof Mr)Dr.warn(n.message);else{const s=Ts.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(s.message)}}}function YE(r){return`${r.name}!${r.options.appId}`}const Xw=1024,$w=30;class Jw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ww(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>$w){const o=tR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Dr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jv(),{heartbeatsToSend:n,unsentEntries:s}=Zw(this._heartbeatsCache.heartbeats),o=yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Dr.warn(t),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function Zw(r,t=Xw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Zv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Zv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ww{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z1()?j1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Zv(r){return yh(JSON.stringify({version:2,heartbeats:r})).length}function tR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function eR(r){So(new ya("platform-logger",t=>new dw(t),"PRIVATE")),So(new ya("heartbeat",t=>new Jw(t),"PRIVATE")),bs(km,Kv,r),bs(km,Kv,"esm2020"),bs("fire-js","")}eR("");function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nR=KE,XE=new mu("auth","Firebase",KE());const vh=new dg("@firebase/auth");function iR(r,...t){vh.logLevel<=Ut.WARN&&vh.warn(`Auth (${xo}): ${r}`,...t)}function ah(r,...t){vh.logLevel<=Ut.ERROR&&vh.error(`Auth (${xo}): ${r}`,...t)}function er(r,...t){throw yg(r,...t)}function Ii(r,...t){return yg(r,...t)}function pg(r,t,n){const s={...nR(),[t]:n};return new mu("auth","Firebase",s).create(t,{appName:r.name})}function da(r){return pg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&er(r,"argument-error"),pg(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return XE.create(r,...t)}function bt(r,t,...n){if(!r)throw yg(t,...n)}function Rr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ah(t),new Error(t)}function Nr(r,t){r||Rr(t)}function zm(){return typeof self<"u"&&self.location?.href||""}function sR(){return Wv()==="http:"||Wv()==="https:"}function Wv(){return typeof self<"u"&&self.location?.protocol||null}function aR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||L1()||"connection"in navigator)?navigator.onLine:!0}function oR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Nr(n>t,"Short delay should be less than long delay!"),this.isMobile=x1()||k1()}get(){return aR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _g(r,t){Nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class $E{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cR=new pu(3e4,6e4);function vg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Mo(r,t,n,s,o={}){return JE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=gu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return V1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Oo(r.emulatorConfig.host)&&(y.credentials="include"),$E.fetch()(await ZE(r,r.config.apiHost,n,m),y)})}async function JE(r,t,n){r._canInitEmulator=!1;const s={...lR,...t};try{const o=new fR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw pg(r,E,y);er(r,E)}}catch(o){if(o instanceof Mr)throw o;er(r,"network-request-failed",{message:String(o)})}}async function hR(r,t,n,s,o={}){const u=await Mo(r,t,n,s,o);return"mfaPendingCredential"in u&&er(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ZE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?_g(r.config,o):`${r.config.apiScheme}://${o}`;return uR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class fR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),cR.get())})}}function Zc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(r,t,s);return o.customData._tokenResponse=n,o}async function dR(r,t){return Mo(r,"POST","/v1/accounts:delete",t)}async function Eh(r,t){return Mo(r,"POST","/v1/accounts:lookup",t)}function Yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function mR(r,t=!1){const n=Be(r),s=await n.getIdToken(t),o=Eg(s);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Yl(bm(o.auth_time)),issuedAtTime:Yl(bm(o.iat)),expirationTime:Yl(bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(r){return Number(r)*1e3}function Eg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=kE(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function t0(r){const t=Eg(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ru(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Mr&&gR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function gR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class pR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Th(r){const t=r.auth,n=await r.getIdToken(),s=await ru(r,Eh(t,{idToken:n}));bt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?WE(o.providerUserInfo):[],f=_R(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function yR(r){const t=Be(r);await Th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _R(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function WE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function vR(r,t){const n=await JE(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await ZE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Oo(r.emulatorConfig.host)&&(g.credentials="include"),$E.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ER(r,t){return Mo(r,"POST","/v2/accounts:revokeToken",vg(r,t))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):t0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=t0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new yo;return s&&(bt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return Rr("not implemented")}}function ms(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ci{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new pR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await ru(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return mR(this,t)}reload(){return yR(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(da(this.auth));const t=await this.getIdToken();return await ru(this,dR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:V,providerData:K,stsTokenManager:q}=n;bt(T&&q,t,"internal-error");const G=yo.fromJSON(this.name,q);bt(typeof T=="string",t,"internal-error"),ms(s,t.name),ms(o,t.name),bt(typeof w=="boolean",t,"internal-error"),bt(typeof V=="boolean",t,"internal-error"),ms(u,t.name),ms(f,t.name),ms(m,t.name),ms(g,t.name),ms(y,t.name),ms(E,t.name);const it=new Ci({uid:T,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return K&&Array.isArray(K)&&(it.providerData=K.map(et=>({...et}))),g&&(it._redirectEventId=g),it}static async _fromIdTokenResponse(t,n,s=!1){const o=new yo;o.updateFromServerResponse(n);const u=new Ci({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Th(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new yo;m.updateFromIdToken(s);const g=new Ci({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const e0=new Map;function Cr(r){Nr(r instanceof Function,"Expected a class definition");let t=e0.get(r);return t?(Nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,e0.set(r,t),t)}class tT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tT.type="NONE";const n0=tT;function oh(r,t,n){return`firebase:${r}:${t}:${n}`}class _o{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Eh(this.auth,{idToken:t}).catch(()=>{});return n?Ci._fromGetAccountInfoResponse(this.auth,n,t):null}return Ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new _o(Cr(n0),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Cr(n0);const f=oh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const w=await Eh(t,{idToken:E}).catch(()=>{});if(!w)break;T=await Ci._fromGetAccountInfoResponse(t,w,E)}else T=Ci._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new _o(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new _o(u,t,s))}}function i0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aT(t))return"Blackberry";if(oT(t))return"Webos";if(nT(t))return"Safari";if((t.includes("chrome/")||iT(t))&&!t.includes("edge/"))return"Chrome";if(sT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function eT(r=_n()){return/firefox\//i.test(r)}function nT(r=_n()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function iT(r=_n()){return/crios\//i.test(r)}function rT(r=_n()){return/iemobile/i.test(r)}function sT(r=_n()){return/android/i.test(r)}function aT(r=_n()){return/blackberry/i.test(r)}function oT(r=_n()){return/webos/i.test(r)}function Tg(r=_n()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TR(r=_n()){return Tg(r)&&!!window.navigator?.standalone}function bR(){return U1()&&document.documentMode===10}function lT(r=_n()){return Tg(r)||sT(r)||oT(r)||aT(r)||/windows phone/i.test(r)||rT(r)}function uT(r,t=[]){let n;switch(r){case"Browser":n=i0(_n());break;case"Worker":n=`${i0(_n())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}class SR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function AR(r,t={}){return Mo(r,"GET","/v2/passwordPolicy",vg(r,t))}const wR=6;class RR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class CR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new SR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Eh(this,{idToken:t}),s=await Ci._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ri(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Th(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ri(this.app))return Promise.reject(da(this));const n=t?Be(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ri(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await AR(this),n=new RR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ER(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Cr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Fh(r){return Be(r)}class r0{constructor(t){this.auth=t,this.observer=null,this.addObserver=G1(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IR(r){bg=r}function DR(r){return bg.loadJS(r)}function NR(){return bg.gapiScript}function OR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function xR(r,t){const n=gg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(pa(u,t??{}))return o;er(o,"already-initialized")}return n.initialize({options:t})}function MR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Cr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function VR(r,t,n){const s=Fh(r);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=cT(t),{host:f,port:m}=LR(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(pa(y,s.config.emulator)&&pa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Oo(f)?(jE(`${u}//${f}${g}`),BE("Auth",!0)):kR()}function cT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function LR(r){const t=cT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:s0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:s0(f)}}}function s0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function kR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class hT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(t){return Rr("not implemented")}_linkToIdToken(t,n){return Rr("not implemented")}_getReauthenticationResolver(t){return Rr("not implemented")}}async function vo(r,t){return hR(r,"POST","/v1/accounts:signInWithIdp",vg(r,t))}const UR="http://localhost";class _a extends hT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new _a(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new _a(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return vo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,vo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,vo(t,n)}buildRequest(){const t={requestUri:UR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=gu(n)}return t}}class Sg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class yu extends Sg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ps extends yu{constructor(){super("facebook.com")}static credential(t){return _a._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ps.credential(t.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";class wr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return _a._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class ys extends yu{constructor(){super("github.com")}static credential(t){return _a._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ys.credential(t.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";class _s extends yu{constructor(){super("twitter.com")}static credential(t,n){return _a._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return _s.credentialFromTaggedObject(t)}static credentialFromError(t){return _s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return _s.credential(n,s)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";class Ao{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ci._fromIdTokenResponse(t,s,o),f=a0(s);return new Ao({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=a0(s);return new Ao({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function a0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class bh extends Mr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new bh(t,n,s,o)}}function fT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,u,t,s):u})}async function PR(r,t,n=!1){const s=await ru(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ao._forOperation(r,"link",s)}async function zR(r,t,n=!1){const{auth:s}=r;if(Ri(s.app))return Promise.reject(da(s));const o="reauthenticate";try{const u=await ru(r,fT(s,o,t,r),n);bt(u.idToken,s,"internal-error");const f=Eg(u.idToken);bt(f,s,"internal-error");const{sub:m}=f;return bt(r.uid===m,s,"user-mismatch"),Ao._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&er(s,"user-mismatch"),u}}async function jR(r,t,n=!1){if(Ri(r.app))return Promise.reject(da(r));const s="signIn",o=await fT(r,s,t),u=await Ao._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function BR(r,t,n,s){return Be(r).onIdTokenChanged(t,n,s)}function qR(r,t,n){return Be(r).beforeAuthStateChanged(t,n)}function HR(r,t,n,s){return Be(r).onAuthStateChanged(t,n,s)}function FR(r){return Be(r).signOut()}const Sh="__sak";class dT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const GR=1e3,QR=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);bR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},GR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}mT.type="LOCAL";const YR=mT;class gT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}gT.type="SESSION";const pT=gT;function KR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Gh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await KR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Ag(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class XR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Ag("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function $i(){return window}function $R(r){$i().location.href=r}function yT(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function JR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZR(){return navigator?.serviceWorker?.controller||null}function WR(){return yT()?self:null}const _T="firebaseLocalStorageDb",tC=1,Ah="firebaseLocalStorage",vT="fbase_key";class _u{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,t){return r.transaction([Ah],t?"readwrite":"readonly").objectStore(Ah)}function eC(){const r=indexedDB.deleteDatabase(_T);return new _u(r).toPromise()}function Bm(){const r=indexedDB.open(_T,tC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ah,{keyPath:vT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ah)?t(s):(s.close(),await eC(),t(await Bm()))})})}async function o0(r,t,n){const s=Qh(r,!0).put({[vT]:t,value:n});return new _u(s).toPromise()}async function nC(r,t){const n=Qh(r,!1).get(t),s=await new _u(n).toPromise();return s===void 0?null:s.value}function l0(r,t){const n=Qh(r,!0).delete(t);return new _u(n).toPromise()}const iC=800,rC=3;class ET{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>rC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(WR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JR(),!this.activeServiceWorker)return;this.sender=new XR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ZR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bm();return await o0(t,Sh,"1"),await l0(t,Sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>o0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>nC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>l0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new _u(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ET.type="LOCAL";const sC=ET;new pu(3e4,6e4);function TT(r,t){return t?Cr(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wg extends hT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return vo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return vo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function aC(r){return jR(r.auth,new wg(r),r.bypassAuthState)}function oC(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),zR(n,new wg(r),r.bypassAuthState)}async function lC(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),PR(n,new wg(r),r.bypassAuthState)}class bT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return lC;case"reauthViaPopup":case"reauthViaRedirect":return oC;default:er(this.auth,"internal-error")}}resolve(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uC=new pu(2e3,1e4);async function cC(r,t,n){if(Ri(r.app))return Promise.reject(Ii(r,"operation-not-supported-in-this-environment"));const s=Fh(r);rR(r,t,Sg);const o=TT(s,n);return new ha(s,"signInViaPopup",t,o).executeNotNull()}class ha extends bT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const t=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uC.get())};t()}}ha.currentPopupAction=null;const hC="pendingRedirect",lh=new Map;class fC extends bT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=lh.get(this.auth._key());if(!t){try{const s=await dC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}lh.set(this.auth._key(),t)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dC(r,t){const n=pC(t),s=gC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mC(r,t){lh.set(r._key(),t)}function gC(r){return Cr(r._redirectPersistence)}function pC(r){return oh(hC,r.config.apiKey,r.name)}async function yC(r,t,n=!1){if(Ri(r.app))return Promise.reject(da(r));const s=Fh(r),o=TT(s,t),f=await new fC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const _C=600*1e3;class vC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!ST(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_C&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(t))}saveEventToCache(t){this.cachedEventUids.add(u0(t)),this.lastProcessedEventTime=Date.now()}}function u0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function ST({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function EC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(r);default:return!1}}async function TC(r,t={}){return Mo(r,"GET","/v1/projects",t)}const bC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SC=/^https?/;async function AC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await TC(r);for(const n of t)try{if(wC(n))return}catch{}er(r,"unauthorized-domain")}function wC(r){const t=zm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!SC.test(n))return!1;if(bC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const RC=new pu(3e4,6e4);function c0(){const r=$i().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function CC(r){return new Promise((t,n)=>{function s(){c0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{c0(),n(Ii(r,"network-request-failed"))},timeout:RC.get()})}if($i().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if($i().gapi?.load)s();else{const o=OR("iframefcb");return $i()[o]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},DR(`${NR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw uh=null,t})}let uh=null;function IC(r){return uh=uh||CC(r),uh}const DC=new pu(5e3,15e3),NC="__/auth/iframe",OC="emulator/auth/iframe",xC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?_g(t,OC):`https://${r.config.authDomain}/${NC}`,s={apiKey:t.apiKey,appName:r.name,v:xo},o=MC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function LC(r){const t=await IC(r),n=$i().gapi;return bt(n,r,"internal-error"),t.open({where:document.body,url:VC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(r,"network-request-failed"),m=$i().setTimeout(()=>{u(f)},DC.get());function g(){$i().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const kC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UC=500,PC=600,zC="_blank",jC="http://localhost";class h0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BC(r,t,n,s=UC,o=PC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...kC,width:s.toString(),height:o.toString(),top:u,left:f},y=_n().toLowerCase();n&&(m=iT(y)?zC:n),eT(y)&&(t=t||jC,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[V,K])=>`${w}${V}=${K},`,"");if(TR(y)&&m!=="_self")return qC(t||"",m),new h0(null);const T=window.open(t||"",m,E);bt(T,r,"popup-blocked");try{T.focus()}catch{}return new h0(T)}function qC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const HC="__/auth/handler",FC="emulator/auth/handler",GC=encodeURIComponent("fac");async function f0(r,t,n,s,o,u){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(t instanceof Sg){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",F1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof yu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${GC}=${encodeURIComponent(g)}`:"";return`${QC(r)}?${gu(m).slice(1)}${y}`}function QC({config:r}){return r.emulator?_g(r,FC):`https://${r.authDomain}/${HC}`}const Sm="webStorageSupport";class YC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pT,this._completeRedirectFn=yC,this._overrideRedirectResult=mC}async _openPopup(t,n,s,o){Nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await f0(t,n,s,zm(),o);return BC(t,u,Ag())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await f0(t,n,s,zm(),o);return $R(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await LC(t),s=new vC(t);return n.register("authEvent",o=>(bt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Sm,{type:Sm},o=>{const u=o?.[0]?.[Sm];u!==void 0&&n(!!u),er(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return lT()||nT()||Tg()}}const KC=YC;var d0="@firebase/auth",m0="1.11.1";class XC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $C(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JC(r){So(new ya("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;bt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(r)},y=new CR(s,o,u,g);return MR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),So(new ya("auth-internal",t=>{const n=Fh(t.getProvider("auth").getImmediate());return(s=>new XC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(d0,m0,$C(r)),bs(d0,m0,"esm2020")}const ZC=300,WC=zE("authIdTokenMaxAge")||ZC;let g0=null;const tI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>WC)return;const o=n?.token;g0!==o&&(g0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eI(r=GE()){const t=gg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=xR(r,{popupRedirectResolver:KC,persistence:[sC,YR,pT]}),s=zE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=tI(u.toString());qR(n,f,()=>f(n.currentUser)),BR(n,m=>f(m))}}const o=UE("auth");return o&&VR(n,`http://${o}`),n}function nI(){return document.getElementsByTagName("head")?.[0]??document}IR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JC("Browser");var iI="firebase",rI="12.6.0";bs(iI,rI,"app");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ss,AT;(function(){var r;function t(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(O,D,L){for(var I=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)I[jt-2]=arguments[jt];return A.prototype[D].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,C){C||(C=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],D=R.g[2];let L=R.g[3],I;I=A+(L^C&(D^L))+O[0]+3614090360&4294967295,A=C+(I<<7&4294967295|I>>>25),I=L+(D^A&(C^D))+O[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=D+(C^L&(A^C))+O[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(A^D&(L^A))+O[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=A+(L^C&(D^L))+O[4]+4118548399&4294967295,A=C+(I<<7&4294967295|I>>>25),I=L+(D^A&(C^D))+O[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=D+(C^L&(A^C))+O[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(A^D&(L^A))+O[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=A+(L^C&(D^L))+O[8]+1770035416&4294967295,A=C+(I<<7&4294967295|I>>>25),I=L+(D^A&(C^D))+O[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=D+(C^L&(A^C))+O[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(A^D&(L^A))+O[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=A+(L^C&(D^L))+O[12]+1804603682&4294967295,A=C+(I<<7&4294967295|I>>>25),I=L+(D^A&(C^D))+O[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=D+(C^L&(A^C))+O[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(A^D&(L^A))+O[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=A+(D^L&(C^D))+O[1]+4129170786&4294967295,A=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(A^C))+O[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=D+(A^C&(L^A))+O[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^A&(D^L))+O[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=A+(D^L&(C^D))+O[5]+3593408605&4294967295,A=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(A^C))+O[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=D+(A^C&(L^A))+O[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^A&(D^L))+O[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=A+(D^L&(C^D))+O[9]+568446438&4294967295,A=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(A^C))+O[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=D+(A^C&(L^A))+O[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^A&(D^L))+O[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=A+(D^L&(C^D))+O[13]+2850285829&4294967295,A=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(A^C))+O[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=D+(A^C&(L^A))+O[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^A&(D^L))+O[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=A+(C^D^L)+O[5]+4294588738&4294967295,A=C+(I<<4&4294967295|I>>>28),I=L+(A^C^D)+O[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=D+(L^A^C)+O[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^A)+O[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=A+(C^D^L)+O[1]+2763975236&4294967295,A=C+(I<<4&4294967295|I>>>28),I=L+(A^C^D)+O[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=D+(L^A^C)+O[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^A)+O[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=A+(C^D^L)+O[13]+681279174&4294967295,A=C+(I<<4&4294967295|I>>>28),I=L+(A^C^D)+O[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=D+(L^A^C)+O[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^A)+O[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=A+(C^D^L)+O[9]+3654602809&4294967295,A=C+(I<<4&4294967295|I>>>28),I=L+(A^C^D)+O[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=D+(L^A^C)+O[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^A)+O[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=A+(D^(C|~L))+O[0]+4096336452&4294967295,A=C+(I<<6&4294967295|I>>>26),I=L+(C^(A|~D))+O[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=D+(A^(L|~C))+O[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~A))+O[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=A+(D^(C|~L))+O[12]+1700485571&4294967295,A=C+(I<<6&4294967295|I>>>26),I=L+(C^(A|~D))+O[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=D+(A^(L|~C))+O[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~A))+O[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=A+(D^(C|~L))+O[8]+1873313359&4294967295,A=C+(I<<6&4294967295|I>>>26),I=L+(C^(A|~D))+O[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=D+(A^(L|~C))+O[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~A))+O[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=A+(D^(C|~L))+O[4]+4149444226&4294967295,A=C+(I<<6&4294967295|I>>>26),I=L+(C^(A|~D))+O[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=D+(A^(L|~C))+O[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~A))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<A;)if(O[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,O),D=0;break}}else for(;L<A;)if(O[D++]=R[L++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)R[A++]=this.g[C]>>>O&255;return R};function u(R,A){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function f(R,A){this.h=A;const C=[];let O=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;O&&L==A||(C[D]=L,O=!1)}this.g=C}var m={};function g(R){return-128<=R&&R<128?u(R,function(A){return new f([A|0],A<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return G(y(-R));const A=[];let C=1;for(let O=0;R>=C;O++)A[O]=R/C|0,C*=4294967296;return new f(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return G(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let O=T;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const I=parseInt(R.substring(L,L+D),A);D<8?(D=y(Math.pow(A,D)),O=O.j(D).add(y(I))):(O=O.j(C),O=O.add(y(I)))}return O}var T=g(0),w=g(1),V=g(16777216);r=f.prototype,r.m=function(){if(q(this))return-G(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);R+=(O>=0?O:4294967296+O)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(K(this))return"0";if(q(this))return"-"+G(this).toString(R);const A=y(Math.pow(R,6));var C=this;let O="";for(;;){const D=ut(C,A).g;C=it(C,D.j(A));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,K(C))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function K(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function q(R){return R.h==-1}r.l=function(R){return R=it(this,R),q(R)?-1:K(R)?0:1};function G(R){const A=R.g.length,C=[];for(let O=0;O<A;O++)C[O]=~R.g[O];return new f(C,~R.h).add(w)}r.abs=function(){return q(this)?G(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let O=0;for(let D=0;D<=A;D++){let L=O+(this.i(D)&65535)+(R.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=I>>>16,L&=65535,I&=65535,C[D]=I<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function it(R,A){return R.add(G(A))}r.j=function(R){if(K(this)||K(R))return T;if(q(this))return q(R)?G(this).j(G(R)):G(G(this).j(R));if(q(R))return G(this.j(G(R)));if(this.l(V)<0&&R.l(V)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var O=0;O<2*A;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const L=this.i(O)>>>16,I=this.i(O)&65535,jt=R.i(D)>>>16,le=R.i(D)&65535;C[2*O+2*D]+=I*le,et(C,2*O+2*D),C[2*O+2*D+1]+=L*le,et(C,2*O+2*D+1),C[2*O+2*D+1]+=I*jt,et(C,2*O+2*D+1),C[2*O+2*D+2]+=L*jt,et(C,2*O+2*D+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new f(C,0)};function et(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function nt(R,A){this.g=R,this.h=A}function ut(R,A){if(K(A))throw Error("division by zero");if(K(R))return new nt(T,T);if(q(R))return A=ut(G(R),A),new nt(G(A.g),G(A.h));if(q(A))return A=ut(R,G(A)),new nt(G(A.g),A.h);if(R.g.length>30){if(q(R)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,O=A;O.l(R)<=0;)C=ft(C),O=ft(O);var D=ot(C,1),L=ot(O,1);for(O=ot(O,2),C=ot(C,2);!K(O);){var I=L.add(O);I.l(R)<=0&&(D=D.add(C),L=I),O=ot(O,1),C=ot(C,1)}return A=it(R,D.j(A)),new nt(D,A)}for(D=T;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=y(C),I=L.j(A);q(I)||I.l(R)>0;)C-=O,L=y(C),I=L.j(A);K(L)&&(L=w),D=D.add(L),R=it(R,I)}return new nt(D,R)}r.B=function(R){return ut(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)&R.i(O);return new f(C,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)|R.i(O);return new f(C,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)^R.i(O);return new f(C,this.h^R.h)};function ft(R){const A=R.g.length+1,C=[];for(let O=0;O<A;O++)C[O]=R.i(O)<<1|R.i(O-1)>>>31;return new f(C,R.h)}function ot(R,A){const C=A>>5;A%=32;const O=R.g.length-C,D=[];for(let L=0;L<O;L++)D[L]=A>0?R.i(L+C)>>>A|R.i(L+C+1)<<32-A:R.i(L+C);return new f(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,AT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ss=f}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wT,Bl,RT,ch,qm,CT,IT,DT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break t;v=v[U]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,H){for(var at=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)at[Ct-2]=arguments[Ct];return p.prototype[U].apply(S,at)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function K(c,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const H=U.length||0;c.length=v+H;for(let at=0;at<H;at++)c[v+at]=U[at]}else c.push(U)}}class q{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(c){f.setTimeout(()=>{throw c},0)}function it(){var c=R;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class et{constructor(){this.h=this.g=null}add(p,v){const S=nt.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var nt=new q(()=>new ut,c=>c.reset());class ut{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ot=!1,R=new et,A=()=>{const c=Promise.resolve(void 0);ft=()=>{c.then(C)}};function C(){for(var c;c=it();){try{c.h.call(c.g)}catch(v){G(v)}var p=nt;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ot=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function jt(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}T(jt,D),jt.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&jt.Z.h.call(this)},jt.prototype.h=function(){jt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Q=0;function rt(c,p,v,S,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++Q,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rt(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function Bt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function x(c){const p={};for(const v in c)p[v]=c[v];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,p,v,S,U){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const at=_t(c,p,S,U);return at>-1?(p=c[at],v||(p.fa=!1)):(p=new rt(p,this.src,H,!!S,U),p.fa=v,c.push(p)),p};function vt(c,p){const v=p.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,p,void 0),H;(H=U>=0)&&Array.prototype.splice.call(S,U,1),H&&(gt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function _t(c,p,v,S){for(let U=0;U<c.length;++U){const H=c[U];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==S)return U}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),te={};function Ft(c,p,v,S,U){if(Array.isArray(p)){for(let H=0;H<p.length;H++)Ft(c,p[H],v,S,U);return null}return v=Lr(v),c&&c[le]?c.J(p,v,m(S)?!!S.capture:!1,U):Vt(c,p,v,!1,S,U)}function Vt(c,p,v,S,U,H){if(!p)throw Error("Invalid event type");const at=m(U)?!!U.capture:!!U;let Ct=Rn(c);if(Ct||(c[Nt]=Ct=new lt(c)),v=Ct.add(p,v,S,at,H),v.proxy)return v;if(S=ti(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(U=at),U===void 0&&(U=!1),c.addEventListener(p.toString(),S,U);else if(c.attachEvent)c.attachEvent(Ie(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ti(){function c(v){return p.call(c.src,c.listener,v)}const p=ei;return c}function We(c,p,v,S,U){if(Array.isArray(p))for(var H=0;H<p.length;H++)We(c,p[H],v,S,U);else S=m(S)?!!S.capture:!!S,v=Lr(v),c&&c[le]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],v=_t(p,v,S,U),v>-1&&(gt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=Rn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=_t(p,v,S,U)),(v=c>-1?p[c]:null)&&Pn(v))}function Pn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[le])vt(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(Ie(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=Rn(p))?(vt(v,c),v.h==0&&(v.src=null,p[Nt]=null)):gt(c)}}}function Ie(c){return c in te?te[c]:te[c]="on"+c}function ei(c,p){if(c.da)c=!0;else{p=new jt(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&Pn(c),c=v.call(S,p)}return c}function Rn(c){return c=c[Nt],c instanceof lt?c:null}var Vr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lr(c){return typeof c=="function"?c:(c[Vr]||(c[Vr]=function(p){return c.handleEvent(p)}),c[Vr])}function fe(){O.call(this),this.i=new lt(this),this.M=this,this.G=null}T(fe,O),fe.prototype[le]=!0,fe.prototype.removeEventListener=function(c,p,v,S){We(this,c,p,v,S)};function ee(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var U=p;p=new D(S,c),st(p,U)}U=!0;let H,at;if(v)for(at=v.length-1;at>=0;at--)H=p.g=v[at],U=zn(H,S,!0,p)&&U;if(H=p.g=c,U=zn(H,S,!0,p)&&U,U=zn(H,S,!1,p)&&U,v)for(at=0;at<v.length;at++)H=p.g=v[at],U=zn(H,S,!1,p)&&U}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)gt(v[S]);delete c.g[p],c.h--}}this.G=null},fe.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},fe.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function zn(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let H=0;H<p.length;++H){const at=p[H];if(at&&!at.da&&at.capture==v){const Ct=at.listener,Ae=at.ha||at.src;at.fa&&vt(c.i,at),U=Ct.call(Ae,S)!==!1&&U}}return U&&!S.defaultPrevented}function kr(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Ls(c){c.g=kr(()=>{c.g=null,c.i&&(c.i=!1,Ls(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Qe extends O{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ls(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(c){O.call(this),this.h=c,this.g={}}T(ir,O);var ks=[];function ni(c){Rt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Pn(p)},c),c.g={}}ir.prototype.N=function(){ir.Z.N.call(this),ni(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=f.JSON.stringify,rr=f.JSON.parse,Us=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function jn(){}function Ps(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}T(qe,D);function cn(){D.call(this,"c")}T(cn,D);var de={},Aa=null;function sr(){return Aa=Aa||new fe}de.Ia="serverreachability";function wa(c){D.call(this,de.Ia,c)}T(wa,D);function ii(c){const p=sr();ee(p,new wa(p))}de.STAT_EVENT="statevent";function ar(c,p){D.call(this,de.STAT_EVENT,c),this.stat=p}T(ar,D);function Ot(c){const p=sr();ee(p,new ar(p,c))}de.Ja="timingevent";function me(c,p){D.call(this,de.Ja,c),this.size=p}T(me,D);function ge(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function De(){this.g=!0}De.prototype.ua=function(){this.g=!1};function hn(c,p,v,S,U,H){c.info(function(){if(c.g)if(H){var at="",Ct=H.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var Ae=Ct[Kt].split("=");if(Ae.length>1){const pe=Ae[0];Ae=Ae[1];const oi=pe.split("_");at=oi.length>=2&&oi[1]=="type"?at+(pe+"="+Ae+"&"):at+(pe+"=redacted&")}}}else at=null;else at=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+at})}function Ye(c,p,v,S,U,H,at){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+H+" "+at})}function be(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Se(c,v)+(S?" "+S:"")})}function Cn(c,p){c.info(function(){return"TIMEOUT: "+p})}De.prototype.info=function(){};function Se(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let at=1;at<S.length;at++)S[at]=""}}}}return vn(H)}catch{return p}}var fn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},En;function qn(){}T(qn,jn),qn.prototype.g=function(){return new XMLHttpRequest},En=new qn;function Tn(c){return encodeURIComponent(String(c))}function Hn(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function tn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Ne={},Ke={};function xi(c,p,v){c.M=1,c.A=zs(xe(p)),c.u=v,c.R=!0,Ra(c,null)}function Ra(c,p){c.F=Date.now(),Mi(c),c.B=xe(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Na(v.i,"t",S),c.C=0,v=c.j.L,c.h=new bn,c.g=Gu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new Qe(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(ks[0]=U.toString()),U=ks);for(let H=0;H<U.length;H++){const at=Ft(v,U[H],S||p.handleEvent,!1,p.h||p);if(!at)break;p.g[at.key]=at}p=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ii(),hn(c.i,c.v,c.B,c.l,c.S,c.u)}tn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Ei(c)==3?p.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Ei(this.g),Ae=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ct!=4||Ae==7||(Ae==8||Kt<=0?ii(3):ii(2)),Vi(this);var p=this.g.ca();this.X=p;var v=yf(this);if(this.o=p==200,Ye(this.i,this.v,this.B,this.l,this.S,Ct,p),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var H=S;break e}}H=null}if(c=H)be(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,c);else{this.o=!1,this.m=3,Ot(12),Fn(this),ri(this);break t}}if(this.R){c=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=xu(this,v),pe==Ke){Ct==4&&(this.m=4,Ot(14),c=!1),be(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Ne){this.m=4,Ot(15),be(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else be(this.i,this.l,pe,null),Li(this,pe);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ot(16),c=!1),this.o=this.o&&c,!c)be(this.i,this.l,v,"[Invalid Chunked Response]"),Fn(this),ri(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),nl(at),at.P=!0,Ot(11))}}else be(this.i,this.l,v,null),Li(this,v);Ct==4&&Fn(this),this.o&&!this.K&&(Ct==4?Bu(this.j,this):(this.o=!1,Mi(this)))}else lr(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Fn(this),ri(this)}}}catch{}finally{}};function yf(c){if(!Ou(c))return c.g.la();const p=en(c.g);if(p==="")return"";let v="";const S=p.length,U=Ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Fn(c),ri(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<S;H++)c.h.h=!0,v+=c.h.i.decode(p[H],{stream:!(U&&H==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function xu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Ke:(v=Number(p.substring(v,S)),isNaN(v)?Ne:(S+=1,S+v>p.length?Ke:(p=p.slice(S,S+v),c.C=S+v,p)))}tn.prototype.cancel=function(){this.K=!0,Fn(this)};function Mi(c){c.T=Date.now()+c.H,Ca(c,c.H)}function Ca(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ge(y(c.aa,c),p)}function Vi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}tn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cn(this.i,this.B),this.M!=2&&(ii(),Ot(17)),Fn(this),this.m=2,ri(this)):Ca(this,this.T-c)};function ri(c){c.j.I==0||c.K||Bu(c.j,c)}function Fn(c){Vi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,ni(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Li(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||Ui(v.h,c))){if(!c.L&&Ui(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)La(v),Fr(v);else break t;Qs(v),Ot(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ge(y(v.Va,v),6e3));ki(v.h)<=1&&v.ta&&(v.ta=void 0)}else Hi(v,11)}else if((c.L||v.g==c)&&La(v),!I(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Kt=U[p];const pe=Kt[0];if(!(pe<=v.K))if(v.K=pe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const oi=Kt[3];oi!=null&&(v.ka=oi,v.j.info("VER="+v.ka));const Fi=Kt[4];Fi!=null&&(v.za=Fi,v.j.info("SVER="+v.za));const Ti=Kt[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(S=1.5*Ti,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const bi=c.g;if(bi){const Ys=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var H=S.h;H.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Fo(H,H.h),H.h=null))}if(S.G){const ka=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(S.wa=ka,Jt(S.J,S.G,ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var at=c;if(S.na=Fu(S,S.L?S.ba:null,S.W),at.L){Go(S.h,at);var Ct=at,Ae=S.O;Ae&&(Ct.H=Ae),Ct.D&&(Vi(Ct),Mi(Ct)),S.g=at}else zu(S);v.i.length>0&&qi(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Hi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Hi(v,7):tl(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}ii(4)}catch{}}var Oe=class{constructor(c,p){this.g=c,this.map=p}};function qo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ki(c){return c.h?1:c.g?c.g.size:0}function Ui(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Fo(c,p){c.g?c.g.add(p):c.h=p}function Go(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}qo.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return V(c.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,H=null;S>=0?(U=c[v].substring(0,S),H=c[v].substring(S+1)):U=c[v],p(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Gn?(this.l=c.l,Xe(this,c.j),this.o=c.o,this.g=c.g,Ur(this,c.u),this.h=c.h,Yo(this,Uu(c.i)),this.m=c.m):c&&(p=String(c).match(Mu))?(this.l=!1,Xe(this,p[1]||"",!0),this.o=Pi(p[2]||""),this.g=Pi(p[3]||"",!0),Ur(this,p[4]),this.h=Pi(p[5]||"",!0),Yo(this,p[6]||"",!0),this.m=Pi(p[7]||"")):(this.l=!1,this.i=new zr(null,this.l))}Gn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(js(p,Da,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(js(p,Da,!0),"@"),c.push(Tn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(js(v,v.charAt(0)=="/"?Ko:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",js(v,Lu)),c.join("")},Gn.prototype.resolve=function(c){const p=xe(this);let v=!!c.j;v?Xe(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)Ur(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let at=0;at<U.length;){const Ct=U[at++];Ct=="."?S&&at==U.length&&H.push(""):Ct==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&at==U.length&&H.push("")):(H.push(Ct),S=!0)}S=H.join("/")}else S=U}return v?p.h=S:v=c.i.toString()!=="",v?Yo(p,Uu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function xe(c){return new Gn(c)}function Xe(c,p,v){c.j=v?Pi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ur(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Yo(c,p,v){p instanceof zr?(c.i=p,Oa(c.i,c.l)):(v||(p=js(p,Pr)),c.i=new zr(p,c.l))}function Jt(c,p,v){c.i.set(p,v)}function zs(c){return Jt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Pi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function js(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,In),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function In(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Da=/[#\/\?@]/g,Vu=/[#\?:]/g,Ko=/[#\?]/g,Pr=/[#\?@]/g,Lu=/#/g;function zr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ia(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=zr.prototype,r.add=function(c,p){Dn(this),this.i=null,c=jr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function ku(c,p){Dn(c),p=jr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Xo(c,p){return Dn(c),p=jr(c,p),c.g.has(p)}r.forEach=function(c,p){Dn(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(p,U,S,this)},this)},this)};function $o(c,p){Dn(c);let v=[];if(typeof p=="string")Xo(c,p)&&(v=v.concat(c.g.get(jr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return Dn(this),this.i=null,c=jr(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=$o(this,c),c.length>0?String(c[0]):p):p};function Na(c,p,v){ku(c,p),v.length>0&&(c.i=null,c.g.set(jr(c,p),V(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=Tn(v);v=$o(this,v);for(let H=0;H<v.length;H++){let at=U;v[H]!==""&&(at+="="+Tn(v[H])),c.push(at)}}return this.i=c.join("&")};function Uu(c){const p=new zr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function jr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Oa(c,p){p&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(ku(this,S),Na(this,U,v))},c)),c.j=p}function _i(c,p){const v=new De;if(f.Image){const S=new Image;S.onload=E(si,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(si,v,"TestLoadImage: error",!1,p,S),S.onabort=E(si,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(si,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Jo(c,p){const v=new De,S=new AbortController,U=setTimeout(()=>{S.abort(),si(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?si(v,"TestPingServer: ok",!0,p):si(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),si(v,"TestPingServer: error",!1,p)})}function si(c,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Br(){this.g=new Us}function zi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(zi,jn),zi.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(c,p){fe.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Bs,fe),r=Bs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,vi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?qr(this):vi(this),this.readyState==3&&xa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,qr(this))},r.Na=function(c){this.g&&(this.response=c,qr(this))},r.ga=function(){this.g&&qr(this)};function qr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,vi(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ai(c){let p="";return Rt(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function qs(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=ai(v),typeof c=="string"?v!=null&&Tn(v):Jt(c,p,v))}function ne(c){fe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ne,fe);var ji=/^https?$/i,Zo=["POST","PUT"];r=ne.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():En.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){Hs(this,H);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Zo,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,at]of v)this.g.setRequestHeader(H,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Hs(this,H)}};function Hs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Wo(c),or(c)}function Wo(c){c.A||(c.A=!0,ee(c,"complete"),ee(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ee(this,"complete"),ee(this,"abort"),or(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),ne.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},r.Xa=function(){Fs(this)};function Fs(c){if(c.h&&typeof u<"u"){if(c.v&&Ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(ee(c,"readystatechange"),Ei(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=H===0){let at=String(c.D).match(Mu)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),S=!ji.test(at?at.toLowerCase():"")}v=S}if(v)ee(c,"complete"),ee(c,"success");else{c.o=6;try{var U=Ei(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Wo(c)}}finally{or(c)}}}}function or(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||ee(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ei(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),rr(p)}};function en(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lr(c){const p={};c=(c.g&&Ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Hn(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[U]||[];p[U]=H,H.push(v)}Bt(p,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Hr(c){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,c),this.Za=Bi("retryDelaySeedMs",1e4,c),this.Ta=Bi("forwardChannelMaxRetries",2,c),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new Br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Hr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,S){Ot(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Fu(this,null,this.W),qi(this)};function tl(c){if(Ma(c),c.I==3){var p=c.V++,v=xe(c.J);if(Jt(v,"SID",c.M),Jt(v,"RID",p),Jt(v,"TYPE","terminate"),Gs(c,v),p=new tn(c,c.j,p),p.M=2,p.A=zs(xe(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Gu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Mi(p)}Hu(c)}function Fr(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function Ma(c){Fr(c),c.v&&(f.clearTimeout(c.v),c.v=null),La(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function qi(c){if(!Ho(c.h)&&!c.m){c.m=!0;var p=c.Ea;ft||A(),ot||(ft(),ot=!0),R.add(p,c),c.D=0}}function Va(c,p){return ki(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ge(y(c.Ea,c,p),qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new tn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=x(H),st(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Pu(this,U,p),v=xe(this.J),Jt(v,"RID",c),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Gs(this,v),H&&(this.R?p="headers="+Tn(ai(H))+"&"+p:this.u&&qs(v,this.u,H)),Fo(this.h,U),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",p),Jt(v,"SID","null"),U.U=!0,xi(U,v,null)):xi(U,v,p),this.I=2}}else this.I==3&&(c?el(this,c):this.i.length==0||Ho(this.h)||el(this))};function el(c,p){var v;p?v=p.l:v=c.V++;const S=xe(c.J);Jt(S,"SID",c.M),Jt(S,"RID",v),Jt(S,"AID",c.K),Gs(c,S),c.u&&c.o&&qs(S,c.u,c.o),v=new tn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Pu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Fo(c.h,v),xi(v,S,p)}function Gs(c,p){c.H&&Rt(c.H,function(v,S){Jt(p,S,v)}),c.l&&Rt({},function(v,S){Jt(p,S,v)})}function Pu(c,p,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let Ct=-1;for(;;){const Ae=["count="+v];Ct==-1?v>0?(Ct=U[0].g,Ae.push("ofs="+Ct)):Ct=0:Ae.push("ofs="+Ct);let Kt=!0;for(let pe=0;pe<v;pe++){var H=U[pe].g;const oi=U[pe].map;if(H-=Ct,H<0)Ct=Math.max(0,U[pe].g-100),Kt=!1;else try{H="req"+H+"_"||"";try{var at=oi instanceof Map?oi:Object.entries(oi);for(const[Fi,Ti]of at){let bi=Ti;m(Ti)&&(bi=vn(Ti)),Ae.push(H+Fi+"="+encodeURIComponent(bi))}}catch(Fi){throw Ae.push(H+"type="+encodeURIComponent("_badmap")),Fi}}catch{S&&S(oi)}}if(Kt){at=Ae.join("&");break t}}at=void 0}return c=c.i.splice(0,v),p.G=c,at}function zu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ft||A(),ot||(ft(),ot=!0),R.add(p,c),c.A=0}}function Qs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ge(y(c.Da,c),qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ge(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Fr(this),ju(this))};function nl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ju(c){c.g=new tn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=xe(c.na);Jt(p,"RID","rpc"),Jt(p,"SID",c.M),Jt(p,"AID",c.K),Jt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Jt(p,"TO",c.ia),Jt(p,"TYPE","xmlhttp"),Gs(c,p),c.u&&c.o&&qs(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=zs(xe(p)),v.u=null,v.R=!0,Ra(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Fr(this),Qs(this),Ot(19))};function La(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,p){var v=null;if(c.g==p){La(c),nl(c),c.g=null;var S=2}else if(Ui(c.h,p))v=p.G,Go(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;S=sr(),ee(S,new me(S,v)),qi(c)}else zu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&Va(c,p)||S==2&&Qs(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:Hi(c,5);break;case 4:Hi(c,10);break;case 3:Hi(c,6);break;default:Hi(c,2)}}}function qu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Hi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),S=c.Ua;const U=!S;S=new Gn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xe(S,"https"),zs(S),U?_i(S.toString(),v):Jo(S.toString(),v)}else Ot(2);c.I=0,c.l&&c.l.pa(p),Hu(c),Ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const p=Qo(c.h);(p.length!=0||c.i.length!=0)&&(K(c.ja,p),K(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function Fu(c,p,v){var S=v instanceof Gn?xe(v):new Gn(v);if(S.g!="")p&&(S.g=p+"."+S.g),Ur(S,S.u);else{var U=f.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const H=new Gn(null);S&&Xe(H,S),p&&(H.g=p),U&&Ur(H,U),v&&(H.h=v),S=H}return v=c.G,p=c.wa,v&&p&&Jt(S,v,p),Jt(S,"VER",c.ka),Gs(c,S),S}function Gu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new ne(new zi({ab:v})):new ne(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Gr(){}Gr.prototype.g=function(c,p){return new Sn(c,p)};function Sn(c,p){fe.call(this),this.g=new Hr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ur(this)}T(Sn,fe),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){tl(this.g)},Sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vn(c),c=v);p.i.push(new Oe(p.Ya++,c)),p.I==3&&qi(p)},Sn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Sn.Z.N.call(this)};function Yu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(Yu,qe);function Ku(){cn.call(this),this.status=1}T(Ku,cn);function ur(c){this.g=c}T(ur,Qu),ur.prototype.ra=function(){ee(this.g,"a")},ur.prototype.qa=function(c){ee(this.g,new Yu(c))},ur.prototype.pa=function(c){ee(this.g,new Ku)},ur.prototype.oa=function(){ee(this.g,"b")},Gr.prototype.createWebChannel=Gr.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,DT=function(){return new Gr},IT=function(){return sr()},CT=de,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,ch=fn,dn.COMPLETE="complete",RT=dn,Ps.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",fe.prototype.listen=fe.prototype.J,Bl=Ps,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,wT=ne}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const y0="@firebase/firestore",_0="4.9.2";class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Vo="12.3.0";const va=new dg("@firebase/firestore");function fo(){return va.logLevel}function ht(r,...t){if(va.logLevel<=Ut.DEBUG){const n=t.map(Rg);va.debug(`Firestore (${Vo}): ${r}`,...n)}}function Or(r,...t){if(va.logLevel<=Ut.ERROR){const n=t.map(Rg);va.error(`Firestore (${Vo}): ${r}`,...n)}}function wo(r,...t){if(va.logLevel<=Ut.WARN){const n=t.map(Rg);va.warn(`Firestore (${Vo}): ${r}`,...n)}}function Rg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Tt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,NT(r,s,n)}function NT(r,t,n){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Or(s),new Error(s)}function $t(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||NT(t,o,s)}function wt(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Mr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ma{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class OT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class aI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oI{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ma,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ma)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new OT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class lI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new lI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class v0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new v0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new v0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Cg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Pt(r,t){return r<t?-1:r>t?1:0}function Hm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Am(o)===Am(u)?Pt(o,u):Am(o)?1:-1}return Pt(r.length,t.length)}const fI=55296,dI=57343;function Am(r){const t=r.charCodeAt(0);return t>=fI&&t<=dI}function Ro(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const E0="__name__";class Xi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Xi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const s=Xi.isNumericId(t),o=Xi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Xi.extractNumericId(t).compare(Xi.extractNumericId(n)):Hm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ss.fromString(t.substring(4,t.length-2))}}class oe extends Xi{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const mI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Xi{construct(t,n,s){return new ln(t,n,s)}static isValidIdentifier(t){return mI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E0}static keyField(){return new ln([E0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(n)}static emptyPath(){return new ln([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(oe.fromString(t))}static fromName(t){return new yt(oe.fromString(t).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new oe(t.slice()))}}function xT(r,t,n){if(!n)throw new ct(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function gI(r,t,n,s){if(t===!0&&s===!0)throw new ct(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function T0(r){if(!yt.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b0(r){if(yt.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function MT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Ir(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(r);throw new ct(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function ze(r,t){const n={typeString:r};return t&&(n.value=t),n}function vu(r,t){if(!MT(r))throw new ct(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(W.INVALID_ARGUMENT,n);return!0}const S0=-62135596800,A0=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*A0);return new he(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<S0)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vu(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-S0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:ze("string",he._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const su=-1;function pI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new he(n+1,0):new he(n,s));return new ws(o,yt.empty(),t)}function yI(r){return new ws(r.readTime,r.key,su)}class ws{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ws(St.min(),yt.empty(),su)}static max(){return new ws(St.max(),yt.empty(),su)}}function _I(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}const vI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Lo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==vI)throw r;ht("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.reject(n)}static resolve(t){return new tt(((n,s)=>{n(t)}))}static reject(t){return new tt(((n,s)=>{s(t)}))}static waitFor(t){return new tt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next((o=>o?tt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new tt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new tt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function TI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(r){return r.name==="IndexedDbTransactionError"}class Kh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Kh.ce=-1;const Ig=-1;function Xh(r){return r==null}function wh(r){return r===0&&1/r==-1/0}function bI(r){return typeof r=="number"&&Number.isInteger(r)&&!wh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const VT="";function SI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=w0(t)),t=AI(r.get(n),t);return w0(t)}function AI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case VT:n+="";break;default:n+=u}}return n}function w0(r){return r+VT+""}function R0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function xs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function LT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ve{constructor(t,n){this.comparator=t,this.root=n||on.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new th(this.root,t,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new th(this.root,t,this.comparator,!0)}}class th{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new on(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new on(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(t){return new C0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class C0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Wn([])}unionWith(t){let n=new Ge(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ro(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kT("Invalid base64 string: "+u):u}})(t);return new un(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new un(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const wI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(r){if($t(!!r,39018),typeof r=="string"){let t=0;const n=wI.exec(r);if($t(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ce(r.seconds),nanos:Ce(r.nanos)}}function Ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Cs(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const UT="server_timestamp",PT="__type__",zT="__previous_value__",jT="__local_write_time__";function Dg(r){return(r?.mapValue?.fields||{})[PT]?.stringValue===UT}function $h(r){const t=r.mapValue.fields[zT];return Dg(t)?$h(t):t}function au(r){const t=Rs(r.mapValue.fields[jT].timestampValue);return new he(t.seconds,t.nanos)}class RI{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Rh="(default)";class ou{constructor(t,n){this.projectId=t,this.database=n||Rh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(t){return t instanceof ou&&t.projectId===this.projectId&&t.database===this.database}}const BT="__type__",CI="__max__",eh={mapValue:{}},qT="__vector__",Ch="value";function Is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dg(r)?4:DI(r)?9007199254740991:II(r)?10:11:Tt(28295,{value:r})}function nr(r,t){if(r===t)return!0;const n=Is(r);if(n!==Is(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return au(r).isEqual(au(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Rs(o.timestampValue),m=Rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Cs(o.bytesValue).isEqual(Cs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ce(o.geoPointValue.latitude)===Ce(u.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ce(o.integerValue)===Ce(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ce(o.doubleValue),m=Ce(u.doubleValue);return f===m?wh(f)===wh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Ro(r.arrayValue.values||[],t.arrayValue.values||[],nr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(R0(f)!==R0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!nr(f[g],m[g])))return!1;return!0})(r,t);default:return Tt(52216,{left:r})}}function lu(r,t){return(r.values||[]).find((n=>nr(n,t)))!==void 0}function Co(r,t){if(r===t)return 0;const n=Is(r),s=Is(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ce(u.integerValue||u.doubleValue),g=Ce(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return I0(r.timestampValue,t.timestampValue);case 4:return I0(au(r),au(t));case 5:return Hm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Cs(u),g=Cs(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Pt(m[y],g[y]);if(E!==0)return E}return Pt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Pt(Ce(u.latitude),Ce(f.latitude));return m!==0?m:Pt(Ce(u.longitude),Ce(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return D0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Ch]?.arrayValue,E=g[Ch]?.arrayValue,T=Pt(y?.values?.length||0,E?.values?.length||0);return T!==0?T:D0(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const w=Hm(g[T],E[T]);if(w!==0)return w;const V=Co(m[g[T]],y[E[T]]);if(V!==0)return V}return Pt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function I0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=Rs(r),s=Rs(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function D0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function Io(r){return Fm(r)}function Fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Cs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return yt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"})(r.mapValue):Tt(61005,{value:r})}function hh(r){switch(Is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$h(r);return t?16+hh(t):16;case 5:return 2*r.stringValue.length;case 6:return Cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+hh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return xs(s.fields,((u,f)=>{o+=u.length+hh(f)})),o})(r.mapValue);default:throw Tt(13486,{value:r})}}function N0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Gm(r){return!!r&&"integerValue"in r}function Ng(r){return!!r&&"arrayValue"in r}function O0(r){return!!r&&"nullValue"in r}function x0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function II(r){return(r?.mapValue?.fields||{})[BT]?.stringValue===qT}function Kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return xs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Kl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kl(r.arrayValue.values[n]);return t}return{...r}}function DI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===CI}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!fh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kl(n)}setAll(t){let n=ln.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Kl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return nr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){xs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new kn(Kl(this.value))}}function HT(r){const t=[];return xs(r.fields,((n,s)=>{const o=new ln([n]);if(fh(s)){const u=HT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Wn(t)}class yn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new yn(t,0,St.min(),St.min(),St.min(),kn.empty(),0)}static newFoundDocument(t,n,s,o){return new yn(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new yn(t,2,n,St.min(),St.min(),kn.empty(),0)}static newUnknownDocument(t,n){return new yn(t,3,n,St.min(),St.min(),kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ih{constructor(t,n){this.position=t,this.inclusive=n}}function M0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=Co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function V0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!nr(r.position[n],t.position[n]))return!1;return!0}class Dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function NI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class FT{}class Pe extends FT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new xI(t,n,s):n==="array-contains"?new LI(t,s):n==="in"?new kI(t,s):n==="not-in"?new UI(t,s):n==="array-contains-any"?new PI(t,s):new Pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new MI(t,s):new VI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends FT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Di(t,n)}matches(t){return GT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GT(r){return r.op==="and"}function QT(r){return OI(r)&&GT(r)}function OI(r){for(const t of r.filters)if(t instanceof Di)return!1;return!0}function Qm(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+Io(r.value);if(QT(r))return r.filters.map((t=>Qm(t))).join(",");{const t=r.filters.map((n=>Qm(n))).join(",");return`${r.op}(${t})`}}function YT(r,t){return r instanceof Pe?(function(s,o){return o instanceof Pe&&s.op===o.op&&s.field.isEqual(o.field)&&nr(s.value,o.value)})(r,t):r instanceof Di?(function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&YT(f,o.filters[m])),!0):!1})(r,t):void Tt(19439)}function KT(r){return r instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(r):r instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"})(r):"Filter"}class xI extends Pe{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class MI extends Pe{constructor(t,n){super(t,"in",n),this.keys=XT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class VI extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=XT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function XT(r,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class LI extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ng(n)&&lu(n.arrayValue,this.value)}}class kI extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class UI extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class PI extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>lu(this.value.arrayValue,s)))}}class zI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function L0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new zI(r,t,n,s,o,u,f)}function Og(r){const t=wt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Qm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Xh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Io(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Io(s))).join(",")),t.Te=n}return t.Te}function xg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!NI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!YT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!V0(r.startAt,t.startAt)&&V0(r.endAt,t.endAt)}function Ym(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jI(r,t,n,s,o,u,f,m){return new Eu(r,t,n,s,o,u,f,m)}function Mg(r){return new Eu(r)}function k0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $T(r){return r.collectionGroup!==null}function Xl(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ge(ln.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Dh(u,s))})),n.has(ln.keyField().canonicalString())||t.Ie.push(new Dh(ln.keyField(),s))}return t.Ie}function Ji(r){const t=wt(r);return t.Ee||(t.Ee=BI(t,Xl(r))),t.Ee}function BI(r,t){if(r.limitType==="F")return L0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Dh(o.field,u)}));const n=r.endAt?new Ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ih(r.startAt.position,r.startAt.inclusive):null;return L0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Km(r,t){const n=r.filters.concat([t]);return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Xm(r,t,n){return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Jh(r,t){return xg(Ji(r),Ji(t))&&r.limitType===t.limitType}function JT(r){return`${Og(Ji(r))}|lt:${r.limitType}`}function mo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>KT(o))).join(", ")}]`),Xh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(Ji(r))}; limitType=${r.limitType})`}function Zh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=M0(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Xl(s),o)||s.endAt&&!(function(f,m,g){const y=M0(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Xl(s),o))})(r,t)}function qI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZT(r){return(t,n)=>{let s=!1;for(const o of Xl(r)){const u=HI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function HI(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Co(g,y):Tt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}class ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){xs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return LT(this.inner)}size(){return this.innerSize}}const FI=new ve(yt.comparator);function xr(){return FI}const WT=new ve(yt.comparator);function ql(...r){let t=WT;for(const n of r)t=t.insert(n.key,n);return t}function tb(r){let t=WT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function fa(){return $l()}function eb(){return $l()}function $l(){return new ba((r=>r.toString()),((r,t)=>r.isEqual(t)))}const GI=new ve(yt.comparator),QI=new Ge(yt.comparator);function zt(...r){let t=QI;for(const n of r)t=t.add(n);return t}const YI=new Ge(Pt);function KI(){return YI}function Vg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function nb(r){return{integerValue:""+r}}function XI(r,t){return bI(t)?nb(t):Vg(r,t)}class Wh{constructor(){this._=void 0}}function $I(r,t,n){return r instanceof Nh?(function(o,u){const f={fields:{[PT]:{stringValue:UT},[jT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dg(u)&&(u=$h(u)),u&&(f.fields[zT]=u),{mapValue:f}})(n,t):r instanceof uu?rb(r,t):r instanceof cu?sb(r,t):(function(o,u){const f=ib(o,u),m=U0(f)+U0(o.Ae);return Gm(f)&&Gm(o.Ae)?nb(m):Vg(o.serializer,m)})(r,t)}function JI(r,t,n){return r instanceof uu?rb(r,t):r instanceof cu?sb(r,t):n}function ib(r,t){return r instanceof Oh?(function(s){return Gm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Nh extends Wh{}class uu extends Wh{constructor(t){super(),this.elements=t}}function rb(r,t){const n=ab(t);for(const s of r.elements)n.some((o=>nr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class cu extends Wh{constructor(t){super(),this.elements=t}}function sb(r,t){let n=ab(t);for(const s of r.elements)n=n.filter((o=>!nr(o,s)));return{arrayValue:{values:n}}}class Oh extends Wh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function U0(r){return Ce(r.integerValue||r.doubleValue)}function ab(r){return Ng(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ZI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof uu&&o instanceof uu||s instanceof cu&&o instanceof cu?Ro(s.elements,o.elements,nr):s instanceof Oh&&o instanceof Oh?nr(s.Ae,o.Ae):s instanceof Nh&&o instanceof Nh})(r.transform,t.transform)}class WI{constructor(t,n){this.version=t,this.transformResults=n}}class Un{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Un}static exists(t){return new Un(void 0,t)}static updateTime(t){return new Un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class tf{}function ob(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new ef(r.key,Un.none()):new Tu(r.key,r.data,Un.none());{const n=r.data,s=kn.empty();let o=new Ge(ln.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ms(r.key,s,new Wn(o.toArray()),Un.none())}}function t2(r,t,n){r instanceof Tu?(function(o,u,f){const m=o.value.clone(),g=z0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Ms?(function(o,u,f){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=z0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(lb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Jl(r,t,n,s){return r instanceof Tu?(function(u,f,m,g){if(!dh(u.precondition,f))return m;const y=u.value.clone(),E=j0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Ms?(function(u,f,m,g){if(!dh(u.precondition,f))return m;const y=j0(u.fieldTransforms,g,f),E=f.data;return E.setAll(lb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function e2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=ib(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function P0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((u,f)=>ZI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Tu extends tf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends tf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lb(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function z0(r,t,n){const s=new Map;$t(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,JI(f,m,n[o]))}return s}function j0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,$I(u,f,t))}return s}class ef extends tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n2 extends tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class i2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&t2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=eb();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=ob(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Ro(this.mutations,t.mutations,((n,s)=>P0(n,s)))&&Ro(this.baseMutations,t.baseMutations,((n,s)=>P0(n,s)))}}class Lg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return GI})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Lg(t,n,s,o)}}class r2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class s2{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ue,Gt;function a2(r){switch(r){case W.OK:return Tt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function ub(r){if(r===void 0)return Or("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ue.OK:return W.OK;case Ue.CANCELLED:return W.CANCELLED;case Ue.UNKNOWN:return W.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return W.INTERNAL;case Ue.UNAVAILABLE:return W.UNAVAILABLE;case Ue.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ue.NOT_FOUND:return W.NOT_FOUND;case Ue.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ue.ABORTED:return W.ABORTED;case Ue.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ue.DATA_LOSS:return W.DATA_LOSS;default:return Tt(39323,{code:r})}}(Gt=Ue||(Ue={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function o2(){return new TextEncoder}const l2=new Ss([4294967295,4294967295],0);function B0(r){const t=o2().encode(r),n=new AT;return n.update(t),new Uint8Array(n.digest())}function q0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ss([n,s],0),new Ss([o,u],0)]}class kg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ss.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Ss.fromNumber(s)));return o.compare(l2)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=B0(t),[s,o]=q0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new kg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=B0(t),[s,o]=q0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,bu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new nf(St.min(),o,new ve(Pt),xr(),zt())}}class bu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new bu(s,n,zt(),zt(),zt())}}class mh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class cb{constructor(t,n){this.targetId=t,this.Ce=n}}class hb{constructor(t,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class H0{constructor(){this.ve=0,this.Fe=F0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}})),new bu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=F0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class u2{constructor(t){this.Ge=t,this.ze=new Map,this.je=xr(),this.Je=nh(),this.He=nh(),this.Ye=new ve(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Ym(u))if(s===0){const f=new yt(u.path);this.et(n,f,yn.newNoDocument(f,St.min()))}else $t(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Cs(s).toUint8Array()}catch(g){if(g instanceof kT)return wo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new kg(f,o,u)}catch(g){return wo(g instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Ym(m.target)){const g=new yt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,yn.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=zt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new nf(t,n,this.Ye,this.je,s);return this.je=xr(),this.Je=nh(),this.He=nh(),this.Ye=new ve(Pt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new H0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ge(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ge(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new H0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function nh(){return new ve(yt.comparator)}function F0(){return new ve(yt.comparator)}const c2={asc:"ASCENDING",desc:"DESCENDING"},h2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f2={and:"AND",or:"OR"};class d2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function $m(r,t){return r.useProto3Json||Xh(t)?t:{value:t}}function xh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function m2(r,t){return xh(r,t.toTimestamp())}function Zi(r){return $t(!!r,49232),St.fromTimestamp((function(n){const s=Rs(n);return new he(s.seconds,s.nanos)})(r))}function Ug(r,t){return Jm(r,t).canonicalString()}function Jm(r,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function db(r){const t=oe.fromString(r);return $t(_b(t),10190,{key:t.toString()}),t}function Zm(r,t){return Ug(r.databaseId,t.path)}function wm(r,t){const n=db(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(gb(n))}function mb(r,t){return Ug(r.databaseId,t)}function g2(r){const t=db(r);return t.length===4?oe.emptyPath():gb(t)}function Wm(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gb(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function G0(r,t,n){return{name:Zm(r,t),fields:n.value.mapValue.fields}}function p2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?($t(E===void 0||typeof E=="string",58123),un.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),un.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:ub(y.code);return new ct(E,y.message||"")})(f);n=new hb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(r,s.document.name),u=Zi(s.document.updateTime),f=s.document.createTime?Zi(s.document.createTime):St.min(),m=new kn({mapValue:{fields:s.document.fields}}),g=yn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new mh(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=wm(r,s.document),u=s.readTime?Zi(s.readTime):St.min(),f=yn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new mh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=wm(r,s.document),u=s.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new s2(o,u),m=s.targetId;n=new cb(m,f)}}return n}function y2(r,t){let n;if(t instanceof Tu)n={update:G0(r,t.key,t.value)};else if(t instanceof ef)n={delete:Zm(r,t.key)};else if(t instanceof Ms)n={update:G0(r,t.key,t.data),updateMask:R2(t.fieldMask)};else{if(!(t instanceof n2))return Tt(16599,{Vt:t.type});n={verify:Zm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:m2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(r,t.precondition)),n}function _2(r,t){return r&&r.length>0?($t(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Zi(o.updateTime):Zi(u);return f.isEqual(St.min())&&(f=Zi(u)),new WI(f,o.transformResults||[])})(n,t)))):[]}function v2(r,t){return{documents:[mb(r,t.path)]}}function E2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mb(r,o);const u=(function(y){if(y.length!==0)return yb(Di.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:go(w.field),direction:S2(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=$m(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function T2(r){let t=g2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=pb(T);return w instanceof Di&&QT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(K){return new Dh(po(K.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Xh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(T){const w=!!T.before,V=T.values||[];return new Ih(V,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,V=T.values||[];return new Ih(V,w)})(n.endAt)),jI(t,o,f,u,m,"F",g,y)}function b2(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function pb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=po(n.unaryFilter.field);return Pe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pe.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((s=>pb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(r):Tt(30097,{filter:r})}function S2(r){return c2[r]}function A2(r){return h2[r]}function w2(r){return f2[r]}function go(r){return{fieldPath:r.canonicalString()}}function po(r){return ln.fromServerFormat(r.fieldPath)}function yb(r){return r instanceof Pe?(function(n){if(n.op==="=="){if(x0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(O0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(O0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:A2(n.op),value:n.value}}})(r):r instanceof Di?(function(n){const s=n.getFilters().map((o=>yb(o)));return s.length===1?s[0]:{compositeFilter:{op:w2(n.op),filters:s}}})(r):Tt(54877,{filter:r})}function R2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function _b(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class vs{constructor(t,n,s,o,u=St.min(),f=St.min(),m=un.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new vs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class C2{constructor(t){this.yt=t}}function I2(r){const t=T2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xm(t,t.limit,"L"):t}class D2{constructor(){this.Cn=new N2}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(ws.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(ws.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class N2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ge(oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ge(oe.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vb=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(vb,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Do{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}const Y0="LruGarbageCollector",O2=1048576;function K0([r,t],[n,s]){const o=Pt(r,n);return o===0?Pt(t,s):o}class x2{constructor(t){this.Ir=t,this.buffer=new Ge(K0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();K0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(Y0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?ht(Y0,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Vr(3e5)}))}}class V2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Kh.ce);const s=new x2(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(Q0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),fo()<=Ut.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function L2(r,t){return new V2(r,t)}class k2{constructor(){this.changes=new ba((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class U2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class P2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Jl(s.mutation,o,Wn.empty(),he.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const o=fa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=ql();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=fa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=xr();const f=$l(),m=(function(){return $l()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ms)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Jl(E.mutation,y,E.mutation.getFieldMask(),he.now())):f.set(y.key,Wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new U2(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=$l();let o=new ve(((f,m)=>f-m)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Wn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const T=(o.get(m.batchId)||zt()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,T=eb();E.forEach((w=>{if(!u.has(w)){const V=ob(n.get(w),s.get(w));V!==null&&T.set(w,V),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,T))}return tt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$T(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(fa());let m=su,g=u;return f.next((y=>tt.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,zt()))).next((E=>({batchId:m,changes:tb(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(t,u).next((m=>tt.forEach(m,(g=>{const y=(function(T,w){return new Eu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,yn.newInvalidDocument(E)))}));let m=ql();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Jl(E.mutation,y,Wn.empty(),he.now()),Zh(n,y)&&(m=m.insert(g,y))})),m}))}}class z2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return tt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Zi(o.createTime)}})(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:I2(o.bundledQuery),readTime:Zi(o.readTime)}})(n)),tt.resolve()}}class j2{constructor(){this.overlays=new ve(yt.comparator),this.qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=fa();return tt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=fa(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ve(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=fa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=fa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return tt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new r2(n,s));let u=this.qr.get(n);u===void 0&&(u=zt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class B2{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}class Pg{constructor(){this.Qr=new Ge(Je.$r),this.Ur=new Ge(Je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Je(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Je(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new oe([])),s=new Je(n,t),o=new Je(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new oe([])),s=new Je(n,t),o=new Je(n,t+1);let u=zt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Je(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Je{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class q2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Je.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new i2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Ig:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Je(n,0),o=new Je(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ge(Pt);return n.forEach((o=>{const u=new Je(o,0),f=new Je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Je(new yt(u),0);let m=new Ge(Pt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),tt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(n.mutations,(o=>{const u=new Je(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Je(n,0),o=this.Zr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class H2{constructor(t){this.ri=t,this.docs=(function(){return new ve(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(t,n){let s=xr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=xr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||_I(yI(E),s)<=0||(o.has(E.key)||Zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}ii(t,n){return tt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new F2(this)}getSize(t){return tt.resolve(this.size)}}class F2 extends k2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),tt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class G2{constructor(t){this.persistence=t,this.si=new ba((n=>Og(n)),xg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Pg,this.targetCount=0,this.ai=Do.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),tt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Pr(n),tt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this._i.containsKey(n))}}class Eb{constructor(t,n){this.ui={},this.overlays={},this.ci=new Kh(0),this.li=!1,this.li=!0,this.hi=new B2,this.referenceDelegate=t(this),this.Pi=new G2(this),this.indexManager=new D2,this.remoteDocumentCache=(function(o){return new H2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new C2(n),this.Ii=new z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new j2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new q2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new Q2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return tt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class Q2 extends EI{constructor(t){super(),this.currentSequenceNumber=t}}class zg{constructor(t){this.persistence=t,this.Ri=new Pg,this.Vi=null}static mi(t){return new zg(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return tt.or([()=>tt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Mh{constructor(t,n){this.persistence=t,this.pi=new ba((s=>SI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=L2(this,n)}static mi(t,n){return new Mh(t,n)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return tt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?tt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=hh(t.data.value)),n}br(t,n,s){return tt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=zt(),o=zt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jg(t,n.fromCache,s,o)}}class Y2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class K2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return P1()?8:TI(_n())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Y2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(fo()<=Ut.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(fo()<=Ut.DEBUG&&ht("QueryEngine","Query:",mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(fo()<=Ut.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ji(n))):tt.resolve())}ys(t,n){if(k0(n))return tt.resolve(null);let s=Ji(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),s=Ji(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=zt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Xm(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return k0(n)||o.isEqual(St.min())?tt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?tt.resolve(null):(fo()<=Ut.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.vs(t,f,n,pI(o,su)).next((m=>m)))}))}Ds(t,n){let s=new Ge(ZT(t));return n.forEach(((o,u)=>{Zh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return fo()<=Ut.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",mo(n)),this.ps.getDocumentsMatchingQuery(t,n,ws.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Bg="LocalStore",X2=3e8;class $2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ve(Pt),this.xs=new ba((u=>Og(u)),xg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new P2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function J2(r,t,n,s){return new $2(r,t,n,s)}async function Tb(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=zt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function Z2(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const T=y.batch,w=T.keys();let V=tt.resolve();return w.forEach((K=>{V=V.next((()=>E.getEntry(g,K))).next((q=>{const G=y.docVersions.get(K);$t(G!==null,48541),q.version.compareTo(G)<0&&(T.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=zt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function bb(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function W2(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let V=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?V=V.withResumeToken(un.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function(q,G,it){return q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=X2?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(w,V,E)&&m.push(n.Pi.updateTargetData(u,V))}));let g=xr(),y=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(tD(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(St.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return tt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function tD(r,t,n){let s=zt(),o=zt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=xr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ht(Bg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function eD(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Ig),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function nD(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,tt.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new vs(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function tg(r,t,n){const s=wt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!ko(f))throw f;ht(Bg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function X0(r,t,n){const s=wt(r);let o=St.min(),u=zt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const T=wt(g),w=T.xs.get(E);return w!==void 0?tt.resolve(T.Ms.get(w)):T.Pi.getTargetData(y,E)})(s,f,Ji(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:zt()))).next((m=>(iD(s,qI(t),m),{documents:m,Qs:u})))))}function iD(r,t,n){let s=r.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class $0{constructor(){this.activeTargetIds=KI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rD{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class sD{Oo(t){}shutdown(){}}const J0="ConnectivityMonitor";class Z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(J0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(J0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function eg(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const Rm="RestConnection",aD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=eg(),m=this.zo(t,n.toUriEncodedString());ht(Rm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=Oo(y);return this.Jo(t,m,g,s,E).then((T=>(ht(Rm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw wo(Rm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=aD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class lD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const gn="WebChannelConnection";class uD extends oD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=eg();return new Promise(((m,g)=>{const y=new wT;y.setWithCredentials(!0),y.listenOnce(RT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ch.NO_ERROR:const T=y.getResponseJson();ht(gn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case ch.TIMEOUT:ht(gn,`RPC '${t}' ${f} timed out`),g(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const w=y.getStatus();if(ht(gn,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const K=V?.error;if(K&&K.status&&K.message){const q=(function(it){const et=it.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(et)>=0?et:W.UNKNOWN})(K.status);g(new ct(q,K.message))}else g(new ct(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct(W.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(gn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ht(gn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=eg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=DT(),m=IT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ht(gn,`Creating RPC '${t}' stream ${o}: ${E}`,g);const T=f.createWebChannel(E,g);this.I_(T);let w=!1,V=!1;const K=new lD({Yo:G=>{V?ht(gn,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(w||(ht(gn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),ht(gn,`RPC '${t}' stream ${o} sending:`,G),T.send(G))},Zo:()=>T.close()}),q=(G,it,et)=>{G.listen(it,(nt=>{try{et(nt)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return q(T,Bl.EventType.OPEN,(()=>{V||(ht(gn,`RPC '${t}' stream ${o} transport opened.`),K.o_())})),q(T,Bl.EventType.CLOSE,(()=>{V||(V=!0,ht(gn,`RPC '${t}' stream ${o} transport closed`),K.a_(),this.E_(T))})),q(T,Bl.EventType.ERROR,(G=>{V||(V=!0,wo(gn,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),K.a_(new ct(W.UNAVAILABLE,"The operation could not be completed")))})),q(T,Bl.EventType.MESSAGE,(G=>{if(!V){const it=G.data[0];$t(!!it,16349);const et=it,nt=et?.error||et[0]?.error;if(nt){ht(gn,`RPC '${t}' stream ${o} received error:`,nt);const ut=nt.status;let ft=(function(A){const C=Ue[A];if(C!==void 0)return ub(C)})(ut),ot=nt.message;ft===void 0&&(ft=W.INTERNAL,ot="Unknown error status: "+ut+" with message "+nt.message),V=!0,K.a_(new ct(ft,ot)),T.close()}else ht(gn,`RPC '${t}' stream ${o} received:`,it),K.u_(it)}})),q(m,CT.STAT_EVENT,(G=>{G.stat===qm.PROXY?ht(gn,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===qm.NOPROXY&&ht(gn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Cm(){return typeof document<"u"?document:null}function rf(r){return new d2(r,!0)}class Sb{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class Ab{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ct(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(W0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cD extends Ab{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=p2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Zi(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Ym(g)?{documents:v2(u,g)}:{query:E2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=fb(u,f.resumeToken);const y=$m(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=xh(u,f.snapshotVersion.toTimestamp());const y=$m(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=b2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Wm(this.serializer),n.removeTarget=t,this.q_(n)}}class hD extends Ab{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=_2(t.writeResults,t.commitTime),s=Zi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Wm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>y2(this.serializer,s)))};this.q_(n)}}class fD{}class dD extends fD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Jm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(W.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Jm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class gD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Sa(this)&&(ht(Ea,"Restarting streams for network reachability change."),await(async function(g){const y=wt(g);y.Ea.add(4),await Su(y),y.Ra.set("Unknown"),y.Ea.delete(4),await sf(y)})(this))}))})),this.Ra=new mD(s,o)}}async function sf(r){if(Sa(r))for(const t of r.da)await t(!0)}async function Su(r){for(const t of r.da)await t(!1)}function wb(r,t){const n=wt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Gg(n)?Fg(n):Uo(n).O_()&&Hg(n,t))}function qg(r,t){const n=wt(r),s=Uo(n);n.Ia.delete(t),s.O_()&&Rb(n,t),n.Ia.size===0&&(s.O_()?s.L_():Sa(n)&&n.Ra.set("Unknown"))}function Hg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Uo(r).Y_(t)}function Rb(r,t){r.Va.Ue(t),Uo(r).Z_(t)}function Fg(r){r.Va=new u2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Ra.ua()}function Gg(r){return Sa(r)&&!Uo(r).x_()&&r.Ia.size>0}function Sa(r){return wt(r).Ea.size===0}function Cb(r){r.Va=void 0}async function pD(r){r.Ra.set("Online")}async function yD(r){r.Ia.forEach(((t,n)=>{Hg(r,t)}))}async function _D(r,t){Cb(r),Gg(r)?(r.Ra.ha(t),Fg(r)):r.Ra.set("Unknown")}async function vD(r,t,n){if(r.Ra.set("Online"),t instanceof hb&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ht(Ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Vh(r,s)}else if(t instanceof mh?r.Va.Ze(t):t instanceof cb?r.Va.st(t):r.Va.tt(t),!n.isEqual(St.min()))try{const s=await bb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),Rb(u,g);const T=new vs(E.target,g,y,E.sequenceNumber);Hg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ht(Ea,"Failed to raise snapshot:",s),await Vh(r,s)}}async function Vh(r,t,n){if(!ko(t))throw t;r.Ea.add(1),await Su(r),r.Ra.set("Offline"),n||(n=()=>bb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(Ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await sf(r)}))}function Ib(r,t){return t().catch((n=>Vh(r,n,t)))}async function af(r){const t=wt(r),n=Ds(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ig;for(;ED(t);)try{const o=await eD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,TD(t,o)}catch(o){await Vh(t,o)}Db(t)&&Nb(t)}function ED(r){return Sa(r)&&r.Ta.length<10}function TD(r,t){r.Ta.push(t);const n=Ds(r);n.O_()&&n.X_&&n.ea(t.mutations)}function Db(r){return Sa(r)&&!Ds(r).x_()&&r.Ta.length>0}function Nb(r){Ds(r).start()}async function bD(r){Ds(r).ra()}async function SD(r){const t=Ds(r);for(const n of r.Ta)t.ea(n.mutations)}async function AD(r,t,n){const s=r.Ta.shift(),o=Lg.from(s,t,n);await Ib(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await af(r)}async function wD(r,t){t&&Ds(r).X_&&await(async function(s,o){if((function(f){return a2(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();Ds(s).B_(),await Ib(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await af(s)}})(r,t),Db(r)&&Nb(r)}async function tE(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ht(Ea,"RemoteStore received new credentials");const s=Sa(n);n.Ea.add(3),await Su(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await sf(n)}async function RD(r,t){const n=wt(r);t?(n.Ea.delete(2),await sf(n)):t||(n.Ea.add(2),await Su(n),n.Ra.set("Unknown"))}function Uo(r){return r.ma||(r.ma=(function(n,s,o){const u=wt(n);return u.sa(),new cD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:pD.bind(null,r),t_:yD.bind(null,r),r_:_D.bind(null,r),H_:vD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Gg(r)?Fg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Cb(r))}))),r.ma}function Ds(r){return r.fa||(r.fa=(function(n,s,o){const u=wt(n);return u.sa(),new hD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:bD.bind(null,r),r_:wD.bind(null,r),ta:SD.bind(null,r),na:AD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await af(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(Ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Qg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(r,t){if(Or("AsyncQueue",`${t}: ${r}`),ko(r))return new ct(W.UNAVAILABLE,`${t}: ${r}`);throw r}class Eo{static emptySet(t){return new Eo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class eE{constructor(){this.ga=new ve(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class No{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new No(t,n,Eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class CD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ID{constructor(){this.queries=nE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=nE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function nE(){return new ba((r=>JT(r)),Jh)}async function DD(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new CD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Yg(f,`Initialization of query '${mo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Kg(n)}async function ND(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function OD(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Kg(n)}function xD(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Kg(r){r.Ca.forEach((t=>{t.next()}))}var ng,iE;(iE=ng||(ng={})).Ma="default",iE.Cache="cache";class MD{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new No(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=No.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ng.Cache}}class Ob{constructor(t){this.key=t}}class xb{constructor(t){this.key=t}}class VD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=ZT(t),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new eE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const w=o.get(E),V=Zh(this.query,T)?T:null,K=!!w&&this.mutatedKeys.has(w.key),q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let G=!1;w&&V?w.data.isEqual(V.data)?K!==q&&(s.track({type:3,doc:V}),G=!0):this.su(w,V)||(s.track({type:2,doc:V}),G=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(m=!0)):!w&&V?(s.track({type:0,doc:V}),G=!0):w&&!V&&(s.track({type:1,doc:w}),G=!0,(g||y)&&(m=!0)),G&&(V?(f=f.add(V),u=q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,T)=>(function(V,K){const q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:G})}};return q(V)-q(K)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new No(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new xb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Ob(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xg="SyncEngine";class LD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class kD{constructor(t){this.key=t,this.hu=!1}}class UD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ba((m=>JT(m)),Jh),this.Iu=new Map,this.Eu=new Set,this.du=new ve(yt.comparator),this.Au=new Map,this.Ru=new Pg,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PD(r,t,n=!0){const s=Pb(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Mb(s,t,n,!0),o}async function zD(r,t){const n=Pb(r);await Mb(n,t,!0,!1)}async function Mb(r,t,n,s){const o=await nD(r.localStore,Ji(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await jD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&wb(r.remoteStore,o),m}async function jD(r,t,n,s,o){r.pu=(T,w,V)=>(async function(q,G,it,et){let nt=G.view.ru(it);nt.Cs&&(nt=await X0(q.localStore,G.query,!1).then((({documents:R})=>G.view.ru(R,nt))));const ut=et&&et.targetChanges.get(G.targetId),ft=et&&et.targetMismatches.get(G.targetId)!=null,ot=G.view.applyChanges(nt,q.isPrimaryClient,ut,ft);return sE(q,G.targetId,ot.au),ot.snapshot})(r,T,w,V);const u=await X0(r.localStore,t,!0),f=new VD(t,u.Qs),m=f.ru(u.documents),g=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);sE(r,n,y.au);const E=new LD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function BD(r,t,n){const s=wt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Jh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&qg(s.remoteStore,o.targetId),ig(s,o.targetId)})).catch(Lo)):(ig(s,o.targetId),await tg(s.localStore,o.targetId,!0))}async function qD(r,t){const n=wt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qg(n.remoteStore,s.targetId))}async function HD(r,t,n){const s=$D(r);try{const o=await(function(f,m){const g=wt(f),y=he.now(),E=m.reduce(((V,K)=>V.add(K.key)),zt());let T,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let K=xr(),q=zt();return g.Ns.getEntries(V,E).next((G=>{K=G,K.forEach(((it,et)=>{et.isValidDocument()||(q=q.add(it))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,K))).next((G=>{T=G;const it=[];for(const et of m){const nt=e2(et,T.get(et.key).overlayedDocument);nt!=null&&it.push(new Ms(et.key,nt,HT(nt.value.mapValue),Un.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,it,m)})).next((G=>{w=G;const it=G.applyToLocalDocumentSet(T,q);return g.documentOverlayCache.saveOverlays(V,G.batchId,it)}))})).then((()=>({batchId:w.batchId,changes:tb(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ve(Pt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Au(s,o.changes),await af(s.remoteStore)}catch(o){const u=Yg(o,"Failed to persist write");n.reject(u)}}async function Vb(r,t){const n=wt(r);try{const s=await W2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?$t(f.hu,14607):o.removedDocuments.size>0&&($t(f.hu,42227),f.hu=!1))})),await Au(n,s,t)}catch(s){await Lo(s)}}function rE(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=wt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(y=!0)})),y&&Kg(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function FD(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ve(yt.comparator);f=f.insert(u,yn.newNoDocument(u,St.min()));const m=zt().add(u),g=new nf(St.min(),new Map,new ve(Pt),f,m);await Vb(s,g),s.du=s.du.remove(u),s.Au.delete(t),$g(s)}else await tg(s.localStore,t,!1).then((()=>ig(s,t,n))).catch(Lo)}async function GD(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await Z2(n.localStore,t);kb(n,s,null),Lb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await Lo(o)}}async function QD(r,t,n){const s=wt(r);try{const o=await(function(f,m){const g=wt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>($t(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);kb(s,t,n),Lb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Au(s,o)}catch(o){await Lo(o)}}function Lb(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function kb(r,t,n){const s=wt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function ig(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||Ub(r,s)}))}function Ub(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(qg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),$g(r))}function sE(r,t,n){for(const s of n)s instanceof Ob?(r.Ru.addReference(s.key,t),YD(r,s)):s instanceof xb?(ht(Xg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||Ub(r,s.key)):Tt(19791,{wu:s})}function YD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ht(Xg,"New document in limbo: "+n),r.Eu.add(s),$g(r))}function $g(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new yt(oe.fromString(t)),s=r.fu.next();r.Au.set(s,new kD(n)),r.du=r.du.insert(n,s),wb(r.remoteStore,new vs(Ji(Mg(n.path)),s,"TargetPurposeLimboResolution",Kh.ce))}}async function Au(r,t,n){const s=wt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=jg.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=wt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>tt.forEach(y,(w=>tt.forEach(w.Es,(V=>E.persistence.referenceDelegate.addReference(T,w.targetId,V))).next((()=>tt.forEach(w.ds,(V=>E.persistence.referenceDelegate.removeReference(T,w.targetId,V)))))))))}catch(T){if(!ko(T))throw T;ht(Bg,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const V=E.Ms.get(w),K=V.snapshotVersion,q=V.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(w,q)}}})(s.localStore,u))}async function KD(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ht(Xg,"User change. New user:",t.toKey());const s=await Tb(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ct(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Ls)}}function XD(r,t){const n=wt(r),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let o=zt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Pb(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FD.bind(null,t),t.Pu.H_=OD.bind(null,t.eventManager),t.Pu.yu=xD.bind(null,t.eventManager),t}function $D(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QD.bind(null,t),t}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return J2(this.persistence,new K2,t.initialUser,this.serializer)}Cu(t){return new Eb(zg.mi,this.serializer)}Du(t){return new rD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class JD extends Lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){$t(this.persistence.referenceDelegate instanceof Mh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new M2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new Eb((s=>Mh.mi(s,n)),this.serializer)}}class rg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KD.bind(null,this.syncEngine),await RD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ID})()}createDatastore(t){const n=rf(t.databaseInfo.databaseId),s=(function(u){return new uD(u)})(t.databaseInfo);return(function(u,f,m,g){return new dD(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new gD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>rE(this.syncEngine,n,0)),(function(){return Z0.v()?new Z0:new sD})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const T=new UD(o,u,f,m,g,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ht(Ea,"RemoteStore shutting down."),s.Ea.add(5),await Su(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};class ZD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Or("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ns="FirestoreClient";class WD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(Ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(Ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Yg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Im(r,t){r.asyncQueue.verifyOperationInProgress(),ht(Ns,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Tb(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function aE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await tN(r);ht(Ns,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>tE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>tE(t.remoteStore,o))),r._onlineComponents=t}async function tN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(Ns,"Using user provided OfflineComponentProvider");try{await Im(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Im(r,new Lh)}}else ht(Ns,"Using default OfflineComponentProvider"),await Im(r,new JD(void 0));return r._offlineComponents}async function zb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(Ns,"Using user provided OnlineComponentProvider"),await aE(r,r._uninitializedComponentsProvider._online)):(ht(Ns,"Using default OnlineComponentProvider"),await aE(r,new rg))),r._onlineComponents}function eN(r){return zb(r).then((t=>t.syncEngine))}async function oE(r){const t=await zb(r),n=t.eventManager;return n.onListen=PD.bind(null,t.syncEngine),n.onUnlisten=BD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=qD.bind(null,t.syncEngine),n}function jb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const lE=new Map;const Bb="firestore.googleapis.com",uE=!0;class cE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bb,this.ssl=uE}else this.host=t.host,this.ssl=t.ssl??uE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<O2)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class of{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sI;switch(s.type){case"firstParty":return new uI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=lE.get(n);s&&(ht("ComponentProvider","Removing Datastore"),lE.delete(n),s.terminate())})(this),Promise.resolve()}}function nN(r,t,n,s={}){r=Ir(r,of);const o=Oo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(jE(`https://${m}`),BE("Firestore",!0)),u.host!==Bb&&u.host!==m&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!pa(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=pn.MOCK_USER;else{y=D1(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new pn(T)}r._authCredentials=new aI(new OT(y,E))}}class Po{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Po(this.firestore,t,this._query)}}class je{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(vu(n,je._jsonSchema))return new je(t,s||null,new yt(oe.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:ze("string",je._jsonSchemaVersion),referencePath:ze("string")};class As extends Po{constructor(t,n,s){super(t,n,Mg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new yt(t))}withConverter(t){return new As(this.firestore,t,this._path)}}function sg(r,t,...n){if(r=Be(r),xT("collection","path",t),r instanceof of){const s=oe.fromString(t,...n);return b0(s),new As(r,null,s)}{if(!(r instanceof je||r instanceof As))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return b0(s),new As(r.firestore,null,s)}}function Zl(r,t,...n){if(r=Be(r),arguments.length===1&&(t=Cg.newId()),xT("doc","path",t),r instanceof of){const s=oe.fromString(t,...n);return T0(s),new je(r,null,new yt(s))}{if(!(r instanceof je||r instanceof As))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return T0(s),new je(r.firestore,r instanceof As?r.converter:null,new yt(s))}}const hE="AsyncQueue";class fE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sb(this,"async_queue_retry"),this._c=()=>{const s=Cm();s&&ht(hE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ko(t))throw t;ht(hE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",dE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Qg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:dE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function dE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function mE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ta extends of{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new fE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fE(t),this._firestoreClient=void 0,await t}}}function iN(r,t){const n=typeof r=="object"?r:GE(),s=typeof r=="string"?r:Rh,o=gg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=C1("firestore");u&&nN(o,...u)}return o}function Jg(r){if(r._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||rN(r),r._firestoreClient}function rN(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new RI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,jb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new WD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yi(un.fromBase64String(t))}catch(n){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new yi(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vu(t,yi._jsonSchema))return yi.fromBase64String(t.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:ze("string",yi._jsonSchemaVersion),bytes:ze("string")};class wu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zg{constructor(t){this._methodName=t}}class Wi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(t){if(vu(t,Wi._jsonSchema))return new Wi(t.latitude,t.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:ze("string",Wi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class tr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vu(t,tr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new tr(t.vectorValues);throw new ct(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tr._jsonSchemaVersion="firestore/vectorValue/1.0",tr._jsonSchema={type:ze("string",tr._jsonSchemaVersion),vectorValues:ze("object")};const sN=/^__.*__$/;class aN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ms(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(t,this.data,n,this.fieldTransforms)}}class qb{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Ms(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class Wg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return kh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Hb(this.Ac)&&sN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class oN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||rf(t)}Cc(t,n,s,o=!1){return new Wg({Ac:t,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lf(r){const t=r._freezeSettings(),n=rf(r._databaseId);return new oN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function Fb(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);tp("Data must be an object, but it was:",f,s);const m=Yb(s,f);let g,y;if(u.merge)g=new Wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=ag(t,T,n);if(!f.contains(w))throw new ct(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Xb(E,w)||E.push(w)}g=new Wn(E),y=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=f.fieldTransforms;return new aN(new kn(m),g,y)}class uf extends Zg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof uf}}function Gb(r,t,n,s){const o=r.Cc(1,t,n);tp("Data must be an object, but it was:",o,s);const u=[],f=kn.empty();xs(s,((g,y)=>{const E=ep(t,g,n);y=Be(y);const T=o.yc(E);if(y instanceof uf)u.push(E);else{const w=Ru(y,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Wn(u);return new qb(f,m,o.fieldTransforms)}function Qb(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[ag(t,s,n)],g=[o];if(u.length%2!=0)throw new ct(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ag(t,u[w])),g.push(u[w+1]);const y=[],E=kn.empty();for(let w=m.length-1;w>=0;--w)if(!Xb(y,m[w])){const V=m[w];let K=g[w];K=Be(K);const q=f.yc(V);if(K instanceof uf)y.push(V);else{const G=Ru(K,q);G!=null&&(y.push(V),E.set(V,G))}}const T=new Wn(y);return new qb(E,T,f.fieldTransforms)}function lN(r,t,n,s=!1){return Ru(n,r.Cc(s?4:3,t))}function Ru(r,t){if(Kb(r=Be(r)))return tp("Unsupported field value:",t,r),Yb(r,t);if(r instanceof Zg)return(function(s,o){if(!Hb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Ru(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=he.fromDate(s);return{timestampValue:xh(o.serializer,u)}}if(s instanceof he){const u=new he(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xh(o.serializer,u)}}if(s instanceof Wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yi)return{bytesValue:fb(o.serializer,s._byteString)};if(s instanceof je){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ug(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof tr)return(function(f,m){return{mapValue:{fields:{[BT]:{stringValue:qT},[Ch]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Vg(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Yh(s)}`)})(r,t)}function Yb(r,t){const n={};return LT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xs(r,((s,o)=>{const u=Ru(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Kb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof Wi||r instanceof yi||r instanceof je||r instanceof Zg||r instanceof tr)}function tp(r,t,n){if(!Kb(n)||!MT(n)){const s=Yh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function ag(r,t,n){if((t=Be(t))instanceof wu)return t._internalPath;if(typeof t=="string")return ep(r,t);throw kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const uN=new RegExp("[~\\*/\\[\\]]");function ep(r,t,n){if(t.search(uN)>=0)throw kh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new wu(...t.split("."))._internalPath}catch{throw kh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function kh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ct(W.INVALID_ARGUMENT,m+r+g)}function Xb(r,t){return r.some((n=>n.isEqual(t)))}class $b{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cN extends $b{data(){return super.data()}}function Jb(r,t){return typeof t=="string"?ep(r,t):t instanceof wu?t._internalPath:t._delegate._internalPath}function hN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class np{}class fN extends np{}function dN(r,t,...n){let s=[];t instanceof np&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof rp)).length,m=u.filter((g=>g instanceof ip)).length;if(f>1||f>0&&m>0)throw new ct(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ip extends fN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ip(t,n,s)}_apply(t){const n=this._parse(t);return Zb(t._query,n),new Po(t.firestore,t.converter,Km(t._query,n))}_parse(t){const n=lf(t.firestore);return(function(u,f,m,g,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){pE(T,E);const K=[];for(const q of T)K.push(gE(g,u,q));w={arrayValue:{values:K}}}else w=gE(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||pE(T,E),w=lN(m,f,T,E==="in"||E==="not-in");return Pe.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class rp extends np{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new rp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)Zb(f,g),f=Km(f,g)})(t._query,n),new Po(t.firestore,t.converter,Km(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gE(r,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new ct(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$T(t)&&n.indexOf("/")!==-1)throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(oe.fromString(n));if(!yt.isDocumentKey(s))throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return N0(r,new yt(s))}if(n instanceof je)return N0(r,n._key);throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function pE(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Zb(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class mN{convertValue(t,n="none"){switch(Is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return xs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Ch].arrayValue?.values?.map((s=>Ce(s.doubleValue)));return new tr(n)}convertGeoPoint(t){return new Wi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=$h(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(au(t));default:return null}}convertTimestamp(t){const n=Rs(t);return new he(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);$t(_b(s),9688,{name:t});const o=new ou(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||Or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Wb(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Fl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ga extends $b{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Jb("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:ze("string",ga._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class gh extends ga{data(t={}){return super.data(t)}}class To{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:gN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=To._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:ze("string",To._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class tS extends mN{constructor(t){super(),this.firestore=t}convertBytes(t){return new yi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function yE(r,t,n,...s){r=Ir(r,je);const o=Ir(r.firestore,Ta),u=lf(o);let f;return f=typeof(t=Be(t))=="string"||t instanceof wu?Qb(u,"updateDoc",r._key,t,n,s):Gb(u,"updateDoc",r._key,t),cf(o,[f.toMutation(r._key,Un.exists(!0))])}function pN(r){return cf(Ir(r.firestore,Ta),[new ef(r._key,Un.none())])}function yN(r,t){const n=Ir(r.firestore,Ta),s=Zl(r),o=Wb(r.converter,t);return cf(n,[Fb(lf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then((()=>s))}function _N(r,...t){r=Be(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||mE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(mE(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof je)f=Ir(r.firestore,Ta),m=Mg(r._key.path),u={next:g=>{t[s]&&t[s](vN(f,r,g))},error:t[s+1],complete:t[s+2]};else{const g=Ir(r,Po);f=Ir(g.firestore,Ta),m=g._query;const y=new tS(f);u={next:E=>{t[s]&&t[s](new To(f,y,g,E))},error:t[s+1],complete:t[s+2]},hN(r._query)}return(function(y,E,T,w){const V=new ZD(w),K=new MD(E,V,T);return y.asyncQueue.enqueueAndForget((async()=>DD(await oE(y),K))),()=>{V.Nu(),y.asyncQueue.enqueueAndForget((async()=>ND(await oE(y),K)))}})(Jg(f),m,o,u)}function cf(r,t){return(function(s,o){const u=new ma;return s.asyncQueue.enqueueAndForget((async()=>HD(await eN(s),o,u))),u.promise})(Jg(r),t)}function vN(r,t,n){const s=n.docs.get(t._key),o=new tS(r);return new ga(r,o,t._key,s,new Fl(n.hasPendingWrites,n.fromCache),t.converter)}class EN{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lf(t)}set(t,n,s){this._verifyNotCommitted();const o=Dm(t,this._firestore),u=Wb(o.converter,n,s),f=Fb(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Un.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=Dm(t,this._firestore);let f;return f=typeof(n=Be(n))=="string"||n instanceof wu?Qb(this._dataReader,"WriteBatch.update",u._key,n,s,o):Gb(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Un.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Dm(t,this._firestore);return this._mutations=this._mutations.concat(new ef(n._key,Un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dm(r,t){if((r=Be(r)).firestore!==t)throw new ct(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function TN(r){return Jg(r=Ir(r,Ta)),new EN(r,(t=>cf(r,t)))}(function(t,n=!0){(function(o){Vo=o})(xo),So(new ya("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ta(new oI(s.getProvider("auth-internal")),new cI(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),bs(y0,_0,t),bs(y0,_0,"esm2020")})();const bN={apiKey:"AIzaSyAx1NQceCmvJcLj8lLYEMfBh3WdkClEADE",authDomain:"story2scale-7e039.firebaseapp.com",projectId:"story2scale-7e039",storageBucket:"story2scale-7e039.firebasestorage.app",messagingSenderId:"116406874952",appId:"1:116406874952:web:027d12066dd3ee47c1f97d"},eS=FE(bN),ca=iN(eS),og=eI(eS);var Gl=ME();function SN(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return B.useMemo(()=>s=>{t.forEach(o=>o(s))},t)}const hf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zo(r){const t=Object.prototype.toString.call(r);return t==="[object Window]"||t==="[object global]"}function sp(r){return"nodeType"in r}function wn(r){var t,n;return r?zo(r)?r:sp(r)&&(t=(n=r.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ap(r){const{Document:t}=wn(r);return r instanceof t}function Cu(r){return zo(r)?!1:r instanceof wn(r).HTMLElement}function nS(r){return r instanceof wn(r).SVGElement}function jo(r){return r?zo(r)?r.document:sp(r)?ap(r)?r:Cu(r)||nS(r)?r.ownerDocument:document:document:document}const Ni=hf?B.useLayoutEffect:B.useEffect;function ff(r){const t=B.useRef(r);return Ni(()=>{t.current=r}),B.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t.current==null?void 0:t.current(...s)},[])}function AN(){const r=B.useRef(null),t=B.useCallback((s,o)=>{r.current=setInterval(s,o)},[]),n=B.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[t,n]}function hu(r,t){t===void 0&&(t=[r]);const n=B.useRef(r);return Ni(()=>{n.current!==r&&(n.current=r)},t),n}function Iu(r,t){const n=B.useRef();return B.useMemo(()=>{const s=r(n.current);return n.current=s,s},[...t])}function Uh(r){const t=ff(r),n=B.useRef(null),s=B.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,s]}function Ph(r){const t=B.useRef();return B.useEffect(()=>{t.current=r},[r]),t.current}let Nm={};function Du(r,t){return B.useMemo(()=>{if(t)return t;const n=Nm[r]==null?0:Nm[r]+1;return Nm[r]=n,r+"-"+n},[r,t])}function iS(r){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,f)=>{const m=Object.entries(f);for(const[g,y]of m){const E=u[g];E!=null&&(u[g]=E+r*y)}return u},{...t})}}const bo=iS(1),fu=iS(-1);function wN(r){return"clientX"in r&&"clientY"in r}function df(r){if(!r)return!1;const{KeyboardEvent:t}=wn(r.target);return t&&r instanceof t}function RN(r){if(!r)return!1;const{TouchEvent:t}=wn(r.target);return t&&r instanceof t}function zh(r){if(RN(r)){if(r.touches&&r.touches.length){const{clientX:t,clientY:n}=r.touches[0];return{x:t,y:n}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:t,clientY:n}=r.changedTouches[0];return{x:t,y:n}}}return wN(r)?{x:r.clientX,y:r.clientY}:null}const Os=Object.freeze({Translate:{toString(r){if(!r)return;const{x:t,y:n}=r;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:t,scaleY:n}=r;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(r){if(r)return[Os.Translate.toString(r),Os.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:t,duration:n,easing:s}=r;return t+" "+n+"ms "+s}}}),_E="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function CN(r){return r.matches(_E)?r:r.querySelector(_E)}const IN={display:"none"};function DN(r){let{id:t,value:n}=r;return _e.createElement("div",{id:t,style:IN},n)}function NN(r){let{id:t,announcement:n,ariaLiveType:s="assertive"}=r;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _e.createElement("div",{id:t,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function ON(){const[r,t]=B.useState("");return{announce:B.useCallback(s=>{s!=null&&t(s)},[]),announcement:r}}const rS=B.createContext(null);function xN(r){const t=B.useContext(rS);B.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(r)},[r,t])}function MN(){const[r]=B.useState(()=>new Set),t=B.useCallback(s=>(r.add(s),()=>r.delete(s)),[r]);return[B.useCallback(s=>{let{type:o,event:u}=s;r.forEach(f=>{var m;return(m=f[o])==null?void 0:m.call(f,u)})},[r]),t]}const VN={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},LN={onDragStart(r){let{active:t}=r;return"Picked up draggable item "+t.id+"."},onDragOver(r){let{active:t,over:n}=r;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(r){let{active:t,over:n}=r;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(r){let{active:t}=r;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function kN(r){let{announcements:t=LN,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=VN}=r;const{announce:u,announcement:f}=ON(),m=Du("DndLiveRegion"),[g,y]=B.useState(!1);if(B.useEffect(()=>{y(!0)},[]),xN(B.useMemo(()=>({onDragStart(T){let{active:w}=T;u(t.onDragStart({active:w}))},onDragMove(T){let{active:w,over:V}=T;t.onDragMove&&u(t.onDragMove({active:w,over:V}))},onDragOver(T){let{active:w,over:V}=T;u(t.onDragOver({active:w,over:V}))},onDragEnd(T){let{active:w,over:V}=T;u(t.onDragEnd({active:w,over:V}))},onDragCancel(T){let{active:w,over:V}=T;u(t.onDragCancel({active:w,over:V}))}}),[u,t])),!g)return null;const E=_e.createElement(_e.Fragment,null,_e.createElement(DN,{id:s,value:o.draggable}),_e.createElement(NN,{id:m,announcement:f}));return n?Gl.createPortal(E,n):E}var Fe;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Fe||(Fe={}));function jh(){}function vE(r,t){return B.useMemo(()=>({sensor:r,options:t??{}}),[r,t])}function UN(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return B.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Oi=Object.freeze({x:0,y:0});function PN(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function zN(r,t){const n=zh(r);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function jN(r,t){let{data:{value:n}}=r,{data:{value:s}}=t;return n-s}function BN(r,t){let{data:{value:n}}=r,{data:{value:s}}=t;return s-n}function EE(r){let{left:t,top:n,height:s,width:o}=r;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+s},{x:t+o,y:n+s}]}function sS(r,t){if(!r||r.length===0)return null;const[n]=r;return n[t]}const aS=r=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=r;const o=EE(t),u=[];for(const f of s){const{id:m}=f,g=n.get(m);if(g){const y=EE(g),E=o.reduce((w,V,K)=>w+PN(y[K],V),0),T=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:f,value:T}})}}return u.sort(jN)};function qN(r,t){const n=Math.max(t.top,r.top),s=Math.max(t.left,r.left),o=Math.min(t.left+t.width,r.left+r.width),u=Math.min(t.top+t.height,r.top+r.height),f=o-s,m=u-n;if(s<o&&n<u){const g=t.width*t.height,y=r.width*r.height,E=f*m,T=E/(g+y-E);return Number(T.toFixed(4))}return 0}const HN=r=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=r;const o=[];for(const u of s){const{id:f}=u,m=n.get(f);if(m){const g=qN(m,t);g>0&&o.push({id:f,data:{droppableContainer:u,value:g}})}}return o.sort(BN)};function FN(r,t,n){return{...r,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function oS(r,t){return r&&t?{x:r.left-t.left,y:r.top-t.top}:Oi}function GN(r){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((f,m)=>({...f,top:f.top+r*m.y,bottom:f.bottom+r*m.y,left:f.left+r*m.x,right:f.right+r*m.x}),{...n})}}const QN=GN(1);function lS(r){if(r.startsWith("matrix3d(")){const t=r.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(r.startsWith("matrix(")){const t=r.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function YN(r,t,n){const s=lS(t);if(!s)return r;const{scaleX:o,scaleY:u,x:f,y:m}=s,g=r.left-f-(1-o)*parseFloat(n),y=r.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),E=o?r.width/o:r.width,T=u?r.height/u:r.height;return{width:E,height:T,top:y,right:g+E,bottom:y+T,left:g}}const KN={ignoreTransform:!1};function Bo(r,t){t===void 0&&(t=KN);let n=r.getBoundingClientRect();if(t.ignoreTransform){const{transform:y,transformOrigin:E}=wn(r).getComputedStyle(r);y&&(n=YN(n,y,E))}const{top:s,left:o,width:u,height:f,bottom:m,right:g}=n;return{top:s,left:o,width:u,height:f,bottom:m,right:g}}function TE(r){return Bo(r,{ignoreTransform:!0})}function XN(r){const t=r.innerWidth,n=r.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function $N(r,t){return t===void 0&&(t=wn(r).getComputedStyle(r)),t.position==="fixed"}function JN(r,t){t===void 0&&(t=wn(r).getComputedStyle(r));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=t[o];return typeof u=="string"?n.test(u):!1})}function mf(r,t){const n=[];function s(o){if(t!=null&&n.length>=t||!o)return n;if(ap(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Cu(o)||nS(o)||n.includes(o))return n;const u=wn(r).getComputedStyle(o);return o!==r&&JN(o,u)&&n.push(o),$N(o,u)?n:s(o.parentNode)}return r?s(r):n}function uS(r){const[t]=mf(r,1);return t??null}function Om(r){return!hf||!r?null:zo(r)?r:sp(r)?ap(r)||r===jo(r).scrollingElement?window:Cu(r)?r:null:null}function cS(r){return zo(r)?r.scrollX:r.scrollLeft}function hS(r){return zo(r)?r.scrollY:r.scrollTop}function lg(r){return{x:cS(r),y:hS(r)}}var Ze;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Ze||(Ze={}));function fS(r){return!hf||!r?!1:r===document.scrollingElement}function dS(r){const t={x:0,y:0},n=fS(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},s={x:r.scrollWidth-n.width,y:r.scrollHeight-n.height},o=r.scrollTop<=t.y,u=r.scrollLeft<=t.x,f=r.scrollTop>=s.y,m=r.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:f,isRight:m,maxScroll:s,minScroll:t}}const ZN={x:.2,y:.2};function WN(r,t,n,s,o){let{top:u,left:f,right:m,bottom:g}=n;s===void 0&&(s=10),o===void 0&&(o=ZN);const{isTop:y,isBottom:E,isLeft:T,isRight:w}=dS(r),V={x:0,y:0},K={x:0,y:0},q={height:t.height*o.y,width:t.width*o.x};return!y&&u<=t.top+q.height?(V.y=Ze.Backward,K.y=s*Math.abs((t.top+q.height-u)/q.height)):!E&&g>=t.bottom-q.height&&(V.y=Ze.Forward,K.y=s*Math.abs((t.bottom-q.height-g)/q.height)),!w&&m>=t.right-q.width?(V.x=Ze.Forward,K.x=s*Math.abs((t.right-q.width-m)/q.width)):!T&&f<=t.left+q.width&&(V.x=Ze.Backward,K.x=s*Math.abs((t.left+q.width-f)/q.width)),{direction:V,speed:K}}function tO(r){if(r===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:t,left:n,right:s,bottom:o}=r.getBoundingClientRect();return{top:t,left:n,right:s,bottom:o,width:r.clientWidth,height:r.clientHeight}}function mS(r){return r.reduce((t,n)=>bo(t,lg(n)),Oi)}function eO(r){return r.reduce((t,n)=>t+cS(n),0)}function nO(r){return r.reduce((t,n)=>t+hS(n),0)}function gS(r,t){if(t===void 0&&(t=Bo),!r)return;const{top:n,left:s,bottom:o,right:u}=t(r);uS(r)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const iO=[["x",["left","right"],eO],["y",["top","bottom"],nO]];class op{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=mf(n),o=mS(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,f,m]of iO)for(const g of f)Object.defineProperty(this,g,{get:()=>{const y=m(s),E=o[u]-y;return this.rect[g]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Wl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var o;(o=this.target)==null||o.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function rO(r){const{EventTarget:t}=wn(r);return r instanceof t?r:jo(r)}function xm(r,t){const n=Math.abs(r.x),s=Math.abs(r.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var pi;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(pi||(pi={}));function bE(r){r.preventDefault()}function sO(r){r.stopPropagation()}var Ht;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Ht||(Ht={}));const pS={start:[Ht.Space,Ht.Enter],cancel:[Ht.Esc],end:[Ht.Space,Ht.Enter,Ht.Tab]},aO=(r,t)=>{let{currentCoordinates:n}=t;switch(r.code){case Ht.Right:return{...n,x:n.x+25};case Ht.Left:return{...n,x:n.x-25};case Ht.Down:return{...n,y:n.y+25};case Ht.Up:return{...n,y:n.y-25}}};class lp{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Wl(jo(n)),this.windowListeners=new Wl(wn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&gS(s),n(Oi)}handleKeyDown(t){if(df(t)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=pS,coordinateGetter:f=aO,scrollBehavior:m="smooth"}=o,{code:g}=t;if(u.end.includes(g)){this.handleEnd(t);return}if(u.cancel.includes(g)){this.handleCancel(t);return}const{collisionRect:y}=s.current,E=y?{x:y.left,y:y.top}:Oi;this.referenceCoordinates||(this.referenceCoordinates=E);const T=f(t,{active:n,context:s.current,currentCoordinates:E});if(T){const w=fu(T,E),V={x:0,y:0},{scrollableAncestors:K}=s.current;for(const q of K){const G=t.code,{isTop:it,isRight:et,isLeft:nt,isBottom:ut,maxScroll:ft,minScroll:ot}=dS(q),R=tO(q),A={x:Math.min(G===Ht.Right?R.right-R.width/2:R.right,Math.max(G===Ht.Right?R.left:R.left+R.width/2,T.x)),y:Math.min(G===Ht.Down?R.bottom-R.height/2:R.bottom,Math.max(G===Ht.Down?R.top:R.top+R.height/2,T.y))},C=G===Ht.Right&&!et||G===Ht.Left&&!nt,O=G===Ht.Down&&!ut||G===Ht.Up&&!it;if(C&&A.x!==T.x){const D=q.scrollLeft+w.x,L=G===Ht.Right&&D<=ft.x||G===Ht.Left&&D>=ot.x;if(L&&!w.y){q.scrollTo({left:D,behavior:m});return}L?V.x=q.scrollLeft-D:V.x=G===Ht.Right?q.scrollLeft-ft.x:q.scrollLeft-ot.x,V.x&&q.scrollBy({left:-V.x,behavior:m});break}else if(O&&A.y!==T.y){const D=q.scrollTop+w.y,L=G===Ht.Down&&D<=ft.y||G===Ht.Up&&D>=ot.y;if(L&&!w.x){q.scrollTo({top:D,behavior:m});return}L?V.y=q.scrollTop-D:V.y=G===Ht.Down?q.scrollTop-ft.y:q.scrollTop-ot.y,V.y&&q.scrollBy({top:-V.y,behavior:m});break}}this.handleMove(t,bo(fu(T,this.referenceCoordinates),V))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}lp.activators=[{eventName:"onKeyDown",handler:(r,t,n)=>{let{keyboardCodes:s=pS,onActivation:o}=t,{active:u}=n;const{code:f}=r.nativeEvent;if(s.start.includes(f)){const m=u.activatorNode.current;return m&&r.target!==m?!1:(r.preventDefault(),o?.({event:r.nativeEvent}),!0)}return!1}}];function SE(r){return!!(r&&"distance"in r)}function AE(r){return!!(r&&"delay"in r)}class up{constructor(t,n,s){var o;s===void 0&&(s=rO(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:u}=t,{target:f}=u;this.props=t,this.events=n,this.document=jo(f),this.documentListeners=new Wl(this.document),this.listeners=new Wl(s),this.windowListeners=new Wl(wn(f)),this.initialCoordinates=(o=zh(u))!=null?o:Oi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.DragStart,bE),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),this.windowListeners.add(pi.ContextMenu,bE),this.documentListeners.add(pi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(AE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(SE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:o}=this.props;o(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(pi.Click,sO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pi.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!o)return;const g=(n=zh(t))!=null?n:Oi,y=fu(o,g);if(!s&&m){if(SE(m)){if(m.tolerance!=null&&xm(y,m.tolerance))return this.handleCancel();if(xm(y,m.distance))return this.handleStart()}if(AE(m)&&xm(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}t.cancelable&&t.preventDefault(),f(g)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ht.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const oO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class cp extends up{constructor(t){const{event:n}=t,s=jo(n.target);super(t,oO,s)}}cp.activators=[{eventName:"onPointerDown",handler:(r,t)=>{let{nativeEvent:n}=r,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const lO={move:{name:"mousemove"},end:{name:"mouseup"}};var ug;(function(r){r[r.RightClick=2]="RightClick"})(ug||(ug={}));class uO extends up{constructor(t){super(t,lO,jo(t.event.target))}}uO.activators=[{eventName:"onMouseDown",handler:(r,t)=>{let{nativeEvent:n}=r,{onActivation:s}=t;return n.button===ug.RightClick?!1:(s?.({event:n}),!0)}}];const Mm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class cO extends up{constructor(t){super(t,Mm)}static setup(){return window.addEventListener(Mm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Mm.move.name,t)};function t(){}}}cO.activators=[{eventName:"onTouchStart",handler:(r,t)=>{let{nativeEvent:n}=r,{onActivation:s}=t;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var tu;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(tu||(tu={}));var Bh;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Bh||(Bh={}));function hO(r){let{acceleration:t,activator:n=tu.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:f=5,order:m=Bh.TreeOrder,pointerCoordinates:g,scrollableAncestors:y,scrollableAncestorRects:E,delta:T,threshold:w}=r;const V=dO({delta:T,disabled:!u}),[K,q]=AN(),G=B.useRef({x:0,y:0}),it=B.useRef({x:0,y:0}),et=B.useMemo(()=>{switch(n){case tu.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case tu.DraggableRect:return o}},[n,o,g]),nt=B.useRef(null),ut=B.useCallback(()=>{const ot=nt.current;if(!ot)return;const R=G.current.x*it.current.x,A=G.current.y*it.current.y;ot.scrollBy(R,A)},[]),ft=B.useMemo(()=>m===Bh.TreeOrder?[...y].reverse():y,[m,y]);B.useEffect(()=>{if(!u||!y.length||!et){q();return}for(const ot of ft){if(s?.(ot)===!1)continue;const R=y.indexOf(ot),A=E[R];if(!A)continue;const{direction:C,speed:O}=WN(ot,A,et,t,w);for(const D of["x","y"])V[D][C[D]]||(O[D]=0,C[D]=0);if(O.x>0||O.y>0){q(),nt.current=ot,K(ut,f),G.current=O,it.current=C;return}}G.current={x:0,y:0},it.current={x:0,y:0},q()},[t,ut,s,q,u,f,JSON.stringify(et),JSON.stringify(V),K,y,ft,E,JSON.stringify(w)])}const fO={x:{[Ze.Backward]:!1,[Ze.Forward]:!1},y:{[Ze.Backward]:!1,[Ze.Forward]:!1}};function dO(r){let{delta:t,disabled:n}=r;const s=Ph(t);return Iu(o=>{if(n||!s||!o)return fO;const u={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Ze.Backward]:o.x[Ze.Backward]||u.x===-1,[Ze.Forward]:o.x[Ze.Forward]||u.x===1},y:{[Ze.Backward]:o.y[Ze.Backward]||u.y===-1,[Ze.Forward]:o.y[Ze.Forward]||u.y===1}}},[n,t,s])}function mO(r,t){const n=t!=null?r.get(t):void 0,s=n?n.node.current:null;return Iu(o=>{var u;return t==null?null:(u=s??o)!=null?u:null},[s,t])}function gO(r,t){return B.useMemo(()=>r.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(f=>({eventName:f.eventName,handler:t(f.handler,s)}));return[...n,...u]},[]),[r,t])}var du;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(du||(du={}));var cg;(function(r){r.Optimized="optimized"})(cg||(cg={}));const wE=new Map;function pO(r,t){let{dragging:n,dependencies:s,config:o}=t;const[u,f]=B.useState(null),{frequency:m,measure:g,strategy:y}=o,E=B.useRef(r),T=G(),w=hu(T),V=B.useCallback(function(it){it===void 0&&(it=[]),!w.current&&f(et=>et===null?it:et.concat(it.filter(nt=>!et.includes(nt))))},[w]),K=B.useRef(null),q=Iu(it=>{if(T&&!n)return wE;if(!it||it===wE||E.current!==r||u!=null){const et=new Map;for(let nt of r){if(!nt)continue;if(u&&u.length>0&&!u.includes(nt.id)&&nt.rect.current){et.set(nt.id,nt.rect.current);continue}const ut=nt.node.current,ft=ut?new op(g(ut),ut):null;nt.rect.current=ft,ft&&et.set(nt.id,ft)}return et}return it},[r,u,n,T,g]);return B.useEffect(()=>{E.current=r},[r]),B.useEffect(()=>{T||V()},[n,T]),B.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),B.useEffect(()=>{T||typeof m!="number"||K.current!==null||(K.current=setTimeout(()=>{V(),K.current=null},m))},[m,T,V,...s]),{droppableRects:q,measureDroppableContainers:V,measuringScheduled:u!=null};function G(){switch(y){case du.Always:return!1;case du.BeforeDragging:return n;default:return!n}}}function hp(r,t){return Iu(n=>r?n||(typeof t=="function"?t(r):r):null,[t,r])}function yO(r,t){return hp(r,t)}function _O(r){let{callback:t,disabled:n}=r;const s=ff(t),o=B.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return B.useEffect(()=>()=>o?.disconnect(),[o]),o}function gf(r){let{callback:t,disabled:n}=r;const s=ff(t),o=B.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return B.useEffect(()=>()=>o?.disconnect(),[o]),o}function vO(r){return new op(Bo(r),r)}function RE(r,t,n){t===void 0&&(t=vO);const[s,o]=B.useState(null);function u(){o(g=>{if(!r)return null;if(r.isConnected===!1){var y;return(y=g??n)!=null?y:null}const E=t(r);return JSON.stringify(g)===JSON.stringify(E)?g:E})}const f=_O({callback(g){if(r)for(const y of g){const{type:E,target:T}=y;if(E==="childList"&&T instanceof HTMLElement&&T.contains(r)){u();break}}}}),m=gf({callback:u});return Ni(()=>{u(),r?(m?.observe(r),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[r]),s}function EO(r){const t=hp(r);return oS(r,t)}const CE=[];function TO(r){const t=B.useRef(r),n=Iu(s=>r?s&&s!==CE&&r&&t.current&&r.parentNode===t.current.parentNode?s:mf(r):CE,[r]);return B.useEffect(()=>{t.current=r},[r]),n}function bO(r){const[t,n]=B.useState(null),s=B.useRef(r),o=B.useCallback(u=>{const f=Om(u.target);f&&n(m=>m?(m.set(f,lg(f)),new Map(m)):null)},[]);return B.useEffect(()=>{const u=s.current;if(r!==u){f(u);const m=r.map(g=>{const y=Om(g);return y?(y.addEventListener("scroll",o,{passive:!0}),[y,lg(y)]):null}).filter(g=>g!=null);n(m.length?new Map(m):null),s.current=r}return()=>{f(r),f(u)};function f(m){m.forEach(g=>{const y=Om(g);y?.removeEventListener("scroll",o)})}},[o,r]),B.useMemo(()=>r.length?t?Array.from(t.values()).reduce((u,f)=>bo(u,f),Oi):mS(r):Oi,[r,t])}function IE(r,t){t===void 0&&(t=[]);const n=B.useRef(null);return B.useEffect(()=>{n.current=null},t),B.useEffect(()=>{const s=r!==Oi;s&&!n.current&&(n.current=r),!s&&n.current&&(n.current=null)},[r]),n.current?fu(r,n.current):Oi}function SO(r){B.useEffect(()=>{if(!hf)return;const t=r.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n?.()}},r.map(t=>{let{sensor:n}=t;return n}))}function AO(r,t){return B.useMemo(()=>r.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=f=>{u(f,t)},n},{}),[r,t])}function yS(r){return B.useMemo(()=>r?XN(r):null,[r])}const DE=[];function wO(r,t){t===void 0&&(t=Bo);const[n]=r,s=yS(n?wn(n):null),[o,u]=B.useState(DE);function f(){u(()=>r.length?r.map(g=>fS(g)?s:new op(t(g),g)):DE)}const m=gf({callback:f});return Ni(()=>{m?.disconnect(),f(),r.forEach(g=>m?.observe(g))},[r]),o}function _S(r){if(!r)return null;if(r.children.length>1)return r;const t=r.children[0];return Cu(t)?t:r}function RO(r){let{measure:t}=r;const[n,s]=B.useState(null),o=B.useCallback(y=>{for(const{target:E}of y)if(Cu(E)){s(T=>{const w=t(E);return T?{...T,width:w.width,height:w.height}:w});break}},[t]),u=gf({callback:o}),f=B.useCallback(y=>{const E=_S(y);u?.disconnect(),E&&u?.observe(E),s(E?t(E):null)},[t,u]),[m,g]=Uh(f);return B.useMemo(()=>({nodeRef:m,rect:n,setRef:g}),[n,m,g])}const CO=[{sensor:cp,options:{}},{sensor:lp,options:{}}],IO={current:{}},ph={draggable:{measure:TE},droppable:{measure:TE,strategy:du.WhileDragging,frequency:cg.Optimized},dragOverlay:{measure:Bo}};class eu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const DO={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new eu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:jh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ph,measureDroppableContainers:jh,windowRect:null,measuringScheduled:!1},vS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:jh,draggableNodes:new Map,over:null,measureDroppableContainers:jh},Nu=B.createContext(vS),ES=B.createContext(DO);function NO(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new eu}}}function OO(r,t){switch(t.type){case Fe.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Fe.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:t.coordinates.x-r.draggable.initialCoordinates.x,y:t.coordinates.y-r.draggable.initialCoordinates.y}}};case Fe.DragEnd:case Fe.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fe.RegisterDroppable:{const{element:n}=t,{id:s}=n,o=new eu(r.droppable.containers);return o.set(s,n),{...r,droppable:{...r.droppable,containers:o}}}case Fe.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=t,u=r.droppable.containers.get(n);if(!u||s!==u.key)return r;const f=new eu(r.droppable.containers);return f.set(n,{...u,disabled:o}),{...r,droppable:{...r.droppable,containers:f}}}case Fe.UnregisterDroppable:{const{id:n,key:s}=t,o=r.droppable.containers.get(n);if(!o||s!==o.key)return r;const u=new eu(r.droppable.containers);return u.delete(n),{...r,droppable:{...r.droppable,containers:u}}}default:return r}}function xO(r){let{disabled:t}=r;const{active:n,activatorEvent:s,draggableNodes:o}=B.useContext(Nu),u=Ph(s),f=Ph(n?.id);return B.useEffect(()=>{if(!t&&!s&&u&&f!=null){if(!df(u)||document.activeElement===u.target)return;const m=o.get(f);if(!m)return;const{activatorNode:g,node:y}=m;if(!g.current&&!y.current)return;requestAnimationFrame(()=>{for(const E of[g.current,y.current]){if(!E)continue;const T=CN(E);if(T){T.focus();break}}})}},[s,t,o,f,u]),null}function TS(r,t){let{transform:n,...s}=t;return r!=null&&r.length?r.reduce((o,u)=>u({transform:o,...s}),n):n}function MO(r){return B.useMemo(()=>({draggable:{...ph.draggable,...r?.draggable},droppable:{...ph.droppable,...r?.droppable},dragOverlay:{...ph.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function VO(r){let{activeNode:t,measure:n,initialRect:s,config:o=!0}=r;const u=B.useRef(!1),{x:f,y:m}=typeof o=="boolean"?{x:o,y:o}:o;Ni(()=>{if(!f&&!m||!t){u.current=!1;return}if(u.current||!s)return;const y=t?.node.current;if(!y||y.isConnected===!1)return;const E=n(y),T=oS(E,s);if(f||(T.x=0),m||(T.y=0),u.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const w=uS(y);w&&w.scrollBy({top:T.y,left:T.x})}},[t,f,m,s,n])}const pf=B.createContext({...Oi,scaleX:1,scaleY:1});var gs;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(gs||(gs={}));const LO=B.memo(function(t){var n,s,o,u;let{id:f,accessibility:m,autoScroll:g=!0,children:y,sensors:E=CO,collisionDetection:T=HN,measuring:w,modifiers:V,...K}=t;const q=B.useReducer(OO,void 0,NO),[G,it]=q,[et,nt]=MN(),[ut,ft]=B.useState(gs.Uninitialized),ot=ut===gs.Initialized,{draggable:{active:R,nodes:A,translate:C},droppable:{containers:O}}=G,D=R!=null?A.get(R):null,L=B.useRef({initial:null,translated:null}),I=B.useMemo(()=>{var Ot;return R!=null?{id:R,data:(Ot=D?.data)!=null?Ot:IO,rect:L}:null},[R,D]),jt=B.useRef(null),[le,Q]=B.useState(null),[rt,gt]=B.useState(null),Rt=hu(K,Object.values(K)),Bt=Du("DndDescribedBy",f),x=B.useMemo(()=>O.getEnabled(),[O]),Y=MO(w),{droppableRects:st,measureDroppableContainers:lt,measuringScheduled:vt}=pO(x,{dragging:ot,dependencies:[C.x,C.y],config:Y.droppable}),_t=mO(A,R),Nt=B.useMemo(()=>rt?zh(rt):null,[rt]),te=ar(),Ft=yO(_t,Y.draggable.measure);VO({activeNode:R!=null?A.get(R):null,config:te.layoutShiftCompensation,initialRect:Ft,measure:Y.draggable.measure});const Vt=RE(_t,Y.draggable.measure,Ft),ti=RE(_t?_t.parentElement:null),We=B.useRef({activatorEvent:null,active:null,activeNode:_t,collisionRect:null,collisions:null,droppableRects:st,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pn=O.getNodeFor((n=We.current.over)==null?void 0:n.id),Ie=RO({measure:Y.dragOverlay.measure}),ei=(s=Ie.nodeRef.current)!=null?s:_t,Rn=ot?(o=Ie.rect)!=null?o:Vt:null,Vr=!!(Ie.nodeRef.current&&Ie.rect),Lr=EO(Vr?null:Vt),fe=yS(ei?wn(ei):null),ee=TO(ot?Pn??_t:null),zn=wO(ee),kr=TS(V,{transform:{x:C.x-Lr.x,y:C.y-Lr.y,scaleX:1,scaleY:1},activatorEvent:rt,active:I,activeNodeRect:Vt,containerNodeRect:ti,draggingNodeRect:Rn,over:We.current.over,overlayNodeRect:Ie.rect,scrollableAncestors:ee,scrollableAncestorRects:zn,windowRect:fe}),Ls=Nt?bo(Nt,C):null,Qe=bO(ee),ir=IE(Qe),ks=IE(Qe,[Vt]),ni=bo(kr,ir),vn=Rn?QN(Rn,kr):null,rr=I&&vn?T({active:I,collisionRect:vn,droppableRects:st,droppableContainers:x,pointerCoordinates:Ls}):null,Us=sS(rr,"id"),[jn,Ps]=B.useState(null),Bn=Vr?kr:bo(kr,ks),qe=FN(Bn,(u=jn?.rect)!=null?u:null,Vt),cn=B.useRef(null),de=B.useCallback((Ot,me)=>{let{sensor:ge,options:De}=me;if(jt.current==null)return;const hn=A.get(jt.current);if(!hn)return;const Ye=Ot.nativeEvent,be=new ge({active:jt.current,activeNode:hn,event:Ye,options:De,context:We,onAbort(Se){if(!A.get(Se))return;const{onDragAbort:dn}=Rt.current,En={id:Se};dn?.(En),et({type:"onDragAbort",event:En})},onPending(Se,fn,dn,En){if(!A.get(Se))return;const{onDragPending:Tn}=Rt.current,Hn={id:Se,constraint:fn,initialCoordinates:dn,offset:En};Tn?.(Hn),et({type:"onDragPending",event:Hn})},onStart(Se){const fn=jt.current;if(fn==null)return;const dn=A.get(fn);if(!dn)return;const{onDragStart:En}=Rt.current,qn={activatorEvent:Ye,active:{id:fn,data:dn.data,rect:L}};Gl.unstable_batchedUpdates(()=>{En?.(qn),ft(gs.Initializing),it({type:Fe.DragStart,initialCoordinates:Se,active:fn}),et({type:"onDragStart",event:qn}),Q(cn.current),gt(Ye)})},onMove(Se){it({type:Fe.DragMove,coordinates:Se})},onEnd:Cn(Fe.DragEnd),onCancel:Cn(Fe.DragCancel)});cn.current=be;function Cn(Se){return async function(){const{active:dn,collisions:En,over:qn,scrollAdjustedTranslate:Tn}=We.current;let Hn=null;if(dn&&Tn){const{cancelDrop:tn}=Rt.current;Hn={activatorEvent:Ye,active:dn,collisions:En,delta:Tn,over:qn},Se===Fe.DragEnd&&typeof tn=="function"&&await Promise.resolve(tn(Hn))&&(Se=Fe.DragCancel)}jt.current=null,Gl.unstable_batchedUpdates(()=>{it({type:Se}),ft(gs.Uninitialized),Ps(null),Q(null),gt(null),cn.current=null;const tn=Se===Fe.DragEnd?"onDragEnd":"onDragCancel";if(Hn){const bn=Rt.current[tn];bn?.(Hn),et({type:tn,event:Hn})}})}}},[A]),Aa=B.useCallback((Ot,me)=>(ge,De)=>{const hn=ge.nativeEvent,Ye=A.get(De);if(jt.current!==null||!Ye||hn.dndKit||hn.defaultPrevented)return;const be={active:Ye};Ot(ge,me.options,be)===!0&&(hn.dndKit={capturedBy:me.sensor},jt.current=De,de(ge,me))},[A,de]),sr=gO(E,Aa);SO(E),Ni(()=>{Vt&&ut===gs.Initializing&&ft(gs.Initialized)},[Vt,ut]),B.useEffect(()=>{const{onDragMove:Ot}=Rt.current,{active:me,activatorEvent:ge,collisions:De,over:hn}=We.current;if(!me||!ge)return;const Ye={active:me,activatorEvent:ge,collisions:De,delta:{x:ni.x,y:ni.y},over:hn};Gl.unstable_batchedUpdates(()=>{Ot?.(Ye),et({type:"onDragMove",event:Ye})})},[ni.x,ni.y]),B.useEffect(()=>{const{active:Ot,activatorEvent:me,collisions:ge,droppableContainers:De,scrollAdjustedTranslate:hn}=We.current;if(!Ot||jt.current==null||!me||!hn)return;const{onDragOver:Ye}=Rt.current,be=De.get(Us),Cn=be&&be.rect.current?{id:be.id,rect:be.rect.current,data:be.data,disabled:be.disabled}:null,Se={active:Ot,activatorEvent:me,collisions:ge,delta:{x:hn.x,y:hn.y},over:Cn};Gl.unstable_batchedUpdates(()=>{Ps(Cn),Ye?.(Se),et({type:"onDragOver",event:Se})})},[Us]),Ni(()=>{We.current={activatorEvent:rt,active:I,activeNode:_t,collisionRect:vn,collisions:rr,droppableRects:st,draggableNodes:A,draggingNode:ei,draggingNodeRect:Rn,droppableContainers:O,over:jn,scrollableAncestors:ee,scrollAdjustedTranslate:ni},L.current={initial:Rn,translated:vn}},[I,_t,rr,vn,A,ei,Rn,st,O,jn,ee,ni]),hO({...te,delta:C,draggingRect:vn,pointerCoordinates:Ls,scrollableAncestors:ee,scrollableAncestorRects:zn});const wa=B.useMemo(()=>({active:I,activeNode:_t,activeNodeRect:Vt,activatorEvent:rt,collisions:rr,containerNodeRect:ti,dragOverlay:Ie,draggableNodes:A,droppableContainers:O,droppableRects:st,over:jn,measureDroppableContainers:lt,scrollableAncestors:ee,scrollableAncestorRects:zn,measuringConfiguration:Y,measuringScheduled:vt,windowRect:fe}),[I,_t,Vt,rt,rr,ti,Ie,A,O,st,jn,lt,ee,zn,Y,vt,fe]),ii=B.useMemo(()=>({activatorEvent:rt,activators:sr,active:I,activeNodeRect:Vt,ariaDescribedById:{draggable:Bt},dispatch:it,draggableNodes:A,over:jn,measureDroppableContainers:lt}),[rt,sr,I,Vt,it,Bt,A,jn,lt]);return _e.createElement(rS.Provider,{value:nt},_e.createElement(Nu.Provider,{value:ii},_e.createElement(ES.Provider,{value:wa},_e.createElement(pf.Provider,{value:qe},y)),_e.createElement(xO,{disabled:m?.restoreFocus===!1})),_e.createElement(kN,{...m,hiddenTextDescribedById:Bt}));function ar(){const Ot=le?.autoScrollEnabled===!1,me=typeof g=="object"?g.enabled===!1:g===!1,ge=ot&&!Ot&&!me;return typeof g=="object"?{...g,enabled:ge}:{enabled:ge}}}),kO=B.createContext(null),NE="button",UO="Draggable";function PO(r){let{id:t,data:n,disabled:s=!1,attributes:o}=r;const u=Du(UO),{activators:f,activatorEvent:m,active:g,activeNodeRect:y,ariaDescribedById:E,draggableNodes:T,over:w}=B.useContext(Nu),{role:V=NE,roleDescription:K="draggable",tabIndex:q=0}=o??{},G=g?.id===t,it=B.useContext(G?pf:kO),[et,nt]=Uh(),[ut,ft]=Uh(),ot=AO(f,t),R=hu(n);Ni(()=>(T.set(t,{id:t,key:u,node:et,activatorNode:ut,data:R}),()=>{const C=T.get(t);C&&C.key===u&&T.delete(t)}),[T,t]);const A=B.useMemo(()=>({role:V,tabIndex:q,"aria-disabled":s,"aria-pressed":G&&V===NE?!0:void 0,"aria-roledescription":K,"aria-describedby":E.draggable}),[s,V,q,G,K,E.draggable]);return{active:g,activatorEvent:m,activeNodeRect:y,attributes:A,isDragging:G,listeners:s?void 0:ot,node:et,over:w,setNodeRef:nt,setActivatorNodeRef:ft,transform:it}}function bS(){return B.useContext(ES)}const zO="Droppable",jO={timeout:25};function SS(r){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:o}=r;const u=Du(zO),{active:f,dispatch:m,over:g,measureDroppableContainers:y}=B.useContext(Nu),E=B.useRef({disabled:n}),T=B.useRef(!1),w=B.useRef(null),V=B.useRef(null),{disabled:K,updateMeasurementsFor:q,timeout:G}={...jO,...o},it=hu(q??s),et=B.useCallback(()=>{if(!T.current){T.current=!0;return}V.current!=null&&clearTimeout(V.current),V.current=setTimeout(()=>{y(Array.isArray(it.current)?it.current:[it.current]),V.current=null},G)},[G]),nt=gf({callback:et,disabled:K||!f}),ut=B.useCallback((A,C)=>{nt&&(C&&(nt.unobserve(C),T.current=!1),A&&nt.observe(A))},[nt]),[ft,ot]=Uh(ut),R=hu(t);return B.useEffect(()=>{!nt||!ft.current||(nt.disconnect(),T.current=!1,nt.observe(ft.current))},[ft,nt]),B.useEffect(()=>(m({type:Fe.RegisterDroppable,element:{id:s,key:u,disabled:n,node:ft,rect:w,data:R}}),()=>m({type:Fe.UnregisterDroppable,key:u,id:s})),[s]),B.useEffect(()=>{n!==E.current.disabled&&(m({type:Fe.SetDroppableDisabled,id:s,key:u,disabled:n}),E.current.disabled=n)},[s,u,n,m]),{active:f,rect:w,isOver:g?.id===s,node:ft,over:g,setNodeRef:ot}}function BO(r){let{animation:t,children:n}=r;const[s,o]=B.useState(null),[u,f]=B.useState(null),m=Ph(n);return!n&&!s&&m&&o(m),Ni(()=>{if(!u)return;const g=s?.key,y=s?.props.id;if(g==null||y==null){o(null);return}Promise.resolve(t(y,u)).then(()=>{o(null)})},[t,s,u]),_e.createElement(_e.Fragment,null,n,s?B.cloneElement(s,{ref:f}):null)}const qO={x:0,y:0,scaleX:1,scaleY:1};function HO(r){let{children:t}=r;return _e.createElement(Nu.Provider,{value:vS},_e.createElement(pf.Provider,{value:qO},t))}const FO={position:"fixed",touchAction:"none"},GO=r=>df(r)?"transform 250ms ease":void 0,QO=B.forwardRef((r,t)=>{let{as:n,activatorEvent:s,adjustScale:o,children:u,className:f,rect:m,style:g,transform:y,transition:E=GO}=r;if(!m)return null;const T=o?y:{...y,scaleX:1,scaleY:1},w={...FO,width:m.width,height:m.height,top:m.top,left:m.left,transform:Os.Transform.toString(T),transformOrigin:o&&s?zN(s,m):void 0,transition:typeof E=="function"?E(s):E,...g};return _e.createElement(n,{className:f,style:w,ref:t},u)}),YO=r=>t=>{let{active:n,dragOverlay:s}=t;const o={},{styles:u,className:f}=r;if(u!=null&&u.active)for(const[m,g]of Object.entries(u.active))g!==void 0&&(o[m]=n.node.style.getPropertyValue(m),n.node.style.setProperty(m,g));if(u!=null&&u.dragOverlay)for(const[m,g]of Object.entries(u.dragOverlay))g!==void 0&&s.node.style.setProperty(m,g);return f!=null&&f.active&&n.node.classList.add(f.active),f!=null&&f.dragOverlay&&s.node.classList.add(f.dragOverlay),function(){for(const[g,y]of Object.entries(o))n.node.style.setProperty(g,y);f!=null&&f.active&&n.node.classList.remove(f.active)}},KO=r=>{let{transform:{initial:t,final:n}}=r;return[{transform:Os.Transform.toString(t)},{transform:Os.Transform.toString(n)}]},XO={duration:250,easing:"ease",keyframes:KO,sideEffects:YO({styles:{active:{opacity:"0"}}})};function $O(r){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:o}=r;return ff((u,f)=>{if(t===null)return;const m=n.get(u);if(!m)return;const g=m.node.current;if(!g)return;const y=_S(f);if(!y)return;const{transform:E}=wn(f).getComputedStyle(f),T=lS(E);if(!T)return;const w=typeof t=="function"?t:JO(t);return gS(g,o.draggable.measure),w({active:{id:u,data:m.data,node:g,rect:o.draggable.measure(g)},draggableNodes:n,dragOverlay:{node:f,rect:o.dragOverlay.measure(y)},droppableContainers:s,measuringConfiguration:o,transform:T})})}function JO(r){const{duration:t,easing:n,sideEffects:s,keyframes:o}={...XO,...r};return u=>{let{active:f,dragOverlay:m,transform:g,...y}=u;if(!t)return;const E={x:m.rect.left-f.rect.left,y:m.rect.top-f.rect.top},T={scaleX:g.scaleX!==1?f.rect.width*g.scaleX/m.rect.width:1,scaleY:g.scaleY!==1?f.rect.height*g.scaleY/m.rect.height:1},w={x:g.x-E.x,y:g.y-E.y,...T},V=o({...y,active:f,dragOverlay:m,transform:{initial:g,final:w}}),[K]=V,q=V[V.length-1];if(JSON.stringify(K)===JSON.stringify(q))return;const G=s?.({active:f,dragOverlay:m,...y}),it=m.node.animate(V,{duration:t,easing:n,fill:"forwards"});return new Promise(et=>{it.onfinish=()=>{G?.(),et()}})}}let OE=0;function ZO(r){return B.useMemo(()=>{if(r!=null)return OE++,OE},[r])}const WO=_e.memo(r=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:o,transition:u,modifiers:f,wrapperElement:m="div",className:g,zIndex:y=999}=r;const{activatorEvent:E,active:T,activeNodeRect:w,containerNodeRect:V,draggableNodes:K,droppableContainers:q,dragOverlay:G,over:it,measuringConfiguration:et,scrollableAncestors:nt,scrollableAncestorRects:ut,windowRect:ft}=bS(),ot=B.useContext(pf),R=ZO(T?.id),A=TS(f,{activatorEvent:E,active:T,activeNodeRect:w,containerNodeRect:V,draggingNodeRect:G.rect,over:it,overlayNodeRect:G.rect,scrollableAncestors:nt,scrollableAncestorRects:ut,transform:ot,windowRect:ft}),C=hp(w),O=$O({config:s,draggableNodes:K,droppableContainers:q,measuringConfiguration:et}),D=C?G.setRef:void 0;return _e.createElement(HO,null,_e.createElement(BO,{animation:O},T&&R?_e.createElement(QO,{key:R,id:T.id,ref:D,as:m,activatorEvent:E,adjustScale:t,className:g,transition:u,rect:C,style:{zIndex:y,...o},transform:A},n):null))});function AS(r,t,n){const s=r.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function tx(r,t){return r.reduce((n,s,o)=>{const u=t.get(s);return u&&(n[o]=u),n},Array(r.length))}function rh(r){return r!==null&&r>=0}function ex(r,t){if(r===t)return!0;if(r.length!==t.length)return!1;for(let n=0;n<r.length;n++)if(r[n]!==t[n])return!1;return!0}function nx(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const wS=r=>{let{rects:t,activeIndex:n,overIndex:s,index:o}=r;const u=AS(t,s,n),f=t[o],m=u[o];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},sh={scaleX:1,scaleY:1},ix=r=>{var t;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:f}=r;const m=(t=u[n])!=null?t:s;if(!m)return null;if(o===n){const y=u[f];return y?{x:0,y:n<f?y.top+y.height-(m.top+m.height):y.top-m.top,...sh}:null}const g=rx(u,o,n);return o>n&&o<=f?{x:0,y:-m.height-g,...sh}:o<n&&o>=f?{x:0,y:m.height+g,...sh}:{x:0,y:0,...sh}};function rx(r,t,n){const s=r[t],o=r[t-1],u=r[t+1];return s?n<t?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const RS="Sortable",CS=_e.createContext({activeIndex:-1,containerId:RS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:wS,disabled:{draggable:!1,droppable:!1}});function sx(r){let{children:t,id:n,items:s,strategy:o=wS,disabled:u=!1}=r;const{active:f,dragOverlay:m,droppableRects:g,over:y,measureDroppableContainers:E}=bS(),T=Du(RS,n),w=m.rect!==null,V=B.useMemo(()=>s.map(ot=>typeof ot=="object"&&"id"in ot?ot.id:ot),[s]),K=f!=null,q=f?V.indexOf(f.id):-1,G=y?V.indexOf(y.id):-1,it=B.useRef(V),et=!ex(V,it.current),nt=G!==-1&&q===-1||et,ut=nx(u);Ni(()=>{et&&K&&E(V)},[et,V,K,E]),B.useEffect(()=>{it.current=V},[V]);const ft=B.useMemo(()=>({activeIndex:q,containerId:T,disabled:ut,disableTransforms:nt,items:V,overIndex:G,useDragOverlay:w,sortedRects:tx(V,g),strategy:o}),[q,T,ut.draggable,ut.droppable,nt,V,G,g,w,o]);return _e.createElement(CS.Provider,{value:ft},t)}const ax=r=>{let{id:t,items:n,activeIndex:s,overIndex:o}=r;return AS(n,s,o).indexOf(t)},ox=r=>{let{containerId:t,isSorting:n,wasDragging:s,index:o,items:u,newIndex:f,previousItems:m,previousContainerId:g,transition:y}=r;return!y||!s||m!==u&&o===f?!1:n?!0:f!==o&&t===g},lx={duration:200,easing:"ease"},IS="transform",ux=Os.Transition.toString({property:IS,duration:0,easing:"linear"}),cx={roleDescription:"sortable"};function hx(r){let{disabled:t,index:n,node:s,rect:o}=r;const[u,f]=B.useState(null),m=B.useRef(n);return Ni(()=>{if(!t&&n!==m.current&&s.current){const g=o.current;if(g){const y=Bo(s.current,{ignoreTransform:!0}),E={x:g.left-y.left,y:g.top-y.top,scaleX:g.width/y.width,scaleY:g.height/y.height};(E.x||E.y)&&f(E)}}n!==m.current&&(m.current=n)},[t,n,s,o]),B.useEffect(()=>{u&&f(null)},[u]),u}function fx(r){let{animateLayoutChanges:t=ox,attributes:n,disabled:s,data:o,getNewIndex:u=ax,id:f,strategy:m,resizeObserverConfig:g,transition:y=lx}=r;const{items:E,containerId:T,activeIndex:w,disabled:V,disableTransforms:K,sortedRects:q,overIndex:G,useDragOverlay:it,strategy:et}=B.useContext(CS),nt=dx(s,V),ut=E.indexOf(f),ft=B.useMemo(()=>({sortable:{containerId:T,index:ut,items:E},...o}),[T,o,ut,E]),ot=B.useMemo(()=>E.slice(E.indexOf(f)),[E,f]),{rect:R,node:A,isOver:C,setNodeRef:O}=SS({id:f,data:ft,disabled:nt.droppable,resizeObserverConfig:{updateMeasurementsFor:ot,...g}}),{active:D,activatorEvent:L,activeNodeRect:I,attributes:jt,setNodeRef:le,listeners:Q,isDragging:rt,over:gt,setActivatorNodeRef:Rt,transform:Bt}=PO({id:f,data:ft,attributes:{...cx,...n},disabled:nt.draggable}),x=SN(O,le),Y=!!D,st=Y&&!K&&rh(w)&&rh(G),lt=!it&&rt,vt=lt&&st?Bt:null,Nt=st?vt??(m??et)({rects:q,activeNodeRect:I,activeIndex:w,overIndex:G,index:ut}):null,te=rh(w)&&rh(G)?u({id:f,items:E,activeIndex:w,overIndex:G}):ut,Ft=D?.id,Vt=B.useRef({activeId:Ft,items:E,newIndex:te,containerId:T}),ti=E!==Vt.current.items,We=t({active:D,containerId:T,isDragging:rt,isSorting:Y,id:f,index:ut,items:E,newIndex:Vt.current.newIndex,previousItems:Vt.current.items,previousContainerId:Vt.current.containerId,transition:y,wasDragging:Vt.current.activeId!=null}),Pn=hx({disabled:!We,index:ut,node:A,rect:R});return B.useEffect(()=>{Y&&Vt.current.newIndex!==te&&(Vt.current.newIndex=te),T!==Vt.current.containerId&&(Vt.current.containerId=T),E!==Vt.current.items&&(Vt.current.items=E)},[Y,te,T,E]),B.useEffect(()=>{if(Ft===Vt.current.activeId)return;if(Ft!=null&&Vt.current.activeId==null){Vt.current.activeId=Ft;return}const ei=setTimeout(()=>{Vt.current.activeId=Ft},50);return()=>clearTimeout(ei)},[Ft]),{active:D,activeIndex:w,attributes:jt,data:ft,rect:R,index:ut,newIndex:te,items:E,isOver:C,isSorting:Y,isDragging:rt,listeners:Q,node:A,overIndex:G,over:gt,setNodeRef:x,setActivatorNodeRef:Rt,setDroppableNodeRef:O,setDraggableNodeRef:le,transform:Pn??Nt,transition:Ie()};function Ie(){if(Pn||ti&&Vt.current.newIndex===ut)return ux;if(!(lt&&!df(L)||!y)&&(Y||We))return Os.Transition.toString({...y,property:IS})}}function dx(r,t){var n,s;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(n=r?.draggable)!=null?n:t.draggable,droppable:(s=r?.droppable)!=null?s:t.droppable}}function qh(r){if(!r)return!1;const t=r.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const mx=[Ht.Down,Ht.Right,Ht.Up,Ht.Left],gx=(r,t)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:f,scrollableAncestors:m}}=t;if(mx.includes(r.code)){if(r.preventDefault(),!n||!s)return;const g=[];u.getEnabled().forEach(T=>{if(!T||T!=null&&T.disabled)return;const w=o.get(T.id);if(w)switch(r.code){case Ht.Down:s.top<w.top&&g.push(T);break;case Ht.Up:s.top>w.top&&g.push(T);break;case Ht.Left:s.left>w.left&&g.push(T);break;case Ht.Right:s.left<w.left&&g.push(T);break}});const y=aS({collisionRect:s,droppableRects:o,droppableContainers:g});let E=sS(y,"id");if(E===f?.id&&y.length>1&&(E=y[1].id),E!=null){const T=u.get(n.id),w=u.get(E),V=w?o.get(w.id):null,K=w?.node.current;if(K&&V&&T&&w){const G=mf(K).some((ot,R)=>m[R]!==ot),it=DS(T,w),et=px(T,w),nt=G||!it?{x:0,y:0}:{x:et?s.width-V.width:0,y:et?s.height-V.height:0},ut={x:V.left,y:V.top};return nt.x&&nt.y?ut:fu(ut,nt)}}}};function DS(r,t){return!qh(r)||!qh(t)?!1:r.data.current.sortable.containerId===t.data.current.sortable.containerId}function px(r,t){return!qh(r)||!qh(t)||!DS(r,t)?!1:r.data.current.sortable.index<t.data.current.sortable.index}const yx=async()=>{const r=TN(ca);[{title:"Implementar Stack de Observabilidade (Prometheus/Grafana/Loki)",status:"backlog",priority:"high",projectId:"tintas-marfim"},{title:"Configurao de CI/CD (GitHub Actions)",status:"todo",priority:"high",projectId:"tintas-marfim"},{title:"Implementar Fila de Mensagens (Celery/Redis)",status:"todo",priority:"medium",projectId:"tintas-marfim"},{title:"Saneamento de Base de Dados (LID & Identidade Persistente)",status:"done",priority:"critical",projectId:"tintas-marfim"},{title:"Migrao para PostgreSQL Dockerizado",status:"done",priority:"high",projectId:"tintas-marfim"},{title:"Implementar Revogao de Consentimentos (Endpoint DELETE)",status:"todo",priority:"high",projectId:"openpower-back"},{title:"Expandir Endpoints de Gesto (Admin CRUD)",status:"in-progress",priority:"medium",projectId:"openpower-back"},{title:"Implementao Completa do Fluxo de Recuperao de Senha",status:"done",priority:"high",projectId:"openpower-back"},{title:"Refatorao Arquitetural (SQLAlchemy/Alembic)",status:"done",priority:"critical",projectId:"openpower-back"},{title:"Implementar Login com Google (SSO)",status:"backlog",priority:"medium",projectId:"openpower-front"},{title:"Implementar Pgina Wallet",status:"todo",priority:"high",projectId:"openpower-front"},{title:"Implementar Polling (Home/Wallet) para status de consentimento",status:"in-progress",priority:"medium",projectId:"openpower-front"},{title:"Tela de Perfil Completa (Edio e Senha)",status:"done",priority:"low",projectId:"openpower-front"},{title:"Refatorao UI/UX Geral (Design System)",status:"done",priority:"high",projectId:"openpower-front"},{title:"Treinamento YOLOv8 Nano (Proof of Concept)",status:"todo",priority:"critical",projectId:"equihealth"},{title:"Otimizao I/O Frames (Leitura de Vdeo Streamada)",status:"in-progress",priority:"high",projectId:"equihealth"},{title:"Curadoria de Negativos (Baias Vazias) e Safety Mining",status:"done",priority:"medium",projectId:"equihealth"},{title:"Implementao do Split Determinstico 80/20",status:"done",priority:"low",projectId:"equihealth"},{title:"Levantamento de requisitos funcionais",status:"todo",priority:"high",projectId:"amae"},{title:"Configurao de ambiente Python/Jupyter",status:"todo",priority:"medium",projectId:"vita-ai"}].forEach(n=>{const s=Zl(sg(ca,"tasks"));r.set(s,{...n,createdAt:new Date().toISOString(),assignee:"https://i.pravatar.cc/150?u="+Math.random()})}),await r.commit(),console.log("Database seeded successfully!"),alert("Database seeded successfully!")};const _x=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),xE=r=>{const t=vx(r);return t.charAt(0).toUpperCase()+t.slice(1)},NS=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),Ex=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Tx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bx=B.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>B.createElement("svg",{ref:g,...Tx,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:NS("lucide",o),...!u&&!Ex(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>B.createElement(y,E)),...Array.isArray(u)?u:[u]]));const Vs=(r,t)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(bx,{ref:u,iconNode:t,className:NS(`lucide-${_x(xE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=xE(r),n};const Sx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],OS=Vs("database",Sx);const Ax=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],wx=Vs("layout-grid",Ax);const Rx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cx=Vs("loader-circle",Rx);const Ix=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dx=Vs("log-out",Ix);const Nx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ox=Vs("pen",Nx);const xx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mx=Vs("plus",xx);const Vx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lx=Vs("trash-2",Vx);const kx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ux=Vs("x",kx),nu=[{id:"tintas-marfim",name:"Tintas Marfim",color:"orange"},{id:"openpower-back",name:"OpenPower Backend",color:"blue"},{id:"openpower-front",name:"OpenPower Frontend",color:"sky"},{id:"equihealth",name:"EquiHealth",color:"green"},{id:"amae",name:"AMAE",color:"red"},{id:"vita-ai",name:"Vita.AI",color:"purple"}],hg={backlog:"Backlog",todo:"A Fazer","in-progress":"Em Andamento",done:"Concludo"},Px={low:"bg-slate-200 text-slate-700",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},zx={orange:"bg-orange-100 text-orange-800 border-orange-200",blue:"bg-blue-100 text-blue-800 border-blue-200",sky:"bg-sky-100 text-sky-800 border-sky-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",purple:"bg-purple-100 text-purple-800 border-purple-200"};function xS({task:r,onDelete:t,onEdit:n}){const{attributes:s,listeners:o,setNodeRef:u,transform:f,transition:m,isDragging:g}=fx({id:r.id,data:{type:"Task",task:r}}),y={transform:Os.Transform.toString(f),transition:m},E=nu.find(w=>w.id===r.projectId),T=E?zx[E.color]:"bg-gray-100 text-gray-800 border-gray-200";return g?J.jsx("div",{ref:u,style:y,className:"opacity-30 bg-gray-50 p-4 rounded-lg border-2 border-dashed border-gray-400 h-[150px] w-full cursor-grab"}):J.jsxs("div",{ref:u,style:y,...s,...o,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow group cursor-grab active:cursor-grabbing",children:[J.jsxs("div",{className:"flex justify-between items-start mb-2",children:[J.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border ${T}`,children:E?.name||"Unknown Project"}),J.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[J.jsx("button",{onClick:w=>{w.stopPropagation(),n(r)},className:"p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-blue-600",children:J.jsx(Ox,{size:14})}),J.jsx("button",{onClick:w=>{w.stopPropagation(),t(r.id)},className:"p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-red-600",children:J.jsx(Lx,{size:14})})]})]}),J.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:r.title}),r.description&&J.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:r.description}),J.jsxs("div",{className:"flex justify-between items-center mt-3",children:[J.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${Px[r.priority]}`,children:r.priority.toUpperCase()}),r.assignee&&J.jsx("img",{src:r.assignee,alt:"Assignee",className:"w-6 h-6 rounded-full border border-gray-200"})]})]})}function jx({id:r,tasks:t,onDeleteTask:n,onEditTask:s}){const{setNodeRef:o}=SS({id:r});return J.jsxs("div",{className:"flex flex-col h-full w-80 min-w-80 bg-gray-50/50 rounded-xl border border-gray-200/60",children:[J.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-white/50 rounded-t-xl backdrop-blur-sm",children:J.jsxs("h2",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[hg[r],J.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full",children:t.length})]})}),J.jsx("div",{ref:o,className:"flex-1 p-3 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:J.jsx(sx,{items:t.map(u=>u.id),strategy:ix,children:J.jsx("div",{className:"flex flex-col gap-3",children:t.map(u=>J.jsx(xS,{task:u,onDelete:n,onEdit:s},u.id))})})})]})}function Bx({isOpen:r,onClose:t,onSubmit:n,editingTask:s}){const[o,u]=B.useState(""),[f,m]=B.useState(""),[g,y]=B.useState("medium"),[E,T]=B.useState("todo"),[w,V]=B.useState(nu[0].id);if(B.useEffect(()=>{s?(u(s.title),m(s.description||""),y(s.priority),T(s.status),V(s.projectId)):(u(""),m(""),y("medium"),T("todo"),V(nu[0].id))},[s,r]),!r)return null;const K=q=>{q.preventDefault(),n({title:o,description:f,priority:g,status:E,projectId:w}),t()};return J.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:J.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[J.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[J.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Task":"New Task"}),J.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:J.jsx(Ux,{size:20})})]}),J.jsxs("form",{onSubmit:K,className:"p-4 space-y-4",children:[J.jsxs("div",{children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),J.jsx("input",{type:"text",required:!0,value:o,onChange:q=>u(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Enter task title"})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),J.jsx("textarea",{value:f,onChange:q=>m(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all resize-none h-24",placeholder:"Enter task description (optional)"})]}),J.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[J.jsxs("div",{children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project"}),J.jsx("select",{value:w,onChange:q=>V(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:nu.map(q=>J.jsx("option",{value:q.id,children:q.name},q.id))})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),J.jsxs("select",{value:g,onChange:q=>y(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[J.jsx("option",{value:"low",children:"Low"}),J.jsx("option",{value:"medium",children:"Medium"}),J.jsx("option",{value:"high",children:"High"}),J.jsx("option",{value:"critical",children:"Critical"})]})]})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),J.jsxs("select",{value:E,onChange:q=>T(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[J.jsx("option",{value:"backlog",children:"Backlog"}),J.jsx("option",{value:"todo",children:"To Do"}),J.jsx("option",{value:"in-progress",children:"In Progress"}),J.jsx("option",{value:"done",children:"Done"})]})]}),J.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[J.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),J.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:s?"Save Changes":"Create Task"})]})]})]})})}function qx({user:r,tasks:t,onSignOut:n,onNewTask:s}){const o=f=>{const m=t.filter(E=>E.projectId===f),g=m.length;if(g===0)return 0;const y=m.filter(E=>E.status==="done").length;return Math.round(y/g*100)},u=f=>{switch(f){case"orange":return"bg-orange-500";case"blue":return"bg-blue-500";case"sky":return"bg-sky-500";case"green":return"bg-green-500";case"red":return"bg-red-500";case"purple":return"bg-purple-500";default:return"bg-gray-500"}};return J.jsxs("div",{className:"w-72 bg-white border-r border-gray-200 flex flex-col h-full shrink-0",children:[J.jsxs("div",{className:"p-6 border-b border-gray-100",children:[J.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[J.jsx("div",{className:"bg-blue-600 p-2 rounded-lg shadow-lg shadow-blue-600/20",children:J.jsx(wx,{className:"text-white",size:20})}),J.jsx("span",{className:"font-bold text-gray-800 text-lg tracking-tight",children:"Meus Projetos"})]}),J.jsx("p",{className:"text-xs text-gray-500 font-medium pl-1 mb-6",children:"Visualizao Unificada"}),J.jsxs("button",{onClick:s,className:"w-full py-2.5 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium text-sm transition-all shadow-sm hover:shadow-md active:scale-[0.98] flex items-center justify-center gap-2 cursor-pointer",children:[J.jsx(Mx,{size:18}),"Nova Tarefa"]})]}),J.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[J.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-6",children:"Progresso Geral"}),J.jsx("div",{className:"space-y-6",children:nu.map(f=>{const m=o(f.id);return J.jsxs("div",{children:[J.jsxs("div",{className:"flex justify-between items-center mb-2",children:[J.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.name}),J.jsxs("span",{className:"text-xs font-semibold text-gray-500",children:[m,"%"]})]}),J.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:J.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${u(f.color)}`,style:{width:`${m}%`}})})]},f.id)})})]}),J.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50",children:J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[r.photoURL?J.jsx("img",{src:r.photoURL,alt:r.displayName||"User",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}):J.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold border-2 border-white shadow-sm",children:r.displayName?.[0]||"U"}),J.jsxs("div",{className:"flex flex-col",children:[J.jsx("span",{className:"text-sm font-semibold text-gray-900 leading-tight",children:r.displayName||"Usurio"}),J.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[J.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),J.jsx("span",{className:"text-xs font-medium text-green-600",children:"Online"})]})]})]}),J.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 cursor-pointer",title:"Sair",children:J.jsx(Dx,{size:20})})]})})]})}function Hx({user:r,onSignOut:t}){const[n,s]=B.useState([]),[o,u]=B.useState(null),[f,m]=B.useState(!1),[g,y]=B.useState(null),E=UN(vE(cp,{activationConstraint:{distance:5}}),vE(lp,{coordinateGetter:gx}));B.useEffect(()=>{const et=dN(sg(ca,"tasks")),nt=_N(et,ut=>{const ft=ut.docs.map(ot=>({id:ot.id,...ot.data()}));s(ft)});return()=>nt()},[]);const T=et=>{u(et.active.id)},w=et=>{const{active:nt,over:ut}=et;if(!ut)return;const ft=nt.id,ot=ut.id;if(ft===ot)return;const R=nt.data.current?.type==="Task";ut.data.current?.type,R&&Object.keys(hg).includes(ot)},V=async et=>{u(null);const{active:nt,over:ut}=et;if(!ut)return;const ft=nt.id,ot=ut.id,R=n.find(C=>C.id===ft);if(!R)return;let A=R.status;if(Object.keys(hg).includes(ot))A=ot;else{const C=n.find(O=>O.id===ot);C&&(A=C.status)}if(R.status!==A){s(O=>O.map(D=>D.id===ft?{...D,status:A}:D));const C=Zl(ca,"tasks",ft);await yE(C,{status:A})}},K=async et=>{if(g){const nt=Zl(ca,"tasks",g.id);await yE(nt,{...et}),y(null)}else await yN(sg(ca,"tasks"),{...et,createdAt:new Date().toISOString(),assignee:"https://i.pravatar.cc/150?u="+Math.random()})},q=async et=>{confirm("Are you sure you want to delete this task?")&&await pN(Zl(ca,"tasks",et))},G=et=>{y(et),m(!0)},it=["backlog","todo","in-progress","done"];return J.jsxs("div",{className:"h-screen flex flex-row bg-gray-100 text-gray-900 font-sans overflow-hidden",children:[J.jsx(qx,{user:r,tasks:n,onSignOut:t,onNewTask:()=>{y(null),m(!0)}}),J.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[J.jsx("div",{className:"p-4 flex justify-end",children:J.jsxs("button",{onClick:()=>{confirm("Isso vai apagar dados existentes e recriar os iniciais. Continuar?")&&yx()},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-purple-700 bg-purple-100 rounded-md hover:bg-purple-200 transition-colors cursor-pointer",children:[J.jsx(OS,{className:"w-4 h-4"}),"Seed Database"]})}),J.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6",children:J.jsxs(LO,{sensors:E,collisionDetection:aS,onDragStart:T,onDragOver:w,onDragEnd:V,children:[J.jsx("div",{className:"flex gap-6 h-full min-w-max mx-auto",children:it.map(et=>J.jsx(jx,{id:et,tasks:n.filter(nt=>nt.status===et),onDeleteTask:q,onEditTask:G},et))}),J.jsx(WO,{children:o?J.jsx(xS,{task:n.find(et=>et.id===o),onDelete:()=>{},onEdit:()=>{}}):null})]})})]}),J.jsx(Bx,{isOpen:f,onClose:()=>{m(!1),y(null)},onSubmit:K,editingTask:g})]})}function Fx(){const r=async()=>{const t=new wr;try{await cC(og,t)}catch(n){console.error("Error signing in with Google",n)}};return J.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:J.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-gray-100",children:[J.jsx("div",{className:"flex justify-center mb-6",children:J.jsx("div",{className:"bg-blue-600 p-3 rounded-xl shadow-lg shadow-blue-600/20",children:J.jsx(OS,{className:"text-white",size:32})})}),J.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 tracking-tight",children:"My Projects Control Tower"}),J.jsx("p",{className:"text-gray-500 mb-8",children:"Sign in to manage your projects and tasks"}),J.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98]",children:[J.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[J.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),J.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),J.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),J.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})]})})}function Gx(){const[r,t]=B.useState(null),[n,s]=B.useState(!0);B.useEffect(()=>{const u=HR(og,f=>{t(f),s(!1)});return()=>u()},[]);const o=async()=>{try{await FR(og)}catch(u){console.error("Error signing out",u)}};return n?J.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:J.jsx(Cx,{className:"w-10 h-10 text-blue-600 animate-spin"})}):r?J.jsx(Hx,{user:r,onSignOut:o}):J.jsx(Fx,{})}_1.createRoot(document.getElementById("root")).render(J.jsx(B.StrictMode,{children:J.jsx(Gx,{})}));
