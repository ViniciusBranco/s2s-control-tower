(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function JA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _m={exports:{}},Hl={};var Y0;function ZA(){if(Y0)return Hl;Y0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var K0;function WA(){return K0||(K0=1,_m.exports=ZA()),_m.exports}var A=WA(),bm={exports:{}},we={};var X0;function ew(){if(X0)return we;X0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),w=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,q={};function Z(V,X,se){this.props=V,this.context=X,this.refs=q,this.updater=se||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ie(){}ie.prototype=Z.prototype;function ne(V,X,se){this.props=V,this.context=X,this.refs=q,this.updater=se||G}var oe=ne.prototype=new ie;oe.constructor=ne,H(oe,Z.prototype),oe.isPureReactComponent=!0;var de=Array.isArray;function ue(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(V,X,se){var le=se.ref;return{$$typeof:r,type:V,key:X,ref:le!==void 0?le:null,props:se}}function M(V,X){return I(V.type,X,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return X[se]})}var N=/\/+/g;function Te(V,X){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):X.toString(36)}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ue,ue):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,X,se,le,_e){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(ve){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case r:case e:De=!0;break;case b:return De=V._init,K(De(V._payload),X,se,le,_e)}}if(De)return _e=_e(V),De=le===""?"."+Te(V,0):le,de(_e)?(se="",De!=null&&(se=De.replace(N,"$&/")+"/"),K(_e,X,se,"",function(Ue){return Ue})):_e!=null&&(D(_e)&&(_e=M(_e,se+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+De)),X.push(_e)),1;De=0;var nt=le===""?".":le+":";if(de(V))for(var Qe=0;Qe<V.length;Qe++)le=V[Qe],ve=nt+Te(le,Qe),De+=K(le,X,se,ve,_e);else if(Qe=x(V),typeof Qe=="function")for(V=Qe.call(V),Qe=0;!(le=V.next()).done;)le=le.value,ve=nt+Te(le,Qe++),De+=K(le,X,se,ve,_e);else if(ve==="object"){if(typeof V.then=="function")return K(Me(V),X,se,le,_e);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return De}function re(V,X,se){if(V==null)return V;var le=[],_e=0;return K(V,le,"","",function(ve){return X.call(se,ve,_e++)}),le}function ge(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Ce=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},He={map:re,forEach:function(V,X,se){re(V,function(){X.apply(this,arguments)},se)},count:function(V){var X=0;return re(V,function(){X++}),X},toArray:function(V){return re(V,function(X){return X})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return we.Activity=E,we.Children=He,we.Component=Z,we.Fragment=n,we.Profiler=o,we.PureComponent=ne,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,we.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},we.cache=function(V){return function(){return V.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(V,X,se){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=H({},V.props),_e=V.key;if(X!=null)for(ve in X.key!==void 0&&(_e=""+X.key),X)!R.call(X,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&X.ref===void 0||(le[ve]=X[ve]);var ve=arguments.length-2;if(ve===1)le.children=se;else if(1<ve){for(var De=Array(ve),nt=0;nt<ve;nt++)De[nt]=arguments[nt+2];le.children=De}return I(V.type,_e,le)},we.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},we.createElement=function(V,X,se){var le,_e={},ve=null;if(X!=null)for(le in X.key!==void 0&&(ve=""+X.key),X)R.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=X[le]);var De=arguments.length-2;if(De===1)_e.children=se;else if(1<De){for(var nt=Array(De),Qe=0;Qe<De;Qe++)nt[Qe]=arguments[Qe+2];_e.children=nt}if(V&&V.defaultProps)for(le in De=V.defaultProps,De)_e[le]===void 0&&(_e[le]=De[le]);return I(V,ve,_e)},we.createRef=function(){return{current:null}},we.forwardRef=function(V){return{$$typeof:m,render:V}},we.isValidElement=D,we.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:ge}},we.memo=function(V,X){return{$$typeof:p,type:V,compare:X===void 0?null:X}},we.startTransition=function(V){var X=C.T,se={};C.T=se;try{var le=V(),_e=C.S;_e!==null&&_e(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ue,Ce)}catch(ve){Ce(ve)}finally{X!==null&&se.types!==null&&(X.types=se.types),C.T=X}},we.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},we.use=function(V){return C.H.use(V)},we.useActionState=function(V,X,se){return C.H.useActionState(V,X,se)},we.useCallback=function(V,X){return C.H.useCallback(V,X)},we.useContext=function(V){return C.H.useContext(V)},we.useDebugValue=function(){},we.useDeferredValue=function(V,X){return C.H.useDeferredValue(V,X)},we.useEffect=function(V,X){return C.H.useEffect(V,X)},we.useEffectEvent=function(V){return C.H.useEffectEvent(V)},we.useId=function(){return C.H.useId()},we.useImperativeHandle=function(V,X,se){return C.H.useImperativeHandle(V,X,se)},we.useInsertionEffect=function(V,X){return C.H.useInsertionEffect(V,X)},we.useLayoutEffect=function(V,X){return C.H.useLayoutEffect(V,X)},we.useMemo=function(V,X){return C.H.useMemo(V,X)},we.useOptimistic=function(V,X){return C.H.useOptimistic(V,X)},we.useReducer=function(V,X,se){return C.H.useReducer(V,X,se)},we.useRef=function(V){return C.H.useRef(V)},we.useState=function(V){return C.H.useState(V)},we.useSyncExternalStore=function(V,X,se){return C.H.useSyncExternalStore(V,X,se)},we.useTransition=function(){return C.H.useTransition()},we.version="19.2.0",we}var $0;function Eg(){return $0||($0=1,bm.exports=ew()),bm.exports}var j=Eg();const _t=JA(j);var Em={exports:{}},Fl={},Tm={exports:{}},Sm={};var J0;function tw(){return J0||(J0=1,(function(r){function e(K,re){var ge=K.length;K.push(re);e:for(;0<ge;){var Ce=ge-1>>>1,He=K[Ce];if(0<o(He,re))K[Ce]=re,K[ge]=He,ge=Ce;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var re=K[0],ge=K.pop();if(ge!==re){K[0]=ge;e:for(var Ce=0,He=K.length,V=He>>>1;Ce<V;){var X=2*(Ce+1)-1,se=K[X],le=X+1,_e=K[le];if(0>o(se,ge))le<He&&0>o(_e,se)?(K[Ce]=_e,K[le]=ge,Ce=le):(K[Ce]=se,K[X]=ge,Ce=X);else if(le<He&&0>o(_e,ge))K[Ce]=_e,K[le]=ge,Ce=le;else break e}}return re}function o(K,re){var ge=K.sortIndex-re.sortIndex;return ge!==0?ge:K.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],b=1,E=null,w=3,x=!1,G=!1,H=!1,q=!1,Z=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function oe(K){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=K)s(p),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(p)}}function de(K){if(H=!1,oe(K),!G)if(n(g)!==null)G=!0,ue||(ue=!0,L());else{var re=n(p);re!==null&&Me(de,re.startTime-K)}}var ue=!1,C=-1,R=5,I=-1;function M(){return q?!0:!(r.unstable_now()-I<R)}function D(){if(q=!1,ue){var K=r.unstable_now();I=K;var re=!0;try{e:{G=!1,H&&(H=!1,ie(C),C=-1),x=!0;var ge=w;try{t:{for(oe(K),E=n(g);E!==null&&!(E.expirationTime>K&&M());){var Ce=E.callback;if(typeof Ce=="function"){E.callback=null,w=E.priorityLevel;var He=Ce(E.expirationTime<=K);if(K=r.unstable_now(),typeof He=="function"){E.callback=He,oe(K),re=!0;break t}E===n(g)&&s(g),oe(K)}else s(g);E=n(g)}if(E!==null)re=!0;else{var V=n(p);V!==null&&Me(de,V.startTime-K),re=!1}}break e}finally{E=null,w=ge,x=!1}re=void 0}}finally{re?L():ue=!1}}}var L;if(typeof ne=="function")L=function(){ne(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Te=N.port2;N.port1.onmessage=D,L=function(){Te.postMessage(null)}}else L=function(){Z(D,0)};function Me(K,re){C=Z(function(){K(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var ge=w;w=re;try{return K()}finally{w=ge}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=w;w=K;try{return re()}finally{w=ge}},r.unstable_scheduleCallback=function(K,re,ge){var Ce=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ce+ge:Ce):ge=Ce,K){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ge+He,K={id:b++,callback:re,priorityLevel:K,startTime:ge,expirationTime:He,sortIndex:-1},ge>Ce?(K.sortIndex=ge,e(p,K),n(g)===null&&K===n(p)&&(H?(ie(C),C=-1):H=!0,Me(de,ge-Ce))):(K.sortIndex=He,e(g,K),G||x||(G=!0,ue||(ue=!0,L()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var re=w;return function(){var ge=w;w=re;try{return K.apply(this,arguments)}finally{w=ge}}}})(Sm)),Sm}var Z0;function nw(){return Z0||(Z0=1,Tm.exports=tw()),Tm.exports}var Am={exports:{}},pn={};var W0;function iw(){if(W0)return pn;W0=1;var r=Eg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:p,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,b)},pn.flushSync=function(g){var p=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=b,s.d.f()}},pn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},pn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},pn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,E=m(b,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:x}):b==="script"&&s.d.X(g,{crossOrigin:E,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},pn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,E=m(b,p.crossOrigin);s.d.L(g,b,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pn.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},pn.requestFormReset=function(g){s.d.r(g)},pn.unstable_batchedUpdates=function(g,p){return g(p)},pn.useFormState=function(g,p,b){return f.H.useFormState(g,p,b)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var e_;function Yb(){if(e_)return Am.exports;e_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=iw(),Am.exports}var t_;function rw(){if(t_)return Fl;t_=1;var r=nw(),e=Eg(),n=Yb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case Z:return"Profiler";case q:return"StrictMode";case de:return"Suspense";case ue:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ne:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Te(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Te(t(i))}catch{}}return null}var Me=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ce=[],He=-1;function V(t){return{current:t}}function X(t){0>He||(t.current=Ce[He],Ce[He]=null,He--)}function se(t,i){He++,Ce[He]=t.current,t.current=i}var le=V(null),_e=V(null),ve=V(null),De=V(null);function nt(t,i){switch(se(ve,i),se(_e,t),se(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?p0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=p0(i),t=y0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(le),se(le,t)}function Qe(){X(le),X(_e),X(ve)}function Ue(t){t.memoizedState!==null&&se(De,t);var i=le.current,a=y0(i,t.type);i!==a&&(se(_e,t),se(le,a))}function ni(t){_e.current===t&&(X(le),X(_e)),De.current===t&&(X(De),Pl._currentValue=ge)}var tn,zn;function Nt(t){if(tn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);tn=i&&i[1]||"",zn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+t+zn}var ii=!1;function xn(t,i){if(!t||ii)return"";ii=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var F=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){F=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){F=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var O=v.split(`
`),B=T.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===B.length)for(l=O.length-1,h=B.length-1;1<=l&&0<=h&&O[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==B[h]){var $=`
`+O[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{ii=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Nt(a):""}function jr(t,i){switch(t.tag){case 26:case 27:case 5:return Nt(t.type);case 16:return Nt("Lazy");case 13:return t.child!==i&&i!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return xn(t.type,!1);case 11:return xn(t.type.render,!1);case 1:return xn(t.type,!0);case 31:return Nt("Activity");default:return""}}function Pr(t){try{var i="",a=null;do i+=jr(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,it=r.unstable_scheduleCallback,Bn=r.unstable_cancelCallback,zr=r.unstable_shouldYield,Bs=r.unstable_requestPaint,Kt=r.unstable_now,or=r.unstable_getCurrentPriorityLevel,qs=r.unstable_ImmediatePriority,ri=r.unstable_UserBlockingPriority,En=r.unstable_NormalPriority,lr=r.unstable_LowPriority,Hs=r.unstable_IdlePriority,qn=r.log,Fs=r.unstable_setDisableYieldValue,Hn=null,Ft=null;function fn(t){if(typeof qn=="function"&&Fs(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Hn,t)}catch{}}var mt=Math.clz32?Math.clz32:Na,Ia=Math.log,ur=Math.LN2;function Na(t){return t>>>=0,t===0?32:31-(Ia(t)/ur|0)|0}var si=256,cr=262144,Ve=4194304;function gt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pt(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=gt(l):(v&=T,v!==0?h=gt(v):a||(a=T&~t,a!==0&&(h=gt(a))))):(T=l&~d,T!==0?h=gt(T):v!==0?h=gt(v):a||(a=l&~t,a!==0&&(h=gt(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Dt(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function dn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xt(){var t=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),t}function St(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function In(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function At(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-mt(a),W=1<<$;T[$]=0,O[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var Y=F[$];Y!==null&&(Y.lane&=-536870913)}a&=~W}l!==0&&mn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function mn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function gn(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Tn(t,i){var a=i&-i;return a=(a&42)!==0?1:Fn(a),(a&(t.suspendedLanes|i))!==0?0:a}function Fn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gn(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:z0(t.type))}function nn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var An=Math.random().toString(36).slice(2),Ot="__reactFiber$"+An,$t="__reactProps$"+An,Li="__reactContainer$"+An,Da="__reactEvents$"+An,wf="__reactListeners$"+An,Vu="__reactHandles$"+An,ku="__reactResources$"+An,Ui="__reactMarker$"+An;function Oa(t){delete t[Ot],delete t[$t],delete t[Da],delete t[wf],delete t[Vu]}function ji(t){var i=t[Ot];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Li]||a[Ot]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=A0(t);t!==null;){if(a=t[Ot])return a;t=A0(t)}return i}t=a,a=t.parentNode}return null}function ai(t){if(t=t[Ot]||t[Li]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Qn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Pi(t){var i=t[ku];return i||(i=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Mt(t){t[Ui]=!0}var Qo=new Set,Yo={};function zi(t,i){Bi(t,i),Bi(t+"Capture",i)}function Bi(t,i){for(Yo[t]=i,t=0;t<i.length;t++)Qo.add(i[t])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},$o={};function Lu(t){return dt.call($o,t)?!0:dt.call(Xo,t)?!1:Ko.test(t)?$o[t]=!0:(Xo[t]=!0,!1)}function Ma(t,i,a){if(Lu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Vt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Br(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function We(t){if(!t._valueTracker){var i=Br(t)?"checked":"value";t._valueTracker=Jo(t,i,""+t[i])}}function Gs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Br(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function qi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qs=/[\n"\\]/g;function Nn(t){return t.replace(Qs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Va(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Zo(t,v,Jt(i)):a!=null?Zo(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function Uu(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){We(t);return}a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),We(t)}function Zo(t,i,a){i==="number"&&qi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ju(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function Hr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),We(t)}function Dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Pu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function el(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Wo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Wo(t,d,i[d])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(t){return Fr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ei(){}var tl=null;function oi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gr=null,Hi=null;function Ys(t){var i=ai(t);if(i&&(t=i.stateNode)){var a=t[$t]||null;e:switch(t=i.stateNode,i.type){case"input":if(Va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[$t]||null;if(!h)throw Error(s(90));Va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Gs(l)}break e;case"textarea":ju(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&qr(t,!!a.multiple,i,!1)}}}var Ua=!1;function Qr(t,i,a){if(Ua)return t(i,a);Ua=!0;try{var l=t(i);return l}finally{if(Ua=!1,(Gr!==null||Hi!==null)&&(Mc(),Gr&&(i=Gr,t=Hi,Hi=Gr=null,Ys(i),t)))for(i=0;i<t.length;i++)Ys(t[i])}}function Ti(t,i){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(li)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Ks=!1}var Fi=null,nl=null,Xs=null;function il(){if(Xs)return Xs;var t,i=nl,a=i.length,l,h="value"in Fi?Fi.value:Fi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Xs=h.slice(t,1<l?1-l:void 0)}function $s(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hr(){return!0}function Si(){return!1}function rn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hr:Si,this.isPropagationStopped=Si,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),i}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=rn(fr),Yr=E({},fr,{view:0,detail:0}),rl=rn(Yr),Kr,ja,Qi,Pa=E({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(Kr=t.screenX-Qi.screenX,ja=t.screenY-Qi.screenY):ja=Kr=0,Qi=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),sl=rn(Pa),Js=E({},Pa,{dataTransfer:0}),Bu=rn(Js),qu=E({},Yr,{relatedTarget:0}),Zs=rn(qu),al=E({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=rn(al),za=E({},fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fu=rn(za),Gu=E({},fr,{data:0}),Yi=rn(Gu),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ku[t])?!!i[t]:!1}function Xr(){return Xu}var wn=E({},Yr,{key:function(t){if(t.key){var i=Qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=rn(wn),Ju=E({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=rn(Ju),c=E({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),y=rn(c),_=E({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=rn(_),P=E({},Pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=rn(P),ae=E({},fr,{newState:0,oldState:0}),xe=rn(ae),wt=[9,13,27,32],$e=li&&"CompositionEvent"in window,yt=null;li&&"documentMode"in document&&(yt=document.documentMode);var ui=li&&"TextEvent"in window&&!yt,Ki=li&&(!$e||yt&&8<yt&&11>=yt),Ai=" ",wi=!1;function Ws(t,i){switch(t){case"keyup":return wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function ES(t,i){switch(t){case"compositionend":return Ba(i);case"keypress":return i.which!==32?null:(wi=!0,Ai);case"textInput":return t=i.data,t===Ai&&wi?null:t;default:return null}}function TS(t,i){if(qa)return t==="compositionend"||!$e&&Ws(t,i)?(t=il(),Xs=nl=Fi=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ki&&i.locale!=="ko"?null:i.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!SS[t.type]:i==="textarea"}function xp(t,i,a,l){Gr?Hi?Hi.push(l):Hi=[l]:Gr=l,i=zc(i,"onChange"),0<i.length&&(a=new Gi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ol=null,ll=null;function AS(t){c0(t,0)}function Zu(t){var i=Qn(t);if(Gs(i))return t}function Ip(t,i){if(t==="change")return i}var Np=!1;if(li){var Rf;if(li){var Cf="oninput"in document;if(!Cf){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Cf=typeof Dp.oninput=="function"}Rf=Cf}else Rf=!1;Np=Rf&&(!document.documentMode||9<document.documentMode)}function Op(){ol&&(ol.detachEvent("onpropertychange",Mp),ll=ol=null)}function Mp(t){if(t.propertyName==="value"&&Zu(ll)){var i=[];xp(i,ll,t,oi(t)),Qr(AS,i)}}function wS(t,i,a){t==="focusin"?(Op(),ol=i,ll=a,ol.attachEvent("onpropertychange",Mp)):t==="focusout"&&Op()}function RS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(ll)}function CS(t,i){if(t==="click")return Zu(i)}function xS(t,i){if(t==="input"||t==="change")return Zu(i)}function IS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Kn=typeof Object.is=="function"?Object.is:IS;function ul(t,i){if(Kn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!dt.call(i,h)||!Kn(t[h],i[h]))return!1}return!0}function Vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kp(t,i){var a=Vp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vp(a)}}function Lp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=qi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=qi(t.document)}return i}function xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var NS=li&&"documentMode"in document&&11>=document.documentMode,Ha=null,If=null,cl=null,Nf=!1;function jp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||Ha==null||Ha!==qi(l)||(l=Ha,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=zc(If,"onSelect"),0<l.length&&(i=new Gi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ha)))}function ea(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Fa={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Df={},Pp={};li&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function ta(t){if(Df[t])return Df[t];if(!Fa[t])return t;var i=Fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pp)return Df[t]=i[a];return t}var zp=ta("animationend"),Bp=ta("animationiteration"),qp=ta("animationstart"),DS=ta("transitionrun"),OS=ta("transitionstart"),MS=ta("transitioncancel"),Hp=ta("transitionend"),Fp=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function Ri(t,i){Fp.set(t,i),zi(i,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ci=[],Ga=0,Mf=0;function ec(){for(var t=Ga,i=Mf=Ga=0;i<t;){var a=ci[i];ci[i++]=null;var l=ci[i];ci[i++]=null;var h=ci[i];ci[i++]=null;var d=ci[i];if(ci[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Gp(a,h,d)}}function tc(t,i,a,l){ci[Ga++]=t,ci[Ga++]=i,ci[Ga++]=a,ci[Ga++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,i,a,l){return tc(t,i,a,l),nc(t)}function na(t,i){return tc(t,null,null,i),nc(t)}function Gp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function nc(t){if(50<Ol)throw Ol=0,Hd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qa={};function VS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,i,a,l){return new VS(t,i,a,l)}function kf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mr(t,i){var a=t.alternate;return a===null?(a=Xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ic(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")kf(t)&&(v=1);else if(typeof t=="string")v=PA(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Xn(31,a,i,h),t.elementType=I,t.lanes=d,t;case H:return ia(a.children,h,d,i);case q:v=8,h|=24;break;case Z:return t=Xn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case de:return t=Xn(13,a,i,h),t.elementType=de,t.lanes=d,t;case ue:return t=Xn(19,a,i,h),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:v=10;break e;case ie:v=9;break e;case oe:v=11;break e;case C:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Xn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ia(t,i,a,l){return t=Xn(7,t,l,i),t.lanes=a,t}function Lf(t,i,a){return t=Xn(6,t,null,i),t.lanes=a,t}function Yp(t){var i=Xn(18,null,null,0);return i.stateNode=t,i}function Uf(t,i,a){return i=Xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Kp=new WeakMap;function hi(t,i){if(typeof t=="object"&&t!==null){var a=Kp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Pr(i)},Kp.set(t,i),i)}return{value:t,source:i,stack:Pr(i)}}var Ya=[],Ka=0,rc=null,hl=0,fi=[],di=0,$r=null,Xi=1,$i="";function gr(t,i){Ya[Ka++]=hl,Ya[Ka++]=rc,rc=t,hl=i}function Xp(t,i,a){fi[di++]=Xi,fi[di++]=$i,fi[di++]=$r,$r=t;var l=Xi;t=$i;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Xi=1<<32-mt(i)+h|a<<h|l,$i=d+t}else Xi=1<<d|a<<h|l,$i=t}function jf(t){t.return!==null&&(gr(t,1),Xp(t,1,0))}function Pf(t){for(;t===rc;)rc=Ya[--Ka],Ya[Ka]=null,hl=Ya[--Ka],Ya[Ka]=null;for(;t===$r;)$r=fi[--di],fi[di]=null,$i=fi[--di],fi[di]=null,Xi=fi[--di],fi[di]=null}function $p(t,i){fi[di++]=Xi,fi[di++]=$i,fi[di++]=$r,Xi=i.id,$i=i.overflow,$r=t}var sn=null,ct=null,Fe=!1,Jr=null,mi=!1,zf=Error(s(519));function Zr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(hi(i,t)),zf}function Jp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ot]=t,i[$t]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Le(Vl[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Uu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Hr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||m0(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=Ei),i=!0):i=!1,i||Zr(t,!0)}function Zp(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:sn=sn.return}}function Xa(t){if(t!==sn)return!1;if(!Fe)return Zp(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rm(t.type,t.memoizedProps)),a=!a),a&&ct&&Zr(t),Zp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=S0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=S0(t)}else i===27?(i=ct,fs(t.type)?(t=um,um=null,ct=t):ct=i):ct=sn?pi(t.stateNode.nextSibling):null;return!0}function ra(){ct=sn=null,Fe=!1}function Bf(){var t=Jr;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),Jr=null),t}function fl(t){Jr===null?Jr=[t]:Jr.push(t)}var qf=V(null),sa=null,pr=null;function Wr(t,i,a){se(qf,i._currentValue),i._currentValue=a}function yr(t){t._currentValue=qf.current,X(qf)}function Hf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ff(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var O=0;O<i.length;O++)if(T.context===i[O]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Hf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Hf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $a(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;Kn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&Ff(i,t,a,l),i.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!Kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){sa=t,pr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Wp(sa,t)}function ac(t,i){return sa===null&&aa(t),Wp(t,i)}function Wp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},pr===null){if(t===null)throw Error(s(308));pr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else pr=pr.next=i;return a}var kS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},LS=r.unstable_scheduleCallback,US=r.unstable_NormalPriority,kt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new kS,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&LS(US,function(){t.controller.abort()})}var ml=null,Qf=0,Ja=0,Za=null;function jS(t,i){if(ml===null){var a=ml=[];Qf=0,Ja=Xd(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,i.then(ey,ey),i}function ey(){if(--Qf===0&&ml!==null){Za!==null&&(Za.status="fulfilled");var t=ml;ml=null,Ja=0,Za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function PS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ty=K.S;K.S=function(t,i){jv=Kt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jS(t,i),ty!==null&&ty(t,i)};var oa=V(null);function Yf(){var t=oa.current;return t!==null?t:lt.pooledCache}function oc(t,i){i===null?se(oa,oa.current):se(oa,i.pool)}function ny(){var t=Yf();return t===null?null:{parent:kt._currentValue,pool:t}}var Wa=Error(s(460)),Kf=Error(s(474)),lc=Error(s(542)),uc={then:function(){}};function iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ry(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ei,Ei),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ay(t),t;default:if(typeof i.status=="string")i.then(Ei,Ei);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ay(t),t}throw ua=i,Wa}}function la(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ua=a,Wa):a}}var ua=null;function sy(){if(ua===null)throw Error(s(459));var t=ua;return ua=null,t}function ay(t){if(t===Wa||t===lc)throw Error(s(483))}var eo=null,gl=0;function cc(t){var i=gl;return gl+=1,eo===null&&(eo=[]),ry(eo,t,i)}function pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function hc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function oy(t){function i(U,k){if(t){var z=U.deletions;z===null?(U.deletions=[k],U.flags|=16):z.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=mr(U,k),U.index=0,U.sibling=null,U}function d(U,k,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<k?(U.flags|=67108866,k):z):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,k,z,J){return k===null||k.tag!==6?(k=Lf(z,U.mode,J),k.return=U,k):(k=h(k,z),k.return=U,k)}function O(U,k,z,J){var pe=z.type;return pe===H?$(U,k,z.props.children,J,z.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&la(pe)===k.type)?(k=h(k,z.props),pl(k,z),k.return=U,k):(k=ic(z.type,z.key,z.props,null,U.mode,J),pl(k,z),k.return=U,k)}function B(U,k,z,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Uf(z,U.mode,J),k.return=U,k):(k=h(k,z.children||[]),k.return=U,k)}function $(U,k,z,J,pe){return k===null||k.tag!==7?(k=ia(z,U.mode,J,pe),k.return=U,k):(k=h(k,z),k.return=U,k)}function W(U,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Lf(""+k,U.mode,z),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return z=ic(k.type,k.key,k.props,null,U.mode,z),pl(z,k),z.return=U,z;case G:return k=Uf(k,U.mode,z),k.return=U,k;case R:return k=la(k),W(U,k,z)}if(Me(k)||L(k))return k=ia(k,U.mode,z,null),k.return=U,k;if(typeof k.then=="function")return W(U,cc(k),z);if(k.$$typeof===ne)return W(U,ac(U,k),z);hc(U,k)}return null}function F(U,k,z,J){var pe=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:T(U,k,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===pe?O(U,k,z,J):null;case G:return z.key===pe?B(U,k,z,J):null;case R:return z=la(z),F(U,k,z,J)}if(Me(z)||L(z))return pe!==null?null:$(U,k,z,J,null);if(typeof z.then=="function")return F(U,k,cc(z),J);if(z.$$typeof===ne)return F(U,k,ac(U,z),J);hc(U,z)}return null}function Y(U,k,z,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(z)||null,T(k,U,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return U=U.get(J.key===null?z:J.key)||null,O(k,U,J,pe);case G:return U=U.get(J.key===null?z:J.key)||null,B(k,U,J,pe);case R:return J=la(J),Y(U,k,z,J,pe)}if(Me(J)||L(J))return U=U.get(z)||null,$(k,U,J,pe,null);if(typeof J.then=="function")return Y(U,k,z,cc(J),pe);if(J.$$typeof===ne)return Y(U,k,z,ac(k,J),pe);hc(k,J)}return null}function fe(U,k,z,J){for(var pe=null,Ke=null,me=k,Ne=k=0,Pe=null;me!==null&&Ne<z.length;Ne++){me.index>Ne?(Pe=me,me=null):Pe=me.sibling;var Xe=F(U,me,z[Ne],J);if(Xe===null){me===null&&(me=Pe);break}t&&me&&Xe.alternate===null&&i(U,me),k=d(Xe,k,Ne),Ke===null?pe=Xe:Ke.sibling=Xe,Ke=Xe,me=Pe}if(Ne===z.length)return a(U,me),Fe&&gr(U,Ne),pe;if(me===null){for(;Ne<z.length;Ne++)me=W(U,z[Ne],J),me!==null&&(k=d(me,k,Ne),Ke===null?pe=me:Ke.sibling=me,Ke=me);return Fe&&gr(U,Ne),pe}for(me=l(me);Ne<z.length;Ne++)Pe=Y(me,U,Ne,z[Ne],J),Pe!==null&&(t&&Pe.alternate!==null&&me.delete(Pe.key===null?Ne:Pe.key),k=d(Pe,k,Ne),Ke===null?pe=Pe:Ke.sibling=Pe,Ke=Pe);return t&&me.forEach(function(ys){return i(U,ys)}),Fe&&gr(U,Ne),pe}function be(U,k,z,J){if(z==null)throw Error(s(151));for(var pe=null,Ke=null,me=k,Ne=k=0,Pe=null,Xe=z.next();me!==null&&!Xe.done;Ne++,Xe=z.next()){me.index>Ne?(Pe=me,me=null):Pe=me.sibling;var ys=F(U,me,Xe.value,J);if(ys===null){me===null&&(me=Pe);break}t&&me&&ys.alternate===null&&i(U,me),k=d(ys,k,Ne),Ke===null?pe=ys:Ke.sibling=ys,Ke=ys,me=Pe}if(Xe.done)return a(U,me),Fe&&gr(U,Ne),pe;if(me===null){for(;!Xe.done;Ne++,Xe=z.next())Xe=W(U,Xe.value,J),Xe!==null&&(k=d(Xe,k,Ne),Ke===null?pe=Xe:Ke.sibling=Xe,Ke=Xe);return Fe&&gr(U,Ne),pe}for(me=l(me);!Xe.done;Ne++,Xe=z.next())Xe=Y(me,U,Ne,Xe.value,J),Xe!==null&&(t&&Xe.alternate!==null&&me.delete(Xe.key===null?Ne:Xe.key),k=d(Xe,k,Ne),Ke===null?pe=Xe:Ke.sibling=Xe,Ke=Xe);return t&&me.forEach(function($A){return i(U,$A)}),Fe&&gr(U,Ne),pe}function ot(U,k,z,J){if(typeof z=="object"&&z!==null&&z.type===H&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:e:{for(var pe=z.key;k!==null;){if(k.key===pe){if(pe=z.type,pe===H){if(k.tag===7){a(U,k.sibling),J=h(k,z.props.children),J.return=U,U=J;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&la(pe)===k.type){a(U,k.sibling),J=h(k,z.props),pl(J,z),J.return=U,U=J;break e}a(U,k);break}else i(U,k);k=k.sibling}z.type===H?(J=ia(z.props.children,U.mode,J,z.key),J.return=U,U=J):(J=ic(z.type,z.key,z.props,null,U.mode,J),pl(J,z),J.return=U,U=J)}return v(U);case G:e:{for(pe=z.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(U,k.sibling),J=h(k,z.children||[]),J.return=U,U=J;break e}else{a(U,k);break}else i(U,k);k=k.sibling}J=Uf(z,U.mode,J),J.return=U,U=J}return v(U);case R:return z=la(z),ot(U,k,z,J)}if(Me(z))return fe(U,k,z,J);if(L(z)){if(pe=L(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),be(U,k,z,J)}if(typeof z.then=="function")return ot(U,k,cc(z),J);if(z.$$typeof===ne)return ot(U,k,ac(U,z),J);hc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(U,k.sibling),J=h(k,z),J.return=U,U=J):(a(U,k),J=Lf(z,U.mode,J),J.return=U,U=J),v(U)):a(U,k)}return function(U,k,z,J){try{gl=0;var pe=ot(U,k,z,J);return eo=null,pe}catch(me){if(me===Wa||me===lc)throw me;var Ke=Xn(29,me,null,U.mode);return Ke.lanes=J,Ke.return=U,Ke}finally{}}}var ca=oy(!0),ly=oy(!1),es=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ns(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=nc(t),Gp(t,null,a),i}return tc(t,l,i,a),nc(t)}function yl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gn(t,a)}}function Jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Zf=!1;function vl(){if(Zf){var t=Za;if(t!==null)throw t}}function _l(t,i,a,l){Zf=!1;var h=t.updateQueue;es=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var O=T,B=O.next;O.next=null,v===null?d=B:v.next=B,v=O;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=B:T.next=B,$.lastBaseUpdate=O))}if(d!==null){var W=h.baseState;v=0,$=B=O=null,T=d;do{var F=T.lane&-536870913,Y=F!==T.lane;if(Y?(je&F)===F:(l&F)===F){F!==0&&F===Ja&&(Zf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,be=T;F=i;var ot=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){W=fe.call(ot,W,F);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,F=typeof fe=="function"?fe.call(ot,W,F):fe,F==null)break e;W=E({},W,F);break e;case 2:es=!0}}F=T.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(B=$=Y,O=W):$=$.next=Y,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(O=W),h.baseState=O,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),os|=v,t.lanes=v,t.memoizedState=W}}function uy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function cy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)uy(a[t],i)}var to=V(null),fc=V(0);function hy(t,i){t=Rr,se(fc,t),se(to,i),Rr=t|i.baseLanes}function Wf(){se(fc,Rr),se(to,to.current)}function ed(){Rr=fc.current,X(to),X(fc)}var $n=V(null),gi=null;function is(t){var i=t.alternate;se(Rt,Rt.current&1),se($n,t),gi===null&&(i===null||to.current!==null||i.memoizedState!==null)&&(gi=t)}function td(t){se(Rt,Rt.current),se($n,t),gi===null&&(gi=t)}function fy(t){t.tag===22?(se(Rt,Rt.current),se($n,t),gi===null&&(gi=t)):rs()}function rs(){se(Rt,Rt.current),se($n,$n.current)}function Jn(t){X($n),gi===t&&(gi=null),X(Rt)}var Rt=V(0);function dc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||om(a)||lm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var vr=0,Ie=null,st=null,Lt=null,mc=!1,no=!1,ha=!1,gc=0,bl=0,io=null,zS=0;function Et(){throw Error(s(321))}function nd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Kn(t[a],i[a]))return!1;return!0}function id(t,i,a,l,h,d){return vr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Xy:vd,ha=!1,d=a(l,h),ha=!1,no&&(d=my(i,a,l,h)),dy(t),d}function dy(t){K.H=Sl;var i=st!==null&&st.next!==null;if(vr=0,Lt=st=Ie=null,mc=!1,bl=0,io=null,i)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&sc(t)&&(Ut=!0))}function my(t,i,a,l){Ie=t;var h=0;do{if(no&&(io=null),bl=0,no=!1,25<=h)throw Error(s(301));if(h+=1,Lt=st=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=$y,d=i(a,l)}while(no);return d}function BS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ie.flags|=1024),i}function rd(){var t=gc!==0;return gc=0,t}function sd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ad(t){if(mc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}mc=!1}vr=0,Lt=st=Ie=null,no=!1,bl=gc=0,io=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ie.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Ct(){if(st===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var i=Lt===null?Ie.memoizedState:Lt.next;if(i!==null)Lt=i,st=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Lt===null?Ie.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=bl;return bl+=1,io===null&&(io=[]),t=ry(io,t,i),i=Ie,(Lt===null?i.memoizedState:Lt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Xy:vd),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===ne)return an(t)}throw Error(s(438,String(t)))}function od(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function _r(t,i){return typeof i=="function"?i(t):i}function vc(t){var i=Ct();return ld(i,st,t)}function ld(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,O=null,B=i,$=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(je&W)===W:(vr&W)===W){var F=B.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Ja&&($=!0);else if((vr&F)===F){B=B.next,F===Ja&&($=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(T=O=W,v=d):O=O.next=W,Ie.lanes|=F,os|=F;W=B.action,ha&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else F={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(T=O=F,v=d):O=O.next=F,Ie.lanes|=W,os|=W;B=B.next}while(B!==null&&B!==i);if(O===null?v=d:O.next=T,!Kn(d,t.memoizedState)&&(Ut=!0,$&&(a=Za,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ud(t){var i=Ct(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Kn(d,i.memoizedState)||(Ut=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function gy(t,i,a){var l=Ie,h=Ct(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Kn((st||h).memoizedState,a);if(v&&(h.memoizedState=a,Ut=!0),h=h.queue,fd(vy.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,ro(9,{destroy:void 0},yy.bind(null,l,h,a,i),null),lt===null)throw Error(s(349));d||(vr&127)!==0||py(l,i,a)}return a}function py(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=pc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function yy(t,i,a,l){i.value=a,i.getSnapshot=l,_y(i)&&by(t)}function vy(t,i,a){return a(function(){_y(i)&&by(t)})}function _y(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Kn(t,a)}catch{return!0}}function by(t){var i=na(t,2);i!==null&&Ln(i,t,2)}function cd(t){var i=Rn();if(typeof t=="function"){var a=t;if(t=a(),ha){fn(!0);try{a()}finally{fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:t},i}function Ey(t,i,a,l){return t.baseState=a,ld(t,st,typeof l=="function"?l:_r)}function qS(t,i,a,l,h){if(Ec(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),O=K.S;O!==null&&O(v,T),Sy(t,i,T)}catch(B){hd(t,i,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),K.T=d}}else try{d=a(h,l),Sy(t,i,d)}catch(B){hd(t,i,B)}}function Sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ay(t,i,l)},function(l){return hd(t,i,l)}):Ay(t,i,a)}function Ay(t,i,a){i.status="fulfilled",i.value=a,wy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ty(t,a)))}function hd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,wy(i),i=i.next;while(i!==l)}t.action=null}function wy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ry(t,i){return i}function Cy(t,i){if(Fe){var a=lt.formState;if(a!==null){e:{var l=Ie;if(Fe){if(ct){t:{for(var h=ct,d=mi;h.nodeType!==8;){if(!d){h=null;break t}if(h=pi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=pi(h.nextSibling),l=h.data==="F!";break e}}Zr(l)}l=!1}l&&(i=a[0])}}return a=Rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:i},a.queue=l,a=Qy.bind(null,Ie,l),l.dispatch=a,l=cd(!1),d=yd.bind(null,Ie,!1,l.queue),l=Rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=qS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function xy(t){var i=Ct();return Iy(i,st,t)}function Iy(t,i,a){if(i=ld(t,i,Ry)[0],t=vc(_r)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(v){throw v===Wa?lc:v}else l=i;i=Ct();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,ro(9,{destroy:void 0},HS.bind(null,h,a),null)),[l,d,t]}function HS(t,i){t.action=i}function Ny(t){var i=Ct(),a=st;if(a!==null)return Iy(i,a,t);Ct(),i=i.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ro(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=pc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Dy(){return Ct().memoizedState}function _c(t,i,a,l){var h=Rn();Ie.flags|=t,h.memoizedState=ro(1|i,{destroy:void 0},a,l===void 0?null:l)}function bc(t,i,a,l){var h=Ct();l=l===void 0?null:l;var d=h.memoizedState.inst;st!==null&&l!==null&&nd(l,st.memoizedState.deps)?h.memoizedState=ro(i,d,a,l):(Ie.flags|=t,h.memoizedState=ro(1|i,d,a,l))}function Oy(t,i){_c(8390656,8,t,i)}function fd(t,i){bc(2048,8,t,i)}function FS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=pc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function My(t){var i=Ct().memoizedState;return FS({ref:i,nextImpl:t}),function(){if((Je&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Vy(t,i){return bc(4,2,t,i)}function ky(t,i){return bc(4,4,t,i)}function Ly(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Uy(t,i,a){a=a!=null?a.concat([t]):null,bc(4,4,Ly.bind(null,i,t),a)}function dd(){}function jy(t,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&nd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Py(t,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&nd(i,l[1]))return l[0];if(l=t(),ha){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l}function md(t,i,a){return a===void 0||(vr&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=zv(),Ie.lanes|=t,os|=t,a)}function zy(t,i,a,l){return Kn(a,i)?a:to.current!==null?(t=md(t,a,l),Kn(t,i)||(Ut=!0),t):(vr&42)===0||(vr&1073741824)!==0&&(je&261930)===0?(Ut=!0,t.memoizedState=a):(t=zv(),Ie.lanes|=t,os|=t,i)}function By(t,i,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,yd(t,!1,i,a);try{var O=h(),B=K.S;if(B!==null&&B(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=PS(O,l);Tl(t,i,$,ei(t))}else Tl(t,i,l,ei(t))}catch(W){Tl(t,i,{then:function(){},status:"rejected",reason:W},ei())}finally{re.p=d,v!==null&&T.types!==null&&(v.types=T.types),K.T=v}}function GS(){}function gd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=qy(t).queue;By(t,h,i,ge,a===null?GS:function(){return Hy(t),a(l)})}function qy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Hy(t){var i=qy(t);i.next===null&&(i=t.alternate.memoizedState),Tl(t,i.next.queue,{},ei())}function pd(){return an(Pl)}function Fy(){return Ct().memoizedState}function Gy(){return Ct().memoizedState}function QS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=ei();t=ts(a);var l=ns(i,t,a);l!==null&&(Ln(l,i,a),yl(l,i,a)),i={cache:Gf()},t.payload=i;return}i=i.return}}function YS(t,i,a){var l=ei();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?Yy(i,a):(a=Vf(t,i,a,l),a!==null&&(Ln(a,t,l),Ky(a,i,l)))}function Qy(t,i,a){var l=ei();Tl(t,i,a,l)}function Tl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))Yy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,Kn(T,v))return tc(t,i,h,0),lt===null&&ec(),!1}catch{}finally{}if(a=Vf(t,i,h,l),a!==null)return Ln(a,t,l),Ky(a,i,l),!0}return!1}function yd(t,i,a,l){if(l={lane:2,revertLane:Xd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(i)throw Error(s(479))}else i=Vf(t,a,l,2),i!==null&&Ln(i,t,2)}function Ec(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Yy(t,i){no=mc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ky(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gn(t,a)}}var Sl={readContext:an,use:yc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Sl.useEffectEvent=Et;var Xy={readContext:an,use:yc,useCallback:function(t,i){return Rn().memoizedState=[t,i===void 0?null:i],t},useContext:an,useEffect:Oy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,_c(4194308,4,Ly.bind(null,i,t),a)},useLayoutEffect:function(t,i){return _c(4194308,4,t,i)},useInsertionEffect:function(t,i){_c(4,2,t,i)},useMemo:function(t,i){var a=Rn();i=i===void 0?null:i;var l=t();if(ha){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Rn();if(a!==void 0){var h=a(i);if(ha){fn(!0);try{a(i)}finally{fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=YS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=Rn();return t={current:t},i.memoizedState=t},useState:function(t){t=cd(t);var i=t.queue,a=Qy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(t,i){var a=Rn();return md(a,t,i)},useTransition:function(){var t=cd(!1);return t=By.bind(null,Ie,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=Rn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),lt===null)throw Error(s(349));(je&127)!==0||py(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Oy(vy.bind(null,l,d,t),[t]),l.flags|=2048,ro(9,{destroy:void 0},yy.bind(null,l,d,a,i),null),a},useId:function(){var t=Rn(),i=lt.identifierPrefix;if(Fe){var a=$i,l=Xi;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=gc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:Cy,useActionState:Cy,useOptimistic:function(t){var i=Rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:od,useCacheRefresh:function(){return Rn().memoizedState=QS.bind(null,Ie)},useEffectEvent:function(t){var i=Rn(),a={impl:t};return i.memoizedState=a,function(){if((Je&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},vd={readContext:an,use:yc,useCallback:jy,useContext:an,useEffect:fd,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:ky,useMemo:Py,useReducer:vc,useRef:Dy,useState:function(){return vc(_r)},useDebugValue:dd,useDeferredValue:function(t,i){var a=Ct();return zy(a,st.memoizedState,t,i)},useTransition:function(){var t=vc(_r)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:gy,useId:Fy,useHostTransitionStatus:pd,useFormState:xy,useActionState:xy,useOptimistic:function(t,i){var a=Ct();return Ey(a,st,t,i)},useMemoCache:od,useCacheRefresh:Gy};vd.useEffectEvent=My;var $y={readContext:an,use:yc,useCallback:jy,useContext:an,useEffect:fd,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:ky,useMemo:Py,useReducer:ud,useRef:Dy,useState:function(){return ud(_r)},useDebugValue:dd,useDeferredValue:function(t,i){var a=Ct();return st===null?md(a,t,i):zy(a,st.memoizedState,t,i)},useTransition:function(){var t=ud(_r)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:gy,useId:Fy,useHostTransitionStatus:pd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,i){var a=Ct();return st!==null?Ey(a,st,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:Gy};$y.useEffectEvent=My;function _d(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=ei(),h=ts(l);h.payload=i,a!=null&&(h.callback=a),i=ns(t,h,l),i!==null&&(Ln(i,t,l),yl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=ei(),h=ts(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ns(t,h,l),i!==null&&(Ln(i,t,l),yl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=ei(),l=ts(a);l.tag=2,i!=null&&(l.callback=i),i=ns(t,l,a),i!==null&&(Ln(i,t,a),yl(i,t,a))}};function Jy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!ul(a,l)||!ul(h,d):!0}function Zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&bd.enqueueReplaceState(i,i.state,null)}function fa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Wy(t){Wu(t)}function ev(t){console.error(t)}function tv(t){Wu(t)}function Tc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function nv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=ts(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,i)},a}function iv(t){return t=ts(t),t.tag=3,t}function rv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){nv(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){nv(i,a,l),typeof h!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function KS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&$a(i,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 31:case 13:return gi===null?Vc():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Qd(t,l,h)),!1;case 22:return a.flags|=65536,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Qd(t,l,h)),!1}throw Error(s(435,a.tag))}return Qd(t,l,h),Vc(),!1}if(Fe)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),fl(hi(t,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),fl(hi(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=hi(l,a),h=Ed(t.stateNode,l,h),Jf(t,h),Tt!==4&&(Tt=2)),!1;var d=Error(s(520),{cause:l});if(d=hi(d,a),Dl===null?Dl=[d]:Dl.push(d),Tt!==4&&(Tt=2),i===null)return!0;l=hi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),Jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ls===null||!ls.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=iv(h),rv(h,t,a,l),Jf(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),Ut=!1;function on(t,i,a,l){i.child=t===null?ly(i,null,a,l):ca(i,t.child,a,l)}function sv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return aa(i),l=id(t,i,a,v,d,h),T=rd(),t!==null&&!Ut?(sd(t,i,h),br(t,i,h)):(Fe&&T&&jf(i),i.flags|=1,on(t,i,l,h),i.child)}function av(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!kf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ov(t,i,d,l,h)):(t=ic(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Nd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(v,l)&&t.ref===i.ref)return br(t,i,h)}return i.flags|=1,t=mr(d,l),t.ref=i.ref,t.return=i,i.child=t}function ov(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(ul(d,l)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=l=d,Nd(t,h))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,br(t,i,h)}return Sd(t,i,a,l,h)}function lv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return uv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(i,d!==null?d.cachePool:null),d!==null?hy(i,d):Wf(),fy(i);else return l=i.lanes=536870912,uv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oc(i,d.cachePool),hy(i,d),rs(),i.memoizedState=null):(t!==null&&oc(i,null),Wf(),rs());return on(t,i,h,a),i.child}function Al(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function uv(t,i,a,l,h){var d=Yf();return d=d===null?null:{parent:kt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&oc(i,null),Wf(),fy(i),t!==null&&$a(t,i,l,!0),i.childLanes=h,null}function Sc(t,i){return i=wc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function cv(t,i,a){return ca(i,t.child,null,a),t=Sc(i,i.pendingProps),t.flags|=2,Jn(i),i.memoizedState=null,t}function XS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Sc(i,l),i.lanes=536870912,Al(null,t);if(td(i),(t=ct)?(t=T0(t,mi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:$r!==null?{id:Xi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=Yp(t),a.return=i,i.child=a,sn=i,ct=null)):t=null,t===null)throw Zr(i);return i.lanes=536870912,null}return Sc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(td(i),h)if(i.flags&256)i.flags&=-257,i=cv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ut||$a(t,i,a,!1),h=(a&t.childLanes)!==0,Ut||h){if(l=lt,l!==null&&(v=Tn(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,na(t,v),Ln(l,t,v),Td;Vc(),i=cv(t,i,a)}else t=d.treeContext,ct=pi(v.nextSibling),sn=i,Fe=!0,Jr=null,mi=!1,t!==null&&$p(i,t),i=Sc(i,l),i.flags|=4096;return i}return t=mr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Sd(t,i,a,l,h){return aa(i),a=id(t,i,a,l,void 0,h),l=rd(),t!==null&&!Ut?(sd(t,i,h),br(t,i,h)):(Fe&&l&&jf(i),i.flags|=1,on(t,i,a,h),i.child)}function hv(t,i,a,l,h,d){return aa(i),i.updateQueue=null,a=my(i,l,a,h),dy(t),l=rd(),t!==null&&!Ut?(sd(t,i,d),br(t,i,d)):(Fe&&l&&jf(i),i.flags|=1,on(t,i,a,d),i.child)}function fv(t,i,a,l,h){if(aa(i),i.stateNode===null){var d=Qa,v=a.contextType;typeof v=="object"&&v!==null&&(d=an(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Xf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?an(v):Qa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(_d(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&bd.enqueueReplaceState(d,d.state,null),_l(i,l,d,h),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,O=fa(a,T);d.props=O;var B=d.context,$=a.contextType;v=Qa,typeof $=="object"&&$!==null&&(v=an($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&Zy(i,d,l,v),es=!1;var F=i.memoizedState;d.state=F,_l(i,l,d,h),vl(),B=i.memoizedState,T||F!==B||es?(typeof W=="function"&&(_d(i,a,W,l),B=i.memoizedState),(O=es||Jy(i,a,O,l,F,B,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),v=i.memoizedProps,$=fa(a,v),d.props=$,W=i.pendingProps,F=d.context,B=a.contextType,O=Qa,typeof B=="object"&&B!==null&&(O=an(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||F!==O)&&Zy(i,d,l,O),es=!1,F=i.memoizedState,d.state=F,_l(i,l,d,h),vl();var Y=i.memoizedState;v!==W||F!==Y||es||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof T=="function"&&(_d(i,a,T,l),Y=i.memoizedState),($=es||Jy(i,a,$,l,F,Y,O)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ca(i,t.child,null,h),i.child=ca(i,null,a,h)):on(t,i,a,h),i.memoizedState=d.state,t=i.child):t=br(t,i,h),t}function dv(t,i,a,l){return ra(),i.flags|=256,on(t,i,a,l),i.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(t){return{baseLanes:t,cachePool:ny()}}function Rd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Wn),t}function mv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?is(i):rs(),(t=ct)?(t=T0(t,mi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:$r!==null?{id:Xi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=Yp(t),a.return=i,i.child=a,sn=i,ct=null)):t=null,t===null)throw Zr(i);return lm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(rs(),h=i.mode,T=wc({mode:"hidden",children:T},h),l=ia(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=wd(a),l.childLanes=Rd(t,v,a),i.memoizedState=Ad,Al(null,l)):(is(i),Cd(i,T))}var O=t.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(d)i.flags&256?(is(i),i.flags&=-257,i=xd(t,i,a)):i.memoizedState!==null?(rs(),i.child=t.child,i.flags|=128,i=null):(rs(),T=l.fallback,h=i.mode,l=wc({mode:"visible",children:l.children},h),T=ia(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ca(i,t.child,null,a),l=i.child,l.memoizedState=wd(a),l.childLanes=Rd(t,v,a),i.memoizedState=Ad,i=Al(null,l));else if(is(i),lm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,fl({value:l,source:null,stack:null}),i=xd(t,i,a)}else if(Ut||$a(t,i,a,!1),v=(a&t.childLanes)!==0,Ut||v){if(v=lt,v!==null&&(l=Tn(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,na(t,l),Ln(v,t,l),Td;om(T)||Vc(),i=xd(t,i,a)}else om(T)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,ct=pi(T.nextSibling),sn=i,Fe=!0,Jr=null,mi=!1,t!==null&&$p(i,t),i=Cd(i,l.children),i.flags|=4096);return i}return h?(rs(),T=l.fallback,h=i.mode,O=t.child,B=O.sibling,l=mr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,B!==null?T=mr(B,T):(T=ia(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Al(null,l),l=i.child,T=t.child.memoizedState,T===null?T=wd(a):(h=T.cachePool,h!==null?(O=kt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=ny(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Rd(t,v,a),i.memoizedState=Ad,Al(t.child,l)):(is(i),a=t.child,t=a.sibling,a=mr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Cd(t,i){return i=wc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wc(t,i){return t=Xn(22,t,null,i),t.lanes=0,t}function xd(t,i,a){return ca(i,t.child,null,a),t=Cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Hf(t.return,i,a)}function Id(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function pv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Rt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,se(Rt,v),on(t,i,l,a),l=Fe?hl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gv(t,a,i);else if(t.tag===19)gv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Id(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Id(i,!0,a,null,d,l);break;case"together":Id(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function br(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),os|=i.lanes,(a&i.childLanes)===0)if(t!==null){if($a(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=mr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=mr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Nd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function $S(t,i,a){switch(i.tag){case 3:nt(i,i.stateNode.containerInfo),Wr(i,kt,t.memoizedState.cache),ra();break;case 27:case 5:Ue(i);break;case 4:nt(i,i.stateNode.containerInfo);break;case 10:Wr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,td(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(is(i),i.flags|=128,null):(a&i.child.childLanes)!==0?mv(t,i,a):(is(i),t=br(t,i,a),t!==null?t.sibling:null);is(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||($a(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return pv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Rt,Rt.current),l)break;return null;case 22:return i.lanes=0,lv(t,i,a,i.pendingProps);case 24:Wr(i,kt,t.memoizedState.cache)}return br(t,i,a)}function yv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!Nd(t,a)&&(i.flags&128)===0)return Ut=!1,$S(t,i,a);Ut=(t.flags&131072)!==0}else Ut=!1,Fe&&(i.flags&1048576)!==0&&Xp(i,hl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=la(i.elementType),i.type=t,typeof t=="function")kf(t)?(l=fa(t,l),i.tag=1,i=fv(null,i,t,l,a)):(i.tag=0,i=Sd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===oe){i.tag=11,i=sv(null,i,t,l,a);break e}else if(h===C){i.tag=14,i=av(null,i,t,l,a);break e}}throw i=Te(t)||t,Error(s(306,i,""))}}return i;case 0:return Sd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=fa(l,i.pendingProps),fv(t,i,l,h,a);case 3:e:{if(nt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,$f(t,i),_l(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Wr(i,kt,l),l!==d.cache&&Ff(i,[kt],a,!0),vl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=dv(t,i,l,a);break e}else if(l!==h){h=hi(Error(s(424)),i),fl(h),i=dv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=pi(t.firstChild),sn=i,Fe=!0,Jr=null,mi=!0,a=ly(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ra(),l===h){i=br(t,i,a);break e}on(t,i,l,a)}i=i.child}return i;case 26:return Ac(t,i),t===null?(a=x0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Bc(ve.current).createElement(a),l[Ot]=i,l[$t]=t,ln(l,a,t),Mt(l),i.stateNode=l):i.memoizedState=x0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ue(i),t===null&&Fe&&(l=i.stateNode=w0(i.type,i.pendingProps,ve.current),sn=i,mi=!0,h=ct,fs(i.type)?(um=h,ct=pi(l.firstChild)):ct=h),on(t,i,i.pendingProps.children,a),Ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=ct)&&(l=RA(l,i.type,i.pendingProps,mi),l!==null?(i.stateNode=l,sn=i,ct=pi(l.firstChild),mi=!1,h=!0):h=!1),h||Zr(i)),Ue(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,rm(h,d)?l=null:v!==null&&rm(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=id(t,i,BS,null,null,a),Pl._currentValue=h),Ac(t,i),on(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ct)&&(a=CA(a,i.pendingProps,mi),a!==null?(i.stateNode=a,sn=i,ct=null,t=!0):t=!1),t||Zr(i)),null;case 13:return mv(t,i,a);case 4:return nt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ca(i,null,l,a):on(t,i,l,a),i.child;case 11:return sv(t,i,i.type,i.pendingProps,a);case 7:return on(t,i,i.pendingProps,a),i.child;case 8:return on(t,i,i.pendingProps.children,a),i.child;case 12:return on(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Wr(i,i.type,l.value),on(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,aa(i),h=an(h),l=l(h),i.flags|=1,on(t,i,l,a),i.child;case 14:return av(t,i,i.type,i.pendingProps,a);case 15:return ov(t,i,i.type,i.pendingProps,a);case 19:return pv(t,i,a);case 31:return XS(t,i,a);case 22:return lv(t,i,a,i.pendingProps);case 24:return aa(i),l=an(kt),t===null?(h=Yf(),h===null&&(h=lt,d=Gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Xf(i),Wr(i,kt,h)):((t.lanes&a)!==0&&($f(t,i),_l(i,null,null,a),vl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Wr(i,kt,l)):(l=d.cache,Wr(i,kt,l),l!==h.cache&&Ff(i,[kt],a,!0))),on(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Er(t){t.flags|=4}function Dd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Fv())t.flags|=8192;else throw ua=uc,Kf}else t.flags&=-16777217}function vv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!M0(i))if(Fv())t.flags|=8192;else throw ua=uc,Kf}function Rc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Xt():536870912,t.lanes|=i,lo|=i)}function wl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function JS(t,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),yr(kt),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xa(i)?Er(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bf())),ht(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Er(i),d!==null?(ht(i),vv(i,d)):(ht(i),Dd(i,h,null,l,a))):d?d!==t.memoizedState?(Er(i),ht(i),vv(i,d)):(ht(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Er(i),ht(i),Dd(i,h,t,l,a)),null;case 27:if(ni(i),a=ve.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}t=le.current,Xa(i)?Jp(i):(t=w0(h,l,a),i.stateNode=t,Er(i))}return ht(i),null;case 5:if(ni(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}if(d=le.current,Xa(i))Jp(i);else{var v=Bc(ve.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Ot]=i,d[$t]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(ln(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Er(i)}}return ht(i),Dd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Er(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ve.current,Xa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ot]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||m0(t.nodeValue,a)),t||Zr(i,!0)}else t=Bc(t).createTextNode(l),t[Ot]=i,i.stateNode=t}return ht(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Xa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ot]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),t=!1}else a=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Jn(i),i):(Jn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ht(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ot]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),h=!1}else h=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Jn(i),i):(Jn(i),null)}return Jn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Rc(i,i.updateQueue),ht(i),null);case 4:return Qe(),t===null&&Wd(i.stateNode.containerInfo),ht(i),null;case 10:return yr(i.type),ht(i),null;case 19:if(X(Rt),l=i.memoizedState,l===null)return ht(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)wl(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=dc(t),d!==null){for(i.flags|=128,wl(l,!1),t=d.updateQueue,i.updateQueue=t,Rc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Qp(a,t),a=a.sibling;return se(Rt,Rt.current&1|2),Fe&&gr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Kt()>Dc&&(i.flags|=128,h=!0,wl(l,!1),i.lanes=4194304)}else{if(!h)if(t=dc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Rc(i,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return ht(i),null}else 2*Kt()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,wl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Kt(),t.sibling=null,a=Rt.current,se(Rt,h?a&1|2:a&1),Fe&&gr(i,l.treeForkCount),t):(ht(i),null);case 22:case 23:return Jn(i),ed(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),a=i.updateQueue,a!==null&&Rc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X(oa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yr(kt),ht(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ZS(t,i){switch(Pf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yr(kt),Qe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ni(i),null;case 31:if(i.memoizedState!==null){if(Jn(i),i.alternate===null)throw Error(s(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Jn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Rt),null;case 4:return Qe(),null;case 10:return yr(i.type),null;case 22:case 23:return Jn(i),ed(),t!==null&&X(oa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yr(kt),null;case 25:return null;default:return null}}function _v(t,i){switch(Pf(i),i.tag){case 3:yr(kt),Qe();break;case 26:case 27:case 5:ni(i);break;case 4:Qe();break;case 31:i.memoizedState!==null&&Jn(i);break;case 13:Jn(i);break;case 19:X(Rt);break;case 10:yr(i.type);break;case 22:case 23:Jn(i),ed(),t!==null&&X(oa);break;case 24:yr(kt)}}function Rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){tt(i,i.return,T)}}function ss(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var O=a,B=T;try{B()}catch($){tt(h,O,$)}}}l=l.next}while(l!==d)}}catch($){tt(i,i.return,$)}}function bv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{cy(i,a)}catch(l){tt(t,t.return,l)}}}function Ev(t,i,a){a.props=fa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,i,l)}}function Cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){tt(t,i,h)}}function Ji(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,i,h)}else a.current=null}function Tv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function Od(t,i,a){try{var l=t.stateNode;bA(l,t.type,a,i),l[$t]=i}catch(h){tt(t,t.return,h)}}function Sv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fs(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ei));else if(l!==4&&(l===27&&fs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Vd(t,i,a),t=t.sibling;t!==null;)Vd(t,i,a),t=t.sibling}function Cc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,i,a),t=t.sibling;t!==null;)Cc(t,i,a),t=t.sibling}function Av(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ln(i,l,a),i[Ot]=t,i[$t]=a}catch(d){tt(t,t.return,d)}}var Tr=!1,jt=!1,kd=!1,wv=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function WS(t,i){if(t=t.containerInfo,nm=Kc,t=Up(t),xf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,O=-1,B=0,$=0,W=t,F=null;t:for(;;){for(var Y;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(O=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Y=W.firstChild)!==null;)F=W,W=Y;for(;;){if(W===t)break t;if(F===a&&++B===h&&(T=v),F===d&&++$===l&&(O=v),(Y=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Y}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(im={focusedElem:t,selectionRange:a},Kc=!1,Zt=i;Zt!==null;)if(i=Zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Zt=t;else for(;Zt!==null;){switch(i=Zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=fa(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){tt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Zt=t;break}Zt=i.return}}function Rv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(t,a),l&4&&Rl(5,a);break;case 1:if(Ar(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){tt(a,a.return,v)}else{var h=fa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(a,a.return,v)}}l&64&&bv(a),l&512&&Cl(a,a.return);break;case 3:if(Ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{cy(t,i)}catch(v){tt(a,a.return,v)}}break;case 27:i===null&&l&4&&Av(a);case 26:case 5:Ar(t,a),i===null&&l&4&&Tv(a),l&512&&Cl(a,a.return);break;case 12:Ar(t,a);break;case 31:Ar(t,a),l&4&&Iv(t,a);break;case 13:Ar(t,a),l&4&&Nv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=lA.bind(null,a),xA(t,a))));break;case 22:if(l=a.memoizedState!==null||Tr,!l){i=i!==null&&i.memoizedState!==null||jt,h=Tr;var d=jt;Tr=l,(jt=i)&&!d?wr(t,a,(a.subtreeFlags&8772)!==0):Ar(t,a),Tr=h,jt=d}break;case 30:break;default:Ar(t,a)}}function Cv(t){var i=t.alternate;i!==null&&(t.alternate=null,Cv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Oa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,On=!1;function Sr(t,i,a){for(a=a.child;a!==null;)xv(t,i,a),a=a.sibling}function xv(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:jt||Ji(a,i),Sr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Ji(a,i);var l=vt,h=On;fs(a.type)&&(vt=a.stateNode,On=!1),Sr(t,i,a),Ll(a.stateNode),vt=l,On=h;break;case 5:jt||Ji(a,i);case 6:if(l=vt,h=On,vt=null,Sr(t,i,a),vt=l,On=h,vt!==null)if(On)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{vt.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:vt!==null&&(On?(t=vt,b0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yo(t)):b0(vt,a.stateNode));break;case 4:l=vt,h=On,vt=a.stateNode.containerInfo,On=!0,Sr(t,i,a),vt=l,On=h;break;case 0:case 11:case 14:case 15:ss(2,a,i),jt||ss(4,a,i),Sr(t,i,a);break;case 1:jt||(Ji(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ev(a,i,l)),Sr(t,i,a);break;case 21:Sr(t,i,a);break;case 22:jt=(l=jt)||a.memoizedState!==null,Sr(t,i,a),jt=l;break;default:Sr(t,i,a)}}function Iv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(a){tt(i,i.return,a)}}}function Nv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(a){tt(i,i.return,a)}}function eA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new wv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new wv),i;default:throw Error(s(435,t.tag))}}function xc(t,i){var a=eA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=uA.bind(null,t,l);l.then(h,h)}})}function Mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(fs(T.type)){vt=T.stateNode,On=!1;break e}break;case 5:vt=T.stateNode,On=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,On=!0;break e}T=T.return}if(vt===null)throw Error(s(160));xv(d,v,h),vt=null,On=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Dv(i,t),i=i.sibling}var Ci=null;function Dv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(i,t),Vn(t),l&4&&(ss(3,t,t.return),Rl(3,t),ss(5,t,t.return));break;case 1:Mn(i,t),Vn(t),l&512&&(jt||a===null||Ji(a,a.return)),l&64&&Tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ci;if(Mn(i,t),Vn(t),l&512&&(jt||a===null||Ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ui]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ln(d,l,a),d[Ot]=t,Mt(d),l=d;break e;case"link":var v=D0("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;case"meta":if(v=D0("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ot]=t,Mt(d),l=d}t.stateNode=l}else O0(h,t.type,t.stateNode);else t.stateNode=N0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?O0(h,t.type,t.stateNode):N0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Od(t,t.memoizedProps,a.memoizedProps)}break;case 27:Mn(i,t),Vn(t),l&512&&(jt||a===null||Ji(a,a.return)),a!==null&&l&4&&Od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Mn(i,t),Vn(t),l&512&&(jt||a===null||Ji(a,a.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(fe){tt(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Od(t,h,a!==null?a.memoizedProps:h)),l&1024&&(kd=!0);break;case 6:if(Mn(i,t),Vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){tt(t,t.return,fe)}}break;case 3:if(Fc=null,h=Ci,Ci=qc(i.containerInfo),Mn(i,t),Ci=h,Vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(i.containerInfo)}catch(fe){tt(t,t.return,fe)}kd&&(kd=!1,Ov(t));break;case 4:l=Ci,Ci=qc(t.stateNode.containerInfo),Mn(i,t),Vn(t),Ci=l;break;case 12:Mn(i,t),Vn(t);break;case 31:Mn(i,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 13:Mn(i,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,B=Tr,$=jt;if(Tr=B||h,jt=$||O,Mn(i,t),jt=$,Tr=B,Vn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Tr||jt||da(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=O.stateNode;var W=O.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){tt(O,O.return,fe)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(fe){tt(O,O.return,fe)}}}else if(i.tag===18){if(a===null){O=i;try{var Y=O.stateNode;h?E0(Y,!0):E0(O.stateNode,!1)}catch(fe){tt(O,O.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xc(t,a))));break;case 19:Mn(i,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 30:break;case 21:break;default:Mn(i,t),Vn(t)}}function Vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Sv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Md(t);Cc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Dn(v,""),a.flags&=-33);var T=Md(t);Cc(t,T,v);break;case 3:case 4:var O=a.stateNode.containerInfo,B=Md(t);Vd(t,B,O);break;default:throw Error(s(161))}}catch($){tt(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ov(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ov(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ar(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Rv(t,i.alternate,i),i=i.sibling}function da(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ss(4,i,i.return),da(i);break;case 1:Ji(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ev(i,i.return,a),da(i);break;case 27:Ll(i.stateNode);case 26:case 5:Ji(i,i.return),da(i);break;case 22:i.memoizedState===null&&da(i);break;case 30:da(i);break;default:da(i)}t=t.sibling}}function wr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:wr(h,d,a),Rl(4,d);break;case 1:if(wr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){tt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)uy(O[h],T)}catch(B){tt(l,l.return,B)}}a&&v&64&&bv(d),Cl(d,d.return);break;case 27:Av(d);case 26:case 5:wr(h,d,a),a&&l===null&&v&4&&Tv(d),Cl(d,d.return);break;case 12:wr(h,d,a);break;case 31:wr(h,d,a),a&&v&4&&Iv(h,d);break;case 13:wr(h,d,a),a&&v&4&&Nv(h,d);break;case 22:d.memoizedState===null&&wr(h,d,a),Cl(d,d.return);break;case 30:break;default:wr(h,d,a)}i=i.sibling}}function Ld(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function Ud(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t))}function xi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Mv(t,i,a,l),i=i.sibling}function Mv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:xi(t,i,a,l),h&2048&&Rl(9,i);break;case 1:xi(t,i,a,l);break;case 3:xi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t)));break;case 12:if(h&2048){xi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){tt(i,i.return,O)}}else xi(t,i,a,l);break;case 31:xi(t,i,a,l);break;case 13:xi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?xi(t,i,a,l):xl(t,i):d._visibility&2?xi(t,i,a,l):(d._visibility|=2,so(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ld(v,i);break;case 24:xi(t,i,a,l),h&2048&&Ud(i.alternate,i);break;default:xi(t,i,a,l)}}function so(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,T=a,O=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:so(d,v,T,O,h),Rl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?so(d,v,T,O,h):xl(d,v):($._visibility|=2,so(d,v,T,O,h)),h&&B&2048&&Ld(v.alternate,v);break;case 24:so(d,v,T,O,h),h&&B&2048&&Ud(v.alternate,v);break;default:so(d,v,T,O,h)}i=i.sibling}}function xl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:xl(a,l),h&2048&&Ld(l.alternate,l);break;case 24:xl(a,l),h&2048&&Ud(l.alternate,l);break;default:xl(a,l)}i=i.sibling}}var Il=8192;function ao(t,i,a){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)Vv(t,i,a),t=t.sibling}function Vv(t,i,a){switch(t.tag){case 26:ao(t,i,a),t.flags&Il&&t.memoizedState!==null&&zA(a,Ci,t.memoizedState,t.memoizedProps);break;case 5:ao(t,i,a);break;case 3:case 4:var l=Ci;Ci=qc(t.stateNode.containerInfo),ao(t,i,a),Ci=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,ao(t,i,a),Il=l):ao(t,i,a));break;default:ao(t,i,a)}}function kv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Zt=l,Uv(l,t)}kv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lv(t),t=t.sibling}function Lv(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&ss(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ic(t)):Nl(t);break;default:Nl(t)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Zt=l,Uv(l,t)}kv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ss(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(i));break;default:Ic(i)}t=t.sibling}}function Uv(t,i){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:ss(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Zt=l;else e:for(a=t;Zt!==null;){l=Zt;var h=l.sibling,d=l.return;if(Cv(l),l===a){Zt=null;break e}if(h!==null){h.return=d,Zt=h;break e}Zt=d}}}var tA={getCacheForType:function(t){var i=an(kt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return an(kt).controller.signal}},nA=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,ke=null,je=0,et=0,Zn=null,as=!1,oo=!1,jd=!1,Rr=0,Tt=0,os=0,ma=0,Pd=0,Wn=0,lo=0,Dl=null,kn=null,zd=!1,Nc=0,jv=0,Dc=1/0,Oc=null,ls=null,Gt=0,us=null,uo=null,Cr=0,Bd=0,qd=null,Pv=null,Ol=0,Hd=null;function ei(){return(Je&2)!==0&&je!==0?je&-je:K.T!==null?Xd():Gn()}function zv(){if(Wn===0)if((je&536870912)===0||Fe){var t=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Wn=t}else Wn=536870912;return t=$n.current,t!==null&&(t.flags|=32),Wn}function Ln(t,i,a){(t===lt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(co(t,0),cs(t,je,Wn,!1)),In(t,a),((Je&2)===0||t!==lt)&&(t===lt&&((Je&2)===0&&(ma|=a),Tt===4&&cs(t,je,Wn,!1)),Zi(t))}function Bv(t,i,a){if((Je&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Dt(t,i),h=l?sA(t,i):Gd(t,i,!0),d=l;do{if(h===0){oo&&!l&&cs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!iA(a)){h=Gd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Dl;var O=T.current.memoizedState.isDehydrated;if(O&&(co(T,v).flags|=256),v=Gd(T,v,!1),v!==2){if(jd&&!O){T.errorRecoveryDisabledLanes|=d,ma|=d,h=4;break e}d=kn,kn=h,d!==null&&(kn===null?kn=d:kn.push.apply(kn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){co(t,0),cs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:cs(l,i,Wn,!as);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Nc+300-Kt(),10<h)){if(cs(l,i,Wn,!as),pt(l,0,!0)!==0)break e;Cr=i,l.timeoutHandle=v0(qv.bind(null,l,a,kn,Oc,zd,i,Wn,ma,lo,as,d,"Throttled",-0,0),h);break e}qv(l,a,kn,Oc,zd,i,Wn,ma,lo,as,d,null,-0,0)}}break}while(!0);Zi(t)}function qv(t,i,a,l,h,d,v,T,O,B,$,W,F,Y){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},Vv(i,d,W);var fe=(d&62914560)===d?Nc-Kt():(d&4194048)===d?jv-Kt():0;if(fe=BA(W,fe),fe!==null){Cr=d,t.cancelPendingCommit=fe($v.bind(null,t,i,d,a,l,h,v,T,O,$,W,null,F,Y)),cs(t,d,v,!B);return}}$v(t,i,d,a,l,h,v,T,O)}function iA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Kn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function cs(t,i,a,l){i&=~Pd,i&=~ma,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&mn(t,a,i)}function Mc(){return(Je&6)===0?(Ml(0),!1):!0}function Fd(){if(ke!==null){if(et===0)var t=ke.return;else t=ke,pr=sa=null,ad(t),eo=null,gl=0,t=ke;for(;t!==null;)_v(t.alternate,t),t=t.return;ke=null}}function co(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,SA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cr=0,Fd(),lt=t,ke=a=mr(t.current,null),je=i,et=0,Zn=null,as=!1,oo=Dt(t,i),jd=!1,lo=Wn=Pd=ma=os=Tt=0,kn=Dl=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return Rr=i,ec(),a}function Hv(t,i){Ie=null,K.H=Sl,i===Wa||i===lc?(i=sy(),et=3):i===Kf?(i=sy(),et=4):et=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,ke===null&&(Tt=1,Tc(t,hi(i,t.current)))}function Fv(){var t=$n.current;return t===null?!0:(je&4194048)===je?gi===null:(je&62914560)===je||(je&536870912)!==0?t===gi:!1}function Gv(){var t=K.H;return K.H=Sl,t===null?Sl:t}function Qv(){var t=K.A;return K.A=tA,t}function Vc(){Tt=4,as||(je&4194048)!==je&&$n.current!==null||(oo=!0),(os&134217727)===0&&(ma&134217727)===0||lt===null||cs(lt,je,Wn,!1)}function Gd(t,i,a){var l=Je;Je|=2;var h=Gv(),d=Qv();(lt!==t||je!==i)&&(Oc=null,co(t,i)),i=!1;var v=Tt;e:do try{if(et!==0&&ke!==null){var T=ke,O=Zn;switch(et){case 8:Fd(),v=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var B=et;if(et=0,Zn=null,ho(t,T,O,B),a&&oo){v=0;break e}break;default:B=et,et=0,Zn=null,ho(t,T,O,B)}}rA(),v=Tt;break}catch($){Hv(t,$)}while(!0);return i&&t.shellSuspendCounter++,pr=sa=null,Je=l,K.H=h,K.A=d,ke===null&&(lt=null,je=0,ec()),v}function rA(){for(;ke!==null;)Yv(ke)}function sA(t,i){var a=Je;Je|=2;var l=Gv(),h=Qv();lt!==t||je!==i?(Oc=null,Dc=Kt()+500,co(t,i)):oo=Dt(t,i);e:do try{if(et!==0&&ke!==null){i=ke;var d=Zn;t:switch(et){case 1:et=0,Zn=null,ho(t,i,d,1);break;case 2:case 9:if(iy(d)){et=0,Zn=null,Kv(i);break}i=function(){et!==2&&et!==9||lt!==t||(et=7),Zi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:iy(d)?(et=0,Zn=null,Kv(i)):(et=0,Zn=null,ho(t,i,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var T=ke;if(v?M0(v):T.stateNode.complete){et=0,Zn=null;var O=T.sibling;if(O!==null)ke=O;else{var B=T.return;B!==null?(ke=B,kc(B)):ke=null}break t}}et=0,Zn=null,ho(t,i,d,5);break;case 6:et=0,Zn=null,ho(t,i,d,6);break;case 8:Fd(),Tt=6;break e;default:throw Error(s(462))}}aA();break}catch($){Hv(t,$)}while(!0);return pr=sa=null,K.H=l,K.A=h,Je=a,ke!==null?0:(lt=null,je=0,ec(),Tt)}function aA(){for(;ke!==null&&!zr();)Yv(ke)}function Yv(t){var i=yv(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,i===null?kc(t):ke=i}function Kv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=hv(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=hv(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:ad(i);default:_v(a,i),i=ke=Qp(i,Rr),i=yv(a,i,Rr)}t.memoizedProps=t.pendingProps,i===null?kc(t):ke=i}function ho(t,i,a,l){pr=sa=null,ad(i),eo=null,gl=0;var h=i.return;try{if(KS(t,h,i,a,je)){Tt=1,Tc(t,hi(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;Tt=1,Tc(t,hi(a,t.current)),ke=null;return}i.flags&32768?(Fe||l===1?t=!0:oo||(je&536870912)!==0?t=!1:(as=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xv(i,t)):kc(i)}function kc(t){var i=t;do{if((i.flags&32768)!==0){Xv(i,as);return}t=i.return;var a=JS(i.alternate,i,Rr);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);Tt===0&&(Tt=5)}function Xv(t,i){do{var a=ZS(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);Tt=6,ke=null}function $v(t,i,a,l,h,d,v,T,O){t.cancelPendingCommit=null;do Lc();while(Gt!==0);if((Je&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,At(t,a,d,v,T,O),t===lt&&(ke=lt=null,je=0),uo=i,us=t,Cr=a,Bd=d,qd=h,Pv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cA(En,function(){return t0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=re.p,re.p=2,v=Je,Je|=4;try{WS(t,i,a)}finally{Je=v,re.p=h,K.T=l}}Gt=1,Jv(),Zv(),Wv()}}function Jv(){if(Gt===1){Gt=0;var t=us,i=uo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var h=Je;Je|=4;try{Dv(i,t);var d=im,v=Up(t.containerInfo),T=d.focusedElem,O=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Lp(T.ownerDocument.documentElement,T)){if(O!==null&&xf(T)){var B=O.start,$=O.end;if($===void 0&&($=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min($,T.value.length);else{var W=T.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Y=F.getSelection(),fe=T.textContent.length,be=Math.min(O.start,fe),ot=O.end===void 0?be:Math.min(O.end,fe);!Y.extend&&be>ot&&(v=ot,ot=be,be=v);var U=kp(T,be),k=kp(T,ot);if(U&&k&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var z=W.createRange();z.setStart(U.node,U.offset),Y.removeAllRanges(),be>ot?(Y.addRange(z),Y.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),Y.addRange(z))}}}}for(W=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Kc=!!nm,im=nm=null}finally{Je=h,re.p=l,K.T=a}}t.current=i,Gt=2}}function Zv(){if(Gt===2){Gt=0;var t=us,i=uo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var h=Je;Je|=4;try{Rv(t,i.alternate,i)}finally{Je=h,re.p=l,K.T=a}}Gt=3}}function Wv(){if(Gt===4||Gt===3){Gt=0,Bs();var t=us,i=uo,a=Cr,l=Pv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Gt=5:(Gt=0,uo=us=null,e0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ls=null),Sn(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=re.p,re.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,re.p=h}}(Cr&3)!==0&&Lc(),Zi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Hd?Ol++:(Ol=0,Hd=t):Ol=0,Ml(0)}}function e0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,dl(i)))}function Lc(){return Jv(),Zv(),Wv(),t0()}function t0(){if(Gt!==5)return!1;var t=us,i=Bd;Bd=0;var a=Sn(Cr),l=K.T,h=re.p;try{re.p=32>a?32:a,K.T=null,a=qd,qd=null;var d=us,v=Cr;if(Gt=0,uo=us=null,Cr=0,(Je&6)!==0)throw Error(s(331));var T=Je;if(Je|=4,Lv(d.current),Mv(d,d.current,v,a),Je=T,Ml(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{re.p=h,K.T=l,e0(t,i)}}function n0(t,i,a){i=hi(a,i),i=Ed(t.stateNode,i,2),t=ns(t,i,2),t!==null&&(In(t,2),Zi(t))}function tt(t,i,a){if(t.tag===3)n0(t,t,a);else for(;i!==null;){if(i.tag===3){n0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ls===null||!ls.has(l))){t=hi(a,t),a=iv(2),l=ns(i,a,2),l!==null&&(rv(a,l,i,t),In(l,2),Zi(l));break}}i=i.return}}function Qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new nA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(jd=!0,h.add(a),t=oA.bind(null,t,i,a),i.then(t,t))}function oA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(je&a)===a&&(Tt===4||Tt===3&&(je&62914560)===je&&300>Kt()-Nc?(Je&2)===0&&co(t,0):Pd|=a,lo===je&&(lo=0)),Zi(t)}function i0(t,i){i===0&&(i=Xt()),t=na(t,i),t!==null&&(In(t,i),Zi(t))}function lA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),i0(t,a)}function uA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),i0(t,a)}function cA(t,i){return it(t,i)}var Uc=null,fo=null,Yd=!1,jc=!1,Kd=!1,hs=0;function Zi(t){t!==fo&&t.next===null&&(fo===null?Uc=fo=t:fo=fo.next=t),jc=!0,Yd||(Yd=!0,fA())}function Ml(t,i){if(!Kd&&jc){Kd=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,o0(l,d))}else d=je,d=pt(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Dt(l,d)||(a=!0,o0(l,d));l=l.next}while(a);Kd=!1}}function hA(){r0()}function r0(){jc=Yd=!1;var t=0;hs!==0&&TA()&&(t=hs);for(var i=Kt(),a=null,l=Uc;l!==null;){var h=l.next,d=s0(l,i);d===0?(l.next=null,a===null?Uc=h:a.next=h,h===null&&(fo=a)):(a=l,(t!==0||(d&3)!==0)&&(jc=!0)),l=h}Gt!==0&&Gt!==5||Ml(t),hs!==0&&(hs=0)}function s0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-mt(d),T=1<<v,O=h[v];O===-1?((T&a)===0||(T&l)!==0)&&(h[v]=dn(T,i)):O<=i&&(t.expiredLanes|=T),d&=~T}if(i=lt,a=je,a=pt(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Bn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Dt(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Bn(l),Sn(a)){case 2:case 8:a=ri;break;case 32:a=En;break;case 268435456:a=Hs;break;default:a=En}return l=a0.bind(null,t),a=it(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Bn(l),t.callbackPriority=2,t.callbackNode=null,2}function a0(t,i){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=je;return l=pt(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Bv(t,l,i),s0(t,Kt()),t.callbackNode!=null&&t.callbackNode===a?a0.bind(null,t):null)}function o0(t,i){if(Lc())return null;Bv(t,i,!0)}function fA(){AA(function(){(Je&6)!==0?it(qs,hA):r0()})}function Xd(){if(hs===0){var t=Ja;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),hs=t}return hs}function l0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:La(""+t)}function u0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function dA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=l0((h[$t]||null).action),v=l.submitter;v&&(i=(i=v[$t]||null)?l0(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Gi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hs!==0){var O=v?u0(h,v):new FormData(h);gd(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=v?u0(h,v):new FormData(h),gd(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var $d=0;$d<Of.length;$d++){var Jd=Of[$d],mA=Jd.toLowerCase(),gA=Jd[0].toUpperCase()+Jd.slice(1);Ri(mA,"on"+gA)}Ri(zp,"onAnimationEnd"),Ri(Bp,"onAnimationIteration"),Ri(qp,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(DS,"onTransitionRun"),Ri(OS,"onTransitionStart"),Ri(MS,"onTransitionCancel"),Ri(Hp,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function c0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],O=T.instance,B=T.currentTarget;if(T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){Wu($)}h.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(T=l[v],O=T.instance,B=T.currentTarget,T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){Wu($)}h.currentTarget=null,d=O}}}}function Le(t,i){var a=i[Da];a===void 0&&(a=i[Da]=new Set);var l=t+"__bubble";a.has(l)||(h0(i,t,2,!1),a.add(l))}function Zd(t,i,a){var l=0;i&&(l|=4),h0(a,t,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Pc]){t[Pc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(pA.has(a)||Zd(a,!1,t),Zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,Zd("selectionchange",!1,i))}}function h0(t,i,a,l){switch(z0(i)){case 2:var h=FA;break;case 8:h=GA;break;default:h=mm}a=h.bind(null,i,a,t),h=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function em(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ji(T),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Qr(function(){var B=d,$=oi(a),W=[];e:{var F=Fp.get(t);if(F!==void 0){var Y=Gi,fe=t;switch(t){case"keypress":if($s(a)===0)break e;case"keydown":case"keyup":Y=$u;break;case"focusin":fe="focus",Y=Zs;break;case"focusout":fe="blur",Y=Zs;break;case"beforeblur":case"afterblur":Y=Zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case zp:case Bp:case qp:Y=Hu;break;case Hp:Y=S;break;case"scroll":case"scrollend":Y=rl;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=dr;break;case"toggle":case"beforetoggle":Y=xe}var be=(i&4)!==0,ot=!be&&(t==="scroll"||t==="scrollend"),U=be?F!==null?F+"Capture":null:F;be=[];for(var k=B,z;k!==null;){var J=k;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||U===null||(J=Ti(k,U),J!=null&&be.push(kl(k,J,z))),ot)break;k=k.return}0<be.length&&(F=new Y(F,fe,null,a,$),W.push({event:F,listeners:be}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==tl&&(fe=a.relatedTarget||a.fromElement)&&(ji(fe)||fe[Li]))break e;if((Y||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=B,fe=fe?ji(fe):null,fe!==null&&(ot=u(fe),be=fe.tag,fe!==ot||be!==5&&be!==27&&be!==6)&&(fe=null)):(Y=null,fe=B),Y!==fe)){if(be=sl,J="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=dr,J="onPointerLeave",U="onPointerEnter",k="pointer"),ot=Y==null?F:Qn(Y),z=fe==null?F:Qn(fe),F=new be(J,k+"leave",Y,a,$),F.target=ot,F.relatedTarget=z,J=null,ji($)===B&&(be=new be(U,k+"enter",fe,a,$),be.target=z,be.relatedTarget=ot,J=be),ot=J,Y&&fe)t:{for(be=yA,U=Y,k=fe,z=0,J=U;J;J=be(J))z++;J=0;for(var pe=k;pe;pe=be(pe))J++;for(;0<z-J;)U=be(U),z--;for(;0<J-z;)k=be(k),J--;for(;z--;){if(U===k||k!==null&&U===k.alternate){be=U;break t}U=be(U),k=be(k)}be=null}else be=null;Y!==null&&f0(W,F,Y,be,!1),fe!==null&&ot!==null&&f0(W,ot,fe,be,!0)}}e:{if(F=B?Qn(B):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Ke=Ip;else if(Cp(F))if(Np)Ke=xS;else{Ke=RS;var me=wS}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&ka(B.elementType)&&(Ke=Ip):Ke=CS;if(Ke&&(Ke=Ke(t,B))){xp(W,Ke,a,$);break e}me&&me(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Zo(F,"number",F.value)}switch(me=B?Qn(B):window,t){case"focusin":(Cp(me)||me.contentEditable==="true")&&(Ha=me,If=B,cl=null);break;case"focusout":cl=If=Ha=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,jp(W,a,$);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":jp(W,a,$)}var Ne;if($e)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else qa?Ws(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ki&&a.locale!=="ko"&&(qa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&qa&&(Ne=il()):(Fi=$,nl="value"in Fi?Fi.value:Fi.textContent,qa=!0)),me=zc(B,Pe),0<me.length&&(Pe=new Yi(Pe,t,null,a,$),W.push({event:Pe,listeners:me}),Ne?Pe.data=Ne:(Ne=Ba(a),Ne!==null&&(Pe.data=Ne)))),(Ne=ui?ES(t,a):TS(t,a))&&(Pe=zc(B,"onBeforeInput"),0<Pe.length&&(me=new Yi("onBeforeInput","beforeinput",null,a,$),W.push({event:me,listeners:Pe}),me.data=Ne)),dA(W,t,B,a,$)}c0(W,i)})}function kl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function zc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ti(t,a),h!=null&&l.unshift(kl(t,h,d)),h=Ti(t,i),h!=null&&l.push(kl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function yA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function f0(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,O=T.alternate,B=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||B===null||(O=B,h?(B=Ti(a,d),B!=null&&v.unshift(kl(a,B,O))):h||(B=Ti(a,d),B!=null&&v.push(kl(a,B,O)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var vA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function d0(t){return(typeof t=="string"?t:""+t).replace(vA,`
`).replace(_A,"")}function m0(t,i){return i=d0(i),d0(t)===i}function at(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":el(t,l,d);break;case"data":if(i!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=La(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&at(t,i,"name",h.name,h,null),at(t,i,"formEncType",h.formEncType,h,null),at(t,i,"formMethod",h.formMethod,h,null),at(t,i,"formTarget",h.formTarget,h,null)):(at(t,i,"encType",h.encType,h,null),at(t,i,"method",h.method,h,null),at(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=La(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ei);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=La(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ma(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,Ma(t,a,l))}}function tm(t,i,a,l,h,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[$t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ma(t,a,l)}}}function ln(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:at(t,i,d,v,a,null)}}h&&at(t,i,"srcSet",a.srcSet,a,null),l&&at(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=d=v=h=null,O=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":O=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:at(t,i,l,$,a,null)}}Uu(t,d,T,O,B,v,h,!1);return;case"select":Le("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:at(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?qr(t,!!l,i,!1):a!=null&&qr(t,!!l,a,!0);return;case"textarea":Le("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:at(t,i,v,T,a,null)}Hr(t,l,h,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,i,O,l,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Le(Vl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:at(t,i,B,l,a,null)}return;default:if(ka(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&tm(t,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&at(t,i,T,l,a,null))}function bA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,O=null,B=null,$=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=W;default:l.hasOwnProperty(Y)||at(t,i,Y,null,l,W)}}for(var F in l){var Y=l[F];if(W=a[F],l.hasOwnProperty(F)&&(Y!=null||W!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":B=Y;break;case"defaultChecked":$=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==W&&at(t,i,F,Y,l,W)}}Va(t,v,T,O,B,$,d,h);return;case"select":Y=v=T=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||at(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==O&&at(t,i,h,d,l,O)}i=T,a=v,l=Y,F!=null?qr(t,!!a,F,!1):!!l!=!!a&&(i!=null?qr(t,!!a,i,!0):qr(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&at(t,i,v,h,l,d)}ju(t,F,Y);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:at(t,i,fe,null,l,F)}for(O in l)if(F=l[O],Y=a[O],l.hasOwnProperty(O)&&F!==Y&&(F!=null||Y!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:at(t,i,O,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be)&&at(t,i,be,null,l,F);for(B in l)if(F=l[B],Y=a[B],l.hasOwnProperty(B)&&F!==Y&&(F!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:at(t,i,B,F,l,Y)}return;default:if(ka(i)){for(var ot in a)F=a[ot],a.hasOwnProperty(ot)&&F!==void 0&&!l.hasOwnProperty(ot)&&tm(t,i,ot,void 0,l,F);for($ in l)F=l[$],Y=a[$],!l.hasOwnProperty($)||F===Y||F===void 0&&Y===void 0||tm(t,i,$,F,l,Y);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&at(t,i,U,null,l,F);for(W in l)F=l[W],Y=a[W],!l.hasOwnProperty(W)||F===Y||F==null&&Y==null||at(t,i,W,F,l,Y)}function g0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&g0(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],B=O.startTime;if(B>T)break;var $=O.transferSize,W=O.initiatorType;$&&g0(W)&&(O=O.responseEnd,v+=$*(O<T?1:(T-B)/(O-B)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nm=null,im=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function p0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function rm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sm=null;function TA(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(t){return _0.resolve(null).then(t).catch(wA)}:v0;function wA(t){setTimeout(function(){throw t})}function fs(t){return t==="head"}function b0(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),yo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[Ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ll(t.ownerDocument.body);a=h}while(a);yo(i)}function E0(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function am(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),Oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function RA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=pi(t.nextSibling),t===null)break}return null}function CA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=pi(t.nextSibling),t===null))return null;return t}function T0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=pi(t.nextSibling),t===null))return null;return t}function om(t){return t.data==="$?"||t.data==="$~"}function lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function pi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var um=null;function S0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return pi(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function A0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function w0(t,i,a){switch(i=Bc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Oa(t)}var yi=new Map,R0=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xr=re.d;re.d={f:IA,r:NA,D:DA,C:OA,L:MA,m:VA,X:LA,S:kA,M:UA};function IA(){var t=xr.f(),i=Mc();return t||i}function NA(t){var i=ai(t);i!==null&&i.tag===5&&i.type==="form"?Hy(i):xr.r(t)}var mo=typeof document>"u"?null:document;function C0(t,i,a){var l=mo;if(l&&typeof i=="string"&&i){var h=Nn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R0.has(h)||(R0.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ln(i,"link",t),Mt(i),l.head.appendChild(i)))}}function DA(t){xr.D(t),C0("dns-prefetch",t,null)}function OA(t,i){xr.C(t,i),C0("preconnect",t,i)}function MA(t,i,a){xr.L(t,i,a);var l=mo;if(l&&t&&i){var h='link[rel="preload"][as="'+Nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nn(a.imageSizes)+'"]')):h+='[href="'+Nn(t)+'"]';var d=h;switch(i){case"style":d=go(t);break;case"script":d=po(t)}yi.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),yi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ul(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),ln(i,"link",t),Mt(i),l.head.appendChild(i)))}}function VA(t,i){xr.m(t,i);var a=mo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Nn(l)+'"][href="'+Nn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=po(t)}if(!yi.has(d)&&(t=E({rel:"modulepreload",href:t},i),yi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),ln(l,"link",t),Mt(l),a.head.appendChild(l)}}}function kA(t,i,a){xr.S(t,i,a);var l=mo;if(l&&t){var h=Pi(l).hoistableStyles,d=go(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ul(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=yi.get(d))&&cm(t,a);var O=v=l.createElement("link");Mt(O),ln(O,"link",t),O._p=new Promise(function(B,$){O.onload=B,O.onerror=$}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function LA(t,i){xr.X(t,i);var a=mo;if(a&&t){var l=Pi(a).hoistableScripts,h=po(t),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(t=E({src:t,async:!0},i),(i=yi.get(h))&&hm(t,i),d=a.createElement("script"),Mt(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function UA(t,i){xr.M(t,i);var a=mo;if(a&&t){var l=Pi(a).hoistableScripts,h=po(t),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=yi.get(h))&&hm(t,i),d=a.createElement("script"),Mt(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function x0(t,i,a,l){var h=(h=ve.current)?qc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=go(a.href),a=Pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=go(a.href);var d=Pi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ul(t)))&&!d._p&&(v.instance=d,v.state.loading=5),yi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yi.set(t,a),d||jA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=po(a),a=Pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function go(t){return'href="'+Nn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function I0(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function jA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",a),Mt(i),t.head.appendChild(i))}function po(t){return'[src="'+Nn(t)+'"]'}function jl(t){return"script[async]"+t}function N0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Nn(a.href)+'"]');if(l)return i.instance=l,Mt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Mt(l),ln(l,"style",h),Hc(l,a.precedence,t),i.instance=l;case"stylesheet":h=go(a.href);var d=t.querySelector(Ul(h));if(d)return i.state.loading|=4,i.instance=d,Mt(d),d;l=I0(a),(h=yi.get(h))&&cm(l,h),d=(t.ownerDocument||t).createElement("link"),Mt(d);var v=d;return v._p=new Promise(function(T,O){v.onload=T,v.onerror=O}),ln(d,"link",l),i.state.loading|=4,Hc(d,a.precedence,t),i.instance=d;case"script":return d=po(a.src),(h=t.querySelector(jl(d)))?(i.instance=h,Mt(h),h):(l=a,(h=yi.get(d))&&(l=E({},a),hm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Mt(h),ln(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,t));return i.instance}function Hc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fc=null;function D0(t,i,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ui]||d[Ot]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function O0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function PA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function M0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=go(l.href),d=i.querySelector(Ul(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Gc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Mt(d);return}d=i.ownerDocument||i,l=I0(l),(h=yi.get(h))&&cm(l,h),d=d.createElement("link"),Mt(d);var v=d;v._p=new Promise(function(T,O){v.onload=T,v.onerror=O}),ln(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Gc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var fm=0;function BA(t,i){return t.stylesheets&&t.count===0&&Yc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&fm===0&&(fm=62500*EA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>fm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function Yc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,i.forEach(qA,t),Qc=null,Gc.call(t))}function qA(t,i){if(!(i.state.loading&4)){var a=Qc.get(t);if(a)var l=a.get(null);else{a=new Map,Qc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function HA(t,i,a,l,h,d,v,T,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function V0(t,i,a,l,h,d,v,T,O,B,$,W){return t=new HA(t,i,a,v,O,B,$,W,T),i=1,d===!0&&(i|=24),d=Xn(3,null,null,i),t.current=d,d.stateNode=t,i=Gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Xf(d),t}function k0(t){return t?(t=Qa,t):Qa}function L0(t,i,a,l,h,d){h=k0(h),l.context===null?l.context=h:l.pendingContext=h,l=ts(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ns(t,l,i),a!==null&&(Ln(a,t,i),yl(a,t,i))}function U0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function dm(t,i){U0(t,i),(t=t.alternate)&&U0(t,i)}function j0(t){if(t.tag===13||t.tag===31){var i=na(t,67108864);i!==null&&Ln(i,t,67108864),dm(t,67108864)}}function P0(t){if(t.tag===13||t.tag===31){var i=ei();i=Fn(i);var a=na(t,i);a!==null&&Ln(a,t,i),dm(t,i)}}var Kc=!0;function FA(t,i,a,l){var h=K.T;K.T=null;var d=re.p;try{re.p=2,mm(t,i,a,l)}finally{re.p=d,K.T=h}}function GA(t,i,a,l){var h=K.T;K.T=null;var d=re.p;try{re.p=8,mm(t,i,a,l)}finally{re.p=d,K.T=h}}function mm(t,i,a,l){if(Kc){var h=gm(l);if(h===null)em(t,i,l,Xc,a),B0(t,l);else if(YA(h,t,i,a,l))l.stopPropagation();else if(B0(t,l),i&4&&-1<QA.indexOf(t)){for(;h!==null;){var d=ai(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=gt(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var O=1<<31-mt(v);T.entanglements[1]|=O,v&=~O}Zi(d),(Je&6)===0&&(Dc=Kt()+500,Ml(0))}}break;case 31:case 13:T=na(d,2),T!==null&&Ln(T,d,2),Mc(),dm(d,2)}if(d=gm(l),d===null&&em(t,i,l,Xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else em(t,i,l,null,a)}}function gm(t){return t=oi(t),pm(t)}var Xc=null;function pm(t){if(Xc=null,t=ji(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function z0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case qs:return 2;case ri:return 8;case En:case lr:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var ym=!1,ds=null,ms=null,gs=null,zl=new Map,Bl=new Map,ps=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B0(t,i){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function ql(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ai(i),i!==null&&j0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function YA(t,i,a,l,h){switch(i){case"focusin":return ds=ql(ds,t,i,a,l,h),!0;case"dragenter":return ms=ql(ms,t,i,a,l,h),!0;case"mouseover":return gs=ql(gs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,ql(zl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Bl.set(d,ql(Bl.get(d)||null,t,i,a,l,h)),!0}return!1}function q0(t){var i=ji(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,nn(t.priority,function(){P0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,nn(t.priority,function(){P0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=gm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return i=ai(a),i!==null&&j0(i),t.blockedOn=a,!1;i.shift()}return!0}function H0(t,i,a){$c(t)&&a.delete(i)}function KA(){ym=!1,ds!==null&&$c(ds)&&(ds=null),ms!==null&&$c(ms)&&(ms=null),gs!==null&&$c(gs)&&(gs=null),zl.forEach(H0),Bl.forEach(H0)}function Jc(t,i){t.blockedOn===i&&(t.blockedOn=null,ym||(ym=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,KA)))}var Zc=null;function F0(t){Zc!==t&&(Zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=ai(a);d!==null&&(t.splice(i,3),i-=3,gd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function yo(t){function i(O){return Jc(O,t)}ds!==null&&Jc(ds,t),ms!==null&&Jc(ms,t),gs!==null&&Jc(gs,t),zl.forEach(i),Bl.forEach(i);for(var a=0;a<ps.length;a++){var l=ps[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)q0(a),a.blockedOn===null&&ps.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[$t]||null;if(typeof d=="function")v||F0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[$t]||null)T=v.formAction;else if(pm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),F0(a)}}}function G0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function vm(t){this._internalRoot=t}Wc.prototype.render=vm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=ei();L0(a,l,t,i,null,null)},Wc.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;L0(t.current,2,null,t,null,null),Mc(),i[Li]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Gn();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ps.length&&i!==0&&i<ps[a].priority;a++);ps.splice(a,0,t),a===0&&q0(t)}};var Q0=e.version;if(Q0!=="19.2.0")throw Error(s(527,Q0,"19.2.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var XA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Hn=eh.inject(XA),Ft=eh}catch{}}return Fl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Wy,d=ev,v=tv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=V0(t,1,!1,null,null,a,l,null,h,d,v,G0),t[Li]=i.current,Wd(t),new vm(i)},Fl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Wy,v=ev,T=tv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=V0(t,1,!0,i,a??null,l,h,O,d,v,T,G0),i.context=k0(null),a=i.current,l=ei(),l=Fn(l),h=ts(l),h.callback=null,ns(a,h,l),a=l,i.current.lanes=a,In(i,a),Zi(i),t[Li]=i.current,Wd(t),new Wc(i)},Fl.version="19.2.0",Fl}var n_;function sw(){if(n_)return Em.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=rw(),Em.exports}var aw=sw();const ow=()=>{};var i_={};const Kb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},lw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,b=u>>2,E=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,x=p&63;g||(x=64,f||(w=64)),s.push(n[b],n[E],n[w],n[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Kb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||E==null)throw new uw;const w=u<<2|m>>4;if(s.push(w),p!==64){const x=m<<4&240|p>>2;if(s.push(x),E!==64){const G=p<<6&192|E;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cw=function(r){const e=Kb(r);return Xb.encodeByteArray(e,!0)},bh=function(r){return cw(r).replace(/\./g,"")},$b=function(r){try{return Xb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fw=()=>hw().__FIREBASE_DEFAULTS__,dw=()=>{if(typeof process>"u"||typeof i_>"u")return;const r=i_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&$b(r[1]);return e&&JSON.parse(e)},Xh=()=>{try{return ow()||fw()||dw()||mw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Jb=r=>Xh()?.emulatorHosts?.[r],gw=r=>{const e=Jb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Zb=()=>Xh()?.config,Wb=r=>Xh()?.[`_${r}`];class pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e1(r){return(await fetch(r,{credentials:"include"})).ok}function yw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(f)),""].join(".")}const $l={};function vw(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function _w(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let r_=!1;function t1(r,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||$l[r]===e||$l[r]||r_)return;$l[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=vw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{r_=!0,f()},w}function b(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=_w(s),x=n("text"),G=document.getElementById(x)||document.createElement("span"),H=n("learnmore"),q=document.getElementById(H)||document.createElement("a"),Z=n("preprendIcon"),ie=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;m(ne),b(q,H);const oe=p();g(ie,Z),ne.append(ie,G,q,oe),document.body.appendChild(ne)}u?(G.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function Ew(){const r=Xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Aw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ww(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Rw(){return!Ew()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cw(){try{return typeof indexedDB=="object"}catch{return!1}}function xw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Iw="FirebaseError";class Ur extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Iw,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Nw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ur(o,m,s)}}function Nw(r,e){return r.replace(Dw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Dw=/\{\$([^}]+)}/g;function Ow(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(s_(u)&&s_(f)){if(!Ea(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function s_(r){return r!==null&&typeof r=="object"}function vu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Mw(r,e){const n=new Vw(r,e);return n.subscribe.bind(n)}class Vw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function wm(){}function Ht(r){return r&&r._delegate?r._delegate:r}class Ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ga="[DEFAULT]";class Lw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new pw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jw(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Uw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uw(r){return r===ga?void 0:r}function jw(r){return r.instantiationMode==="EAGER"}class Pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Lw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const zw={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Bw=ze.INFO,qw={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Hw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=qw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tg{constructor(e){this.name=e,this._logLevel=Bw,this._logHandler=Hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const Fw=(r,e)=>e.some(n=>r instanceof n);let a_,o_;function Gw(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qw(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n1=new WeakMap,qm=new WeakMap,i1=new WeakMap,Rm=new WeakMap,Sg=new WeakMap;function Yw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ws(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&n1.set(n,r)}).catch(()=>{}),Sg.set(e,r),e}function Kw(r){if(qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});qm.set(r,e)}let Hm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||i1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Xw(r){Hm=r(Hm)}function $w(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Cm(this),e,...n);return i1.set(s,e.sort?e.sort():[e]),ws(s)}:Qw().includes(r)?function(...e){return r.apply(Cm(this),e),ws(n1.get(this))}:function(...e){return ws(r.apply(Cm(this),e))}}function Jw(r){return typeof r=="function"?$w(r):(r instanceof IDBTransaction&&Kw(r),Fw(r,Gw())?new Proxy(r,Hm):r)}function ws(r){if(r instanceof IDBRequest)return Yw(r);if(Rm.has(r))return Rm.get(r);const e=Jw(r);return e!==r&&(Rm.set(r,e),Sg.set(e,r)),e}const Cm=r=>Sg.get(r);function Zw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ws(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ws(f.result),g.oldVersion,g.newVersion,ws(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Ww=["get","getKey","getAll","getAllKeys","count"],e2=["put","add","delete","clear"],xm=new Map;function l_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=e2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ww.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return xm.set(e,u),u}Xw(r=>({...r,get:(e,n,s)=>l_(e,n)||r.get(e,n,s),has:(e,n)=>!!l_(e,n)||r.has(e,n)}));class t2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function n2(r){return r.getComponent()?.type==="VERSION"}const Fm="@firebase/app",u_="0.14.6";const Or=new Tg("@firebase/app"),i2="@firebase/app-compat",r2="@firebase/analytics-compat",s2="@firebase/analytics",a2="@firebase/app-check-compat",o2="@firebase/app-check",l2="@firebase/auth",u2="@firebase/auth-compat",c2="@firebase/database",h2="@firebase/data-connect",f2="@firebase/database-compat",d2="@firebase/functions",m2="@firebase/functions-compat",g2="@firebase/installations",p2="@firebase/installations-compat",y2="@firebase/messaging",v2="@firebase/messaging-compat",_2="@firebase/performance",b2="@firebase/performance-compat",E2="@firebase/remote-config",T2="@firebase/remote-config-compat",S2="@firebase/storage",A2="@firebase/storage-compat",w2="@firebase/firestore",R2="@firebase/ai",C2="@firebase/firestore-compat",x2="firebase",I2="12.6.0";const Gm="[DEFAULT]",N2={[Fm]:"fire-core",[i2]:"fire-core-compat",[s2]:"fire-analytics",[r2]:"fire-analytics-compat",[o2]:"fire-app-check",[a2]:"fire-app-check-compat",[l2]:"fire-auth",[u2]:"fire-auth-compat",[c2]:"fire-rtdb",[h2]:"fire-data-connect",[f2]:"fire-rtdb-compat",[d2]:"fire-fn",[m2]:"fire-fn-compat",[g2]:"fire-iid",[p2]:"fire-iid-compat",[y2]:"fire-fcm",[v2]:"fire-fcm-compat",[_2]:"fire-perf",[b2]:"fire-perf-compat",[E2]:"fire-rc",[T2]:"fire-rc-compat",[S2]:"fire-gcs",[A2]:"fire-gcs-compat",[w2]:"fire-fst",[C2]:"fire-fst-compat",[R2]:"fire-vertex","fire-js":"fire-js",[x2]:"fire-js-all"};const Eh=new Map,D2=new Map,Qm=new Map;function c_(r,e){try{r.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function xo(r){const e=r.name;if(Qm.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,r);for(const n of Eh.values())c_(n,r);for(const n of D2.values())c_(n,r);return!0}function Ag(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ii(r){return r==null?!1:r.settings!==void 0}const O2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new yu("app","Firebase",O2);class M2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}const Uo=I2;function r1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Gm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Rs.create("bad-app-name",{appName:String(o)});if(n||(n=Zb()),!n)throw Rs.create("no-options");const u=Eh.get(o);if(u){if(Ea(n,u.options)&&Ea(s,u.config))return u;throw Rs.create("duplicate-app",{appName:o})}const f=new Pw(o);for(const g of Qm.values())f.addComponent(g);const m=new M2(n,s,f);return Eh.set(o,m),m}function s1(r=Gm){const e=Eh.get(r);if(!e&&r===Gm&&Zb())return r1();if(!e)throw Rs.create("no-app",{appName:r});return e}function Cs(r,e,n){let s=N2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(f.join(" "));return}xo(new Ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const V2="firebase-heartbeat-database",k2=1,au="firebase-heartbeat-store";let Im=null;function a1(){return Im||(Im=Zw(V2,k2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(r=>{throw Rs.create("idb-open",{originalErrorMessage:r.message})})),Im}async function L2(r){try{const n=(await a1()).transaction(au),s=await n.objectStore(au).get(o1(r));return await n.done,s}catch(e){if(e instanceof Ur)Or.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e?.message});Or.warn(n.message)}}}async function h_(r,e){try{const s=(await a1()).transaction(au,"readwrite");await s.objectStore(au).put(e,o1(r)),await s.done}catch(n){if(n instanceof Ur)Or.warn(n.message);else{const s=Rs.create("idb-set",{originalErrorMessage:n?.message});Or.warn(s.message)}}}function o1(r){return`${r.name}!${r.options.appId}`}const U2=1024,j2=30;class P2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>j2){const o=q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f_(),{heartbeatsToSend:n,unsentEntries:s}=z2(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Or.warn(e),""}}}function f_(){return new Date().toISOString().substring(0,10)}function z2(r,e=U2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),d_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),d_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class B2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cw()?xw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function d_(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function q2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function H2(r){xo(new Ta("platform-logger",e=>new t2(e),"PRIVATE")),xo(new Ta("heartbeat",e=>new P2(e),"PRIVATE")),Cs(Fm,u_,r),Cs(Fm,u_,"esm2020"),Cs("fire-js","")}H2("");function l1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=l1,u1=new yu("auth","Firebase",l1());const Th=new Tg("@firebase/auth");function G2(r,...e){Th.logLevel<=ze.WARN&&Th.warn(`Auth (${Uo}): ${r}`,...e)}function uh(r,...e){Th.logLevel<=ze.ERROR&&Th.error(`Auth (${Uo}): ${r}`,...e)}function sr(r,...e){throw Rg(r,...e)}function Di(r,...e){return Rg(r,...e)}function wg(r,e,n){const s={...F2(),[e]:n};return new yu("auth","Firebase",s).create(e,{appName:r.name})}function va(r){return wg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q2(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&sr(r,"argument-error"),wg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return u1.create(r,...e)}function Se(r,e,...n){if(!r)throw Rg(e,...n)}function Nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function Mr(r,e){r||Nr(e)}function Ym(){return typeof self<"u"&&self.location?.href||""}function Y2(){return m_()==="http:"||m_()==="https:"}function m_(){return typeof self<"u"&&self.location?.protocol||null}function K2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||Sw()||"connection"in navigator)?navigator.onLine:!0}function X2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=bw()||Aw()}get(){return K2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cg(r,e){Mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class c1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const J2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z2=new _u(3e4,6e4);function xg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function jo(r,e,n,s,o={}){return h1(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=vu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return Tw()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Lo(r.emulatorConfig.host)&&(p.credentials="include"),c1.fetch()(await f1(r,r.config.apiHost,n,m),p)})}async function h1(r,e,n){r._canInitEmulator=!1;const s={...$2,...e};try{const o=new eR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw th(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw th(r,"user-disabled",f);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw wg(r,b,p);sr(r,b)}}catch(o){if(o instanceof Ur)throw o;sr(r,"network-request-failed",{message:String(o)})}}async function W2(r,e,n,s,o={}){const u=await jo(r,e,n,s,o);return"mfaPendingCredential"in u&&sr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function f1(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Cg(r.config,o):`${r.config.apiScheme}://${o}`;return J2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class eR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),Z2.get())})}}function th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Di(r,e,s);return o.customData._tokenResponse=n,o}async function tR(r,e){return jo(r,"POST","/v1/accounts:delete",e)}async function Sh(r,e){return jo(r,"POST","/v1/accounts:lookup",e)}function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nR(r,e=!1){const n=Ht(r),s=await n.getIdToken(e),o=Ig(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Jl(Nm(o.auth_time)),issuedAtTime:Jl(Nm(o.iat)),expirationTime:Jl(Nm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Nm(r){return Number(r)*1e3}function Ig(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=$b(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function g_(r){const e=Ig(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ou(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ur&&iR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class rR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ah(r){const e=r.auth,n=await r.getIdToken(),s=await ou(r,Sh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?d1(o.providerUserInfo):[],f=aR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,p=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,b)}async function sR(r){const e=Ht(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function d1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function oR(r,e){const n=await h1(r,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await f1(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Lo(r.emulatorConfig.host)&&(g.credentials="include"),c1.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lR(r,e){return jo(r,"POST","/v2/accounts:revokeToken",xg(r,e))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=g_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await oR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new To;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Nr("not implemented")}}function vs(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new rR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nR(this,e)}reload(){return sR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(va(this.auth));const e=await this.getIdToken();return await ou(this,tR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:x,providerData:G,stsTokenManager:H}=n;Se(E&&H,e,"internal-error");const q=To.fromJSON(this.name,H);Se(typeof E=="string",e,"internal-error"),vs(s,e.name),vs(o,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof x=="boolean",e,"internal-error"),vs(u,e.name),vs(f,e.name),vs(m,e.name),vs(g,e.name),vs(p,e.name),vs(b,e.name);const Z=new Ni({uid:E,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:x,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:p,lastLoginAt:b});return G&&Array.isArray(G)&&(Z.providerData=G.map(ie=>({...ie}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new To;o.updateFromServerResponse(n);const u=new Ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?d1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new To;m.updateFromIdToken(s);const g=new Ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const p_=new Map;function Dr(r){Mr(r instanceof Function,"Expected a class definition");let e=p_.get(r);return e?(Mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,p_.set(r,e),e)}class m1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}m1.type="NONE";const y_=m1;function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class So{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?Ni._fromGetAccountInfoResponse(this.auth,n,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new So(Dr(y_),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Dr(y_);const f=ch(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const b=await p._get(f);if(b){let E;if(typeof b=="string"){const w=await Sh(e,{idToken:b}).catch(()=>{});if(!w)break;E=await Ni._fromGetAccountInfoResponse(e,w,b)}else E=Ni._fromJSON(e,b);p!==u&&(m=E),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new So(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new So(u,e,s))}}function v_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b1(e))return"Blackberry";if(E1(e))return"Webos";if(p1(e))return"Safari";if((e.includes("chrome/")||y1(e))&&!e.includes("edge/"))return"Chrome";if(_1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function g1(r=bn()){return/firefox\//i.test(r)}function p1(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y1(r=bn()){return/crios\//i.test(r)}function v1(r=bn()){return/iemobile/i.test(r)}function _1(r=bn()){return/android/i.test(r)}function b1(r=bn()){return/blackberry/i.test(r)}function E1(r=bn()){return/webos/i.test(r)}function Ng(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uR(r=bn()){return Ng(r)&&!!window.navigator?.standalone}function cR(){return ww()&&document.documentMode===10}function T1(r=bn()){return Ng(r)||_1(r)||E1(r)||b1(r)||/windows phone/i.test(r)||v1(r)}function S1(r,e=[]){let n;switch(r){case"Browser":n=v_(bn());break;case"Worker":n=`${v_(bn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${s}`}class hR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function fR(r,e={}){return jo(r,"GET","/v2/passwordPolicy",xg(r,e))}const dR=6;class mR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class gR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new hR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ii(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject(va(this));const n=e?Ht(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fR(this),n=new mR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $h(r){return Ht(r)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mw(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pR(r){Dg=r}function yR(r){return Dg.loadJS(r)}function vR(){return Dg.gapiScript}function _R(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function bR(r,e){const n=Ag(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ea(u,e??{}))return o;sr(o,"already-initialized")}return n.initialize({options:e})}function ER(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Dr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function TR(r,e,n){const s=$h(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=A1(e),{host:f,port:m}=SR(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Ea(p,s.config.emulator)&&Ea(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Lo(f)?(e1(`${u}//${f}${g}`),t1("Auth",!0)):AR()}function A1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function SR(r){const e=A1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:b_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:b_(f)}}}function b_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function AR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class w1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function Ao(r,e){return W2(r,"POST","/v1/accounts:signInWithIdp",xg(r,e))}const wR="http://localhost";class Sa extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:wR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}class Og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bu extends Og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bs extends bu{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";class Ir extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sa._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ir.credential(n,s)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";class Es extends bu{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";class Ts extends bu{constructor(){super("twitter.com")}static credential(e,n){return Sa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ni._fromIdTokenResponse(e,s,o),f=E_(s);return new Io({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=E_(s);return new Io({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function E_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class wh extends Ur{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new wh(e,n,s,o)}}function R1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,e,s):u})}async function RR(r,e,n=!1){const s=await ou(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Io._forOperation(r,"link",s)}async function CR(r,e,n=!1){const{auth:s}=r;if(Ii(s.app))return Promise.reject(va(s));const o="reauthenticate";try{const u=await ou(r,R1(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=Ig(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),Io._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&sr(s,"user-mismatch"),u}}async function xR(r,e,n=!1){if(Ii(r.app))return Promise.reject(va(r));const s="signIn",o=await R1(r,s,e),u=await Io._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function IR(r,e,n,s){return Ht(r).onIdTokenChanged(e,n,s)}function NR(r,e,n){return Ht(r).beforeAuthStateChanged(e,n)}function DR(r,e,n,s){return Ht(r).onAuthStateChanged(e,n,s)}function C1(r){return Ht(r).signOut()}const Rh="__sak";class x1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OR=1e3,MR=10;class I1 extends x1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);cR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I1.type="LOCAL";const VR=I1;class N1 extends x1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N1.type="SESSION";const D1=N1;function kR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await kR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];function Mg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class LR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Mg("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(E){const w=E;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function er(){return window}function UR(r){er().location.href=r}function O1(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function jR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PR(){return navigator?.serviceWorker?.controller||null}function zR(){return O1()?self:null}const M1="firebaseLocalStorageDb",BR=1,Ch="firebaseLocalStorage",V1="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function qR(){const r=indexedDB.deleteDatabase(M1);return new Eu(r).toPromise()}function Xm(){const r=indexedDB.open(M1,BR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:V1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await qR(),e(await Xm()))})})}async function T_(r,e,n){const s=Zh(r,!0).put({[V1]:e,value:n});return new Eu(s).toPromise()}async function HR(r,e){const n=Zh(r,!1).get(e),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function S_(r,e){const n=Zh(r,!0).delete(e);return new Eu(n).toPromise()}const FR=800,GR=3;class k1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>GR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(zR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jR(),!this.activeServiceWorker)return;this.sender=new LR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await T_(e,Rh,"1"),await S_(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>T_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>HR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Zh(o,!1).getAll();return new Eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k1.type="LOCAL";const QR=k1;new _u(3e4,6e4);function L1(r,e){return e?Dr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vg extends w1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YR(r){return xR(r.auth,new Vg(r),r.bypassAuthState)}function KR(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),CR(n,new Vg(r),r.bypassAuthState)}async function XR(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),RR(n,new Vg(r),r.bypassAuthState)}class U1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YR;case"linkViaPopup":case"linkViaRedirect":return XR;case"reauthViaPopup":case"reauthViaRedirect":return KR;default:sr(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $R=new _u(2e3,1e4);async function JR(r,e,n){if(Ii(r.app))return Promise.reject(Di(r,"operation-not-supported-in-this-environment"));const s=$h(r);Q2(r,e,Og);const o=L1(s,n);return new pa(s,"signInViaPopup",e,o).executeNotNull()}class pa extends U1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$R.get())};e()}}pa.currentPopupAction=null;const ZR="pendingRedirect",hh=new Map;class WR extends U1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await eC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eC(r,e){const n=iC(e),s=nC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function tC(r,e){hh.set(r._key(),e)}function nC(r){return Dr(r._redirectPersistence)}function iC(r){return ch(ZR,r.config.apiKey,r.name)}async function rC(r,e,n=!1){if(Ii(r.app))return Promise.reject(va(r));const s=$h(r),o=L1(s,e),f=await new WR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const sC=600*1e3;class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!j1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sC&&this.cachedEventUids.clear(),this.cachedEventUids.has(A_(e))}saveEventToCache(e){this.cachedEventUids.add(A_(e)),this.lastProcessedEventTime=Date.now()}}function A_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function j1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function oC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j1(r);default:return!1}}async function lC(r,e={}){return jo(r,"GET","/v1/projects",e)}const uC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function hC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lC(r);for(const n of e)try{if(fC(n))return}catch{}sr(r,"unauthorized-domain")}function fC(r){const e=Ym(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!cC.test(n))return!1;if(uC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const dC=new _u(3e4,6e4);function w_(){const r=er().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mC(r){return new Promise((e,n)=>{function s(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),n(Di(r,"network-request-failed"))},timeout:dC.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)s();else{const o=_R("iframefcb");return er()[o]=()=>{gapi.load?s():n(Di(r,"network-request-failed"))},yR(`${vR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}let fh=null;function gC(r){return fh=fh||mC(r),fh}const pC=new _u(5e3,15e3),yC="__/auth/iframe",vC="emulator/auth/iframe",_C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EC(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Cg(e,vC):`https://${r.config.authDomain}/${yC}`,s={apiKey:e.apiKey,appName:r.name,v:Uo},o=bC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function TC(r){const e=await gC(r),n=er().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:EC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_C,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Di(r,"network-request-failed"),m=er().setTimeout(()=>{u(f)},pC.get());function g(){er().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AC=500,wC=600,RC="_blank",CC="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(r,e,n,s=AC,o=wC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...SC,width:s.toString(),height:o.toString(),top:u,left:f},p=bn().toLowerCase();n&&(m=y1(p)?RC:n),g1(p)&&(e=e||CC,g.scrollbars="yes");const b=Object.entries(g).reduce((w,[x,G])=>`${w}${x}=${G},`,"");if(uR(p)&&m!=="_self")return IC(e||"",m),new R_(null);const E=window.open(e||"",m,b);Se(E,r,"popup-blocked");try{E.focus()}catch{}return new R_(E)}function IC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const NC="__/auth/handler",DC="emulator/auth/handler",OC=encodeURIComponent("fac");async function C_(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Uo,eventId:o};if(e instanceof Og){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Ow(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,E]of Object.entries({}))f[b]=E}if(e instanceof bu){const b=e.getScopes().filter(E=>E!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await r._getAppCheckToken(),p=g?`#${OC}=${encodeURIComponent(g)}`:"";return`${MC(r)}?${vu(m).slice(1)}${p}`}function MC({config:r}){return r.emulator?Cg(r,DC):`https://${r.authDomain}/${NC}`}const Dm="webStorageSupport";class VC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=rC,this._overrideRedirectResult=tC}async _openPopup(e,n,s,o){Mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await C_(e,n,s,Ym(),o);return xC(e,u,Mg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await C_(e,n,s,Ym(),o);return UR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await TC(e),s=new aC(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},o=>{const u=o?.[0]?.[Dm];u!==void 0&&n(!!u),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T1()||p1()||Ng()}}const kC=VC;var x_="@firebase/auth",I_="1.11.1";class LC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jC(r){xo(new Ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S1(r)},p=new gR(s,o,u,g);return ER(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xo(new Ta("auth-internal",e=>{const n=$h(e.getProvider("auth").getImmediate());return(s=>new LC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(x_,I_,UC(r)),Cs(x_,I_,"esm2020")}const PC=300,zC=Wb("authIdTokenMaxAge")||PC;let N_=null;const BC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zC)return;const o=n?.token;N_!==o&&(N_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qC(r=s1()){const e=Ag(r,"auth");if(e.isInitialized())return e.getImmediate();const n=bR(r,{popupRedirectResolver:kC,persistence:[QR,VR,D1]}),s=Wb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=BC(u.toString());NR(n,f,()=>f(n.currentUser)),IR(n,m=>f(m))}}const o=Jb("auth");return o&&TR(n,`http://${o}`),n}function HC(){return document.getElementsByTagName("head")?.[0]??document}pR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",HC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jC("Browser");var FC="firebase",GC="12.6.0";Cs(FC,GC,"app");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xs,P1;(function(){var r;function e(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,D,L){for(var N=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)N[Te-2]=arguments[Te];return R.prototype[D].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,I){I||(I=0);const M=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)M[D]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(D=0;D<16;++D)M[D]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],D=C.g[2];let L=C.g[3],N;N=R+(L^I&(D^L))+M[0]+3614090360&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(D^R&(I^D))+M[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(I^L&(R^I))+M[2]+606105819&4294967295,D=L+(N<<17&4294967295|N>>>15),N=I+(R^D&(L^R))+M[3]+3250441966&4294967295,I=D+(N<<22&4294967295|N>>>10),N=R+(L^I&(D^L))+M[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(D^R&(I^D))+M[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(I^L&(R^I))+M[6]+2821735955&4294967295,D=L+(N<<17&4294967295|N>>>15),N=I+(R^D&(L^R))+M[7]+4249261313&4294967295,I=D+(N<<22&4294967295|N>>>10),N=R+(L^I&(D^L))+M[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(D^R&(I^D))+M[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(I^L&(R^I))+M[10]+4294925233&4294967295,D=L+(N<<17&4294967295|N>>>15),N=I+(R^D&(L^R))+M[11]+2304563134&4294967295,I=D+(N<<22&4294967295|N>>>10),N=R+(L^I&(D^L))+M[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(D^R&(I^D))+M[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(I^L&(R^I))+M[14]+2792965006&4294967295,D=L+(N<<17&4294967295|N>>>15),N=I+(R^D&(L^R))+M[15]+1236535329&4294967295,I=D+(N<<22&4294967295|N>>>10),N=R+(D^L&(I^D))+M[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^D&(R^I))+M[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^I&(L^R))+M[11]+643717713&4294967295,D=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(D^L))+M[0]+3921069994&4294967295,I=D+(N<<20&4294967295|N>>>12),N=R+(D^L&(I^D))+M[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^D&(R^I))+M[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^I&(L^R))+M[15]+3634488961&4294967295,D=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(D^L))+M[4]+3889429448&4294967295,I=D+(N<<20&4294967295|N>>>12),N=R+(D^L&(I^D))+M[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^D&(R^I))+M[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^I&(L^R))+M[3]+4107603335&4294967295,D=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(D^L))+M[8]+1163531501&4294967295,I=D+(N<<20&4294967295|N>>>12),N=R+(D^L&(I^D))+M[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^D&(R^I))+M[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^I&(L^R))+M[7]+1735328473&4294967295,D=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(D^L))+M[12]+2368359562&4294967295,I=D+(N<<20&4294967295|N>>>12),N=R+(I^D^L)+M[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^D)+M[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^I)+M[11]+1839030562&4294967295,D=L+(N<<16&4294967295|N>>>16),N=I+(D^L^R)+M[14]+4259657740&4294967295,I=D+(N<<23&4294967295|N>>>9),N=R+(I^D^L)+M[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^D)+M[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^I)+M[7]+4139469664&4294967295,D=L+(N<<16&4294967295|N>>>16),N=I+(D^L^R)+M[10]+3200236656&4294967295,I=D+(N<<23&4294967295|N>>>9),N=R+(I^D^L)+M[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^D)+M[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^I)+M[3]+3572445317&4294967295,D=L+(N<<16&4294967295|N>>>16),N=I+(D^L^R)+M[6]+76029189&4294967295,I=D+(N<<23&4294967295|N>>>9),N=R+(I^D^L)+M[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^D)+M[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^I)+M[15]+530742520&4294967295,D=L+(N<<16&4294967295|N>>>16),N=I+(D^L^R)+M[2]+3299628645&4294967295,I=D+(N<<23&4294967295|N>>>9),N=R+(D^(I|~L))+M[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~D))+M[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~I))+M[14]+2878612391&4294967295,D=L+(N<<15&4294967295|N>>>17),N=I+(L^(D|~R))+M[5]+4237533241&4294967295,I=D+(N<<21&4294967295|N>>>11),N=R+(D^(I|~L))+M[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~D))+M[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~I))+M[10]+4293915773&4294967295,D=L+(N<<15&4294967295|N>>>17),N=I+(L^(D|~R))+M[1]+2240044497&4294967295,I=D+(N<<21&4294967295|N>>>11),N=R+(D^(I|~L))+M[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~D))+M[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~I))+M[6]+2734768916&4294967295,D=L+(N<<15&4294967295|N>>>17),N=I+(L^(D|~R))+M[13]+1309151649&4294967295,I=D+(N<<21&4294967295|N>>>11),N=R+(D^(I|~L))+M[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~D))+M[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~I))+M[2]+718787259&4294967295,D=L+(N<<15&4294967295|N>>>17),N=I+(L^(D|~R))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,M=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=I;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<R;)if(M[D++]=C.charCodeAt(L++),D==this.blockSize){o(this,M),D=0;break}}else for(;L<R;)if(M[D++]=C[L++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[R++]=this.g[I]>>>M&255;return C};function u(C,R){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function f(C,R){this.h=R;const I=[];let M=!0;for(let D=C.length-1;D>=0;D--){const L=C[D]|0;M&&L==R||(I[D]=L,M=!1)}this.g=I}var m={};function g(C){return-128<=C&&C<128?u(C,function(R){return new f([R|0],R<0?-1:0)}):new f([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return q(p(-C));const R=[];let I=1;for(let M=0;C>=I;M++)R[M]=C/I|0,I*=4294967296;return new f(R,0)}function b(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return q(b(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(R,8));let M=E;for(let L=0;L<C.length;L+=8){var D=Math.min(8,C.length-L);const N=parseInt(C.substring(L,L+D),R);D<8?(D=p(Math.pow(R,D)),M=M.j(D).add(p(N))):(M=M.j(I),M=M.add(p(N)))}return M}var E=g(0),w=g(1),x=g(16777216);r=f.prototype,r.m=function(){if(H(this))return-q(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(H(this))return"-"+q(this).toString(C);const R=p(Math.pow(C,6));var I=this;let M="";for(;;){const D=oe(I,R).g;I=Z(I,D.j(R));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,G(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function H(C){return C.h==-1}r.l=function(C){return C=Z(this,C),H(C)?-1:G(C)?0:1};function q(C){const R=C.g.length,I=[];for(let M=0;M<R;M++)I[M]=~C.g[M];return new f(I,~C.h).add(w)}r.abs=function(){return H(this)?q(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let D=0;D<=R;D++){let L=M+(this.i(D)&65535)+(C.i(D)&65535),N=(L>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=N>>>16,L&=65535,N&=65535,I[D]=N<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Z(C,R){return C.add(q(R))}r.j=function(C){if(G(this)||G(C))return E;if(H(this))return H(C)?q(this).j(q(C)):q(q(this).j(C));if(H(C))return q(this.j(q(C)));if(this.l(x)<0&&C.l(x)<0)return p(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const L=this.i(M)>>>16,N=this.i(M)&65535,Te=C.i(D)>>>16,Me=C.i(D)&65535;I[2*M+2*D]+=N*Me,ie(I,2*M+2*D),I[2*M+2*D+1]+=L*Me,ie(I,2*M+2*D+1),I[2*M+2*D+1]+=N*Te,ie(I,2*M+2*D+1),I[2*M+2*D+2]+=L*Te,ie(I,2*M+2*D+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new f(I,0)};function ie(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function ne(C,R){this.g=C,this.h=R}function oe(C,R){if(G(R))throw Error("division by zero");if(G(C))return new ne(E,E);if(H(C))return R=oe(q(C),R),new ne(q(R.g),q(R.h));if(H(R))return R=oe(C,q(R)),new ne(q(R.g),R.h);if(C.g.length>30){if(H(C)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=R;M.l(C)<=0;)I=de(I),M=de(M);var D=ue(I,1),L=ue(M,1);for(M=ue(M,2),I=ue(I,2);!G(M);){var N=L.add(M);N.l(C)<=0&&(D=D.add(I),L=N),M=ue(M,1),I=ue(I,1)}return R=Z(C,D.j(R)),new ne(D,R)}for(D=E;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=p(I),N=L.j(R);H(N)||N.l(C)>0;)I-=M,L=p(I),N=L.j(R);G(L)&&(L=w),D=D.add(L),C=Z(C,N)}return new ne(D,C)}r.B=function(C){return oe(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)&C.i(M);return new f(I,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)|C.i(M);return new f(I,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)^C.i(M);return new f(I,this.h^C.h)};function de(C){const R=C.g.length+1,I=[];for(let M=0;M<R;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new f(I,C.h)}function ue(C,R){const I=R>>5;R%=32;const M=C.g.length-I,D=[];for(let L=0;L<M;L++)D[L]=R>0?C.i(L+I)>>>R|C.i(L+I+1)<<32-R:C.i(L+I);return new f(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,P1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=b,xs=f}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var z1,Gl,B1,dh,$m,q1,H1,F1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in _))break e;_=_[P]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function b(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function E(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,P,Q){for(var ae=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ae[xe-2]=arguments[xe];return y.prototype[P].apply(S,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const y=c.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function G(c,y){for(let S=1;S<arguments.length;S++){const P=arguments[S];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=c.length||0;const Q=P.length||0;c.length=_+Q;for(let ae=0;ae<Q;ae++)c[_+ae]=P[ae]}else c.push(P)}}class H{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,_){const S=ne.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new H(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ue=!1,C=new ie,R=()=>{const c=Promise.resolve(void 0);de=()=>{c.then(I)}};function I(){for(var c;c=Z();){try{c.h.call(c.g)}catch(_){q(_)}var y=ne;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ue=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Te(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}E(Te,D),Te.prototype.init=function(c,y){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(c,y,_,S,P){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=P,this.key=++K,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function He(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function V(c){const y={};for(const _ in c)y[_]=c[_];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let _,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(_ in S)c[_]=S[_];for(let Q=0;Q<X.length;Q++)_=X[Q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,y,_,S,P){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ae=ve(c,y,S,P);return ae>-1?(y=c[ae],_||(y.fa=!1)):(y=new re(y,this.src,Q,!!S,P),y.fa=_,c.push(y)),y};function _e(c,y){const _=y.type;if(_ in c.g){var S=c.g[_],P=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=P>=0)&&Array.prototype.splice.call(S,P,1),Q&&(ge(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ve(c,y,_,S){for(let P=0;P<c.length;++P){const Q=c[P];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==S)return P}return-1}var De="closure_lm_"+(Math.random()*1e6|0),nt={};function Qe(c,y,_,S,P){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Qe(c,y[Q],_,S,P);return null}return _=Pr(_),c&&c[Me]?c.J(y,_,m(S)?!!S.capture:!1,P):Ue(c,y,_,!1,S,P)}function Ue(c,y,_,S,P,Q){if(!y)throw Error("Invalid event type");const ae=m(P)?!!P.capture:!!P;let xe=xn(c);if(xe||(c[De]=xe=new le(c)),_=xe.add(y,_,S,ae,Q),_.proxy)return _;if(S=ni(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)L||(P=ae),P===void 0&&(P=!1),c.addEventListener(y.toString(),S,P);else if(c.attachEvent)c.attachEvent(Nt(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ni(){function c(_){return y.call(c.src,c.listener,_)}const y=ii;return c}function tn(c,y,_,S,P){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)tn(c,y[Q],_,S,P);else S=m(S)?!!S.capture:!!S,_=Pr(_),c&&c[Me]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],_=ve(y,_,S,P),_>-1&&(ge(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=xn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ve(y,_,S,P)),(_=c>-1?y[c]:null)&&zn(_))}function zn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Me])_e(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Nt(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=xn(y))?(_e(_,c),_.h==0&&(_.src=null,y[De]=null)):ge(c)}}}function Nt(c){return c in nt?nt[c]:nt[c]="on"+c}function ii(c,y){if(c.da)c=!0;else{y=new Te(y,this);const _=c.listener,S=c.ha||c.src;c.fa&&zn(c),c=_.call(S,y)}return c}function xn(c){return c=c[De],c instanceof le?c:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pr(c){return typeof c=="function"?c:(c[jr]||(c[jr]=function(y){return c.handleEvent(y)}),c[jr])}function dt(){M.call(this),this.i=new le(this),this.M=this,this.G=null}E(dt,M),dt.prototype[Me]=!0,dt.prototype.removeEventListener=function(c,y,_,S){tn(this,c,y,_,S)};function it(c,y){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var P=y;y=new D(S,c),se(y,P)}P=!0;let Q,ae;if(_)for(ae=_.length-1;ae>=0;ae--)Q=y.g=_[ae],P=Bn(Q,S,!0,y)&&P;if(Q=y.g=c,P=Bn(Q,S,!0,y)&&P,P=Bn(Q,S,!1,y)&&P,_)for(ae=0;ae<_.length;ae++)Q=y.g=_[ae],P=Bn(Q,S,!1,y)&&P}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let S=0;S<_.length;S++)ge(_[S]);delete c.g[y],c.h--}}this.G=null},dt.prototype.J=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},dt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Bn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let P=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==_){const xe=ae.listener,wt=ae.ha||ae.src;ae.fa&&_e(c.i,ae),P=xe.call(wt,S)!==!1&&P}}return P&&!S.defaultPrevented}function zr(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Bs(c){c.g=zr(()=>{c.g=null,c.i&&(c.i=!1,Bs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Kt extends M{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(c){M.call(this),this.h=c,this.g={}}E(or,M);var qs=[];function ri(c){Ce(c.g,function(y,_){this.g.hasOwnProperty(_)&&zn(y)},c),c.g={}}or.prototype.N=function(){or.Z.N.call(this),ri(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=f.JSON.stringify,lr=f.JSON.parse,Hs=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function qn(){}function Fs(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){D.call(this,"d")}E(Ft,D);function fn(){D.call(this,"c")}E(fn,D);var mt={},Ia=null;function ur(){return Ia=Ia||new dt}mt.Ia="serverreachability";function Na(c){D.call(this,mt.Ia,c)}E(Na,D);function si(c){const y=ur();it(y,new Na(y))}mt.STAT_EVENT="statevent";function cr(c,y){D.call(this,mt.STAT_EVENT,c),this.stat=y}E(cr,D);function Ve(c){const y=ur();it(y,new cr(y,c))}mt.Ja="timingevent";function gt(c,y){D.call(this,mt.Ja,c),this.size=y}E(gt,D);function pt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Dt(){this.g=!0}Dt.prototype.ua=function(){this.g=!1};function dn(c,y,_,S,P,Q){c.info(function(){if(c.g)if(Q){var ae="",xe=Q.split("&");for(let $e=0;$e<xe.length;$e++){var wt=xe[$e].split("=");if(wt.length>1){const yt=wt[0];wt=wt[1];const ui=yt.split("_");ae=ui.length>=2&&ui[1]=="type"?ae+(yt+"="+wt+"&"):ae+(yt+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+y+`
`+_+`
`+ae})}function Xt(c,y,_,S,P,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+y+`
`+_+`
`+Q+" "+ae})}function St(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+At(c,_)+(S?" "+S:"")})}function In(c,y){c.info(function(){return"TIMEOUT: "+y})}Dt.prototype.info=function(){};function At(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var _=Q[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ae=1;ae<S.length;ae++)S[ae]=""}}}}return En(Q)}catch{return y}}var mn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tn;function Fn(){}E(Fn,qn),Fn.prototype.g=function(){return new XMLHttpRequest},Tn=new Fn;function Sn(c){return encodeURIComponent(String(c))}function Gn(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function nn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.S=S||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new An}function An(){this.i=null,this.g="",this.h=!1}var Ot={},$t={};function Li(c,y,_){c.M=1,c.A=Gs(Vt(y)),c.u=_,c.R=!0,Da(c,null)}function Da(c,y){c.F=Date.now(),Ui(c),c.B=Vt(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ka(_.i,"t",S),c.C=0,_=c.j.L,c.h=new An,c.g=Ku(c.j,_?y:null,!c.u),c.P>0&&(c.O=new Kt(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(qs[0]=P.toString()),P=qs);for(let Q=0;Q<P.length;Q++){const ae=Qe(_,P[Q],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),si(),dn(c.i,c.v,c.B,c.l,c.S,c.u)}nn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Si(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=Si(this.g),wt=this.g.ya(),$e=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||xe!=4||wt==7||(wt==8||$e<=0?si(3):si(2)),ji(this);var y=this.g.ca();this.X=y;var _=wf(this);if(this.o=y==200,Xt(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var Q=S;break t}}Q=null}if(c=Q)St(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pi(this,c);else{this.o=!1,this.m=3,Ve(12),Qn(this),ai(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<_.length;)if(yt=ku(this,_),yt==$t){xe==4&&(this.m=4,Ve(14),c=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ot){this.m=4,Ve(15),St(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else St(this.i,this.l,yt,null),Pi(this,yt);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,Ve(16),c=!1),this.o=this.o&&c,!c)St(this.i,this.l,_,"[Invalid Chunked Response]"),Qn(this),ai(this);else if(_.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),al(ae),ae.P=!0,Ve(11))}}else St(this.i,this.l,_,null),Pi(this,_);xe==4&&Qn(this),this.o&&!this.K&&(xe==4?Fu(this.j,this):(this.o=!1,Ui(this)))}else fr(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Qn(this),ai(this)}}}catch{}finally{}};function wf(c){if(!Vu(c))return c.g.la();const y=rn(c.g);if(y==="")return"";let _="";const S=y.length,P=Si(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Qn(c),ai(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,_+=c.h.i.decode(y[Q],{stream:!(P&&Q==S-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?$t:(_=Number(y.substring(_,S)),isNaN(_)?Ot:(S+=1,S+_>y.length?$t:(y=y.slice(S,S+_),c.C=S+_,y)))}nn.prototype.cancel=function(){this.K=!0,Qn(this)};function Ui(c){c.T=Date.now()+c.H,Oa(c,c.H)}function Oa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pt(p(c.aa,c),y)}function ji(c){c.D&&(f.clearTimeout(c.D),c.D=null)}nn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(In(this.i,this.B),this.M!=2&&(si(),Ve(17)),Qn(this),this.m=2,ai(this)):Oa(this,this.T-c)};function ai(c){c.j.I==0||c.K||Fu(c.j,c)}function Qn(c){ji(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ri(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Pi(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||Bi(_.h,c))){if(!c.L&&Bi(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)za(_),Kr(_);else break e;Zs(_),Ve(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=pt(p(_.Va,_),6e3));zi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Yi(_,11)}else if((c.L||_.g==c)&&za(_),!N(y))for(P=_.Ba.g.parse(y),y=0;y<P.length;y++){let $e=P[y];const yt=$e[0];if(!(yt<=_.K))if(_.K=yt,$e=$e[1],_.I==2)if($e[0]=="c"){_.M=$e[1],_.ba=$e[2];const ui=$e[3];ui!=null&&(_.ka=ui,_.j.info("VER="+_.ka));const Ki=$e[4];Ki!=null&&(_.za=Ki,_.j.info("SVER="+_.za));const Ai=$e[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(S=1.5*Ai,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const wi=c.g;if(wi){const Ws=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ws){var Q=S.h;Q.g||Ws.indexOf("spdy")==-1&&Ws.indexOf("quic")==-1&&Ws.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ko(Q,Q.h),Q.h=null))}if(S.G){const Ba=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(S.wa=Ba,We(S.J,S.G,Ba))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var ae=c;if(S.na=Yu(S,S.L?S.ba:null,S.W),ae.L){Xo(S.h,ae);var xe=ae,wt=S.O;wt&&(xe.H=wt),xe.D&&(ji(xe),Ui(xe)),S.g=ae}else qu(S);_.i.length>0&&Qi(_)}else $e[0]!="stop"&&$e[0]!="close"||Yi(_,7);else _.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Yi(_,7):rl(_):$e[0]!="noop"&&_.l&&_.l.qa($e),_.A=0)}}si(4)}catch{}}var Mt=class{constructor(c,y){this.g=c,this.map=y}};function Qo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function zi(c){return c.h?1:c.g?c.g.size:0}function Bi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ko(c,y){c.g?c.g.add(y):c.h=y}function Xo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qo.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $o(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return x(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let P,Q=null;S>=0?(P=c[_].substring(0,S),Q=c[_].substring(S+1)):P=c[_],y(P,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Yn?(this.l=c.l,Jt(this,c.j),this.o=c.o,this.g=c.g,Br(this,c.u),this.h=c.h,Jo(this,zu(c.i)),this.m=c.m):c&&(y=String(c).match(Lu))?(this.l=!1,Jt(this,y[1]||"",!0),this.o=qi(y[2]||""),this.g=qi(y[3]||"",!0),Br(this,y[4]),this.h=qi(y[5]||"",!0),Jo(this,y[6]||"",!0),this.m=qi(y[7]||"")):(this.l=!1,this.i=new Hr(null,this.l))}Yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Qs(y,Va,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Qs(y,Va,!0),"@"),c.push(Sn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Qs(_,_.charAt(0)=="/"?Zo:Uu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Qs(_,ju)),c.join("")},Yn.prototype.resolve=function(c){const y=Vt(this);let _=!!c.j;_?Jt(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var S=c.h;if(_)Br(y,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=y.h.lastIndexOf("/");P!=-1&&(S=y.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const Q=[];for(let ae=0;ae<P.length;){const xe=P[ae++];xe=="."?S&&ae==P.length&&Q.push(""):xe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ae==P.length&&Q.push("")):(Q.push(xe),S=!0)}S=Q.join("/")}else S=P}return _?y.h=S:_=c.i.toString()!=="",_?Jo(y,zu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function Vt(c){return new Yn(c)}function Jt(c,y,_){c.j=_?qi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Br(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Jo(c,y,_){y instanceof Hr?(c.i=y,La(c.i,c.l)):(_||(y=Qs(y,qr)),c.i=new Hr(y,c.l))}function We(c,y,_){c.i.set(y,_)}function Gs(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function qi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Nn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Va=/[#\/\?@]/g,Uu=/[#\?:]/g,Zo=/[#\?]/g,qr=/[#\?@]/g,ju=/#/g;function Hr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ma(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Hr.prototype,r.add=function(c,y){Dn(this),this.i=null,c=Fr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Pu(c,y){Dn(c),y=Fr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Wo(c,y){return Dn(c),y=Fr(c,y),c.g.has(y)}r.forEach=function(c,y){Dn(this),this.g.forEach(function(_,S){_.forEach(function(P){c.call(y,P,S,this)},this)},this)};function el(c,y){Dn(c);let _=[];if(typeof y=="string")Wo(c,y)&&(_=_.concat(c.g.get(Fr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}r.set=function(c,y){return Dn(this),this.i=null,c=Fr(this,c),Wo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=el(this,c),c.length>0?String(c[0]):y):y};function ka(c,y,_){Pu(c,y),_.length>0&&(c.i=null,c.g.set(Fr(c,y),x(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const P=Sn(_);_=el(this,_);for(let Q=0;Q<_.length;Q++){let ae=P;_[Q]!==""&&(ae+="="+Sn(_[Q])),c.push(ae)}}return this.i=c.join("&")};function zu(c){const y=new Hr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Fr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function La(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,S){const P=S.toLowerCase();S!=P&&(Pu(this,S),ka(this,P,_))},c)),c.j=y}function Ei(c,y){const _=new Dt;if(f.Image){const S=new Image;S.onload=b(oi,_,"TestLoadImage: loaded",!0,y,S),S.onerror=b(oi,_,"TestLoadImage: error",!1,y,S),S.onabort=b(oi,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(oi,_,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function tl(c,y){const _=new Dt,S=new AbortController,P=setTimeout(()=>{S.abort(),oi(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(P),Q.ok?oi(_,"TestPingServer: ok",!0,y):oi(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(P),oi(_,"TestPingServer: error",!1,y)})}function oi(c,y,_,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(_)}catch{}}function Gr(){this.g=new Hs}function Hi(c){this.i=c.Sb||null,this.h=c.ab||!1}E(Hi,qn),Hi.prototype.g=function(){return new Ys(this.i,this.h)};function Ys(c,y){dt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ys,dt),r=Ys.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ti(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Qr(this):Ti(this),this.readyState==3&&Ua(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Qr(this))},r.Na=function(c){this.g&&(this.response=c,Qr(this))},r.ga=function(){this.g&&Qr(this)};function Qr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ti(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function li(c){let y="";return Ce(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ks(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=li(_),typeof c=="string"?_!=null&&Sn(_):We(c,y,_))}function rt(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(rt,dt);var Fi=/^https?$/i,nl=["POST","PUT"];r=rt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tn.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Xs(this,Q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)_.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(nl,y,void 0)>=0)||S||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of _)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Xs(this,Q)}};function Xs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,il(c),hr(c)}function il(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,it(this,"complete"),it(this,"abort"),hr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),rt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$s(this):this.Xa())},r.Xa=function(){$s(this)};function $s(c){if(c.h&&typeof u<"u"){if(c.v&&Si(c)==4)setTimeout(c.Ca.bind(c),0);else if(it(c,"readystatechange"),Si(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=Q===0){let ae=String(c.D).match(Lu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),S=!Fi.test(ae?ae.toLowerCase():"")}_=S}if(_)it(c,"complete"),it(c,"success");else{c.o=6;try{var P=Si(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",il(c)}}finally{hr(c)}}}}function hr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||it(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Si(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),lr(y)}};function rn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fr(c){const y={};c=(c.g&&Si(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var _=Gn(c[S]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[P]||[];y[P]=Q,Q.push(_)}He(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Yr(c){this.za=0,this.i=[],this.j=new Dt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,c),this.Za=Gi("retryDelaySeedMs",1e4,c),this.Ta=Gi("forwardChannelMaxRetries",2,c),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Ba=new Gr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Yr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,_,S){Ve(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Yu(this,null,this.W),Qi(this)};function rl(c){if(ja(c),c.I==3){var y=c.V++,_=Vt(c.J);if(We(_,"SID",c.M),We(_,"RID",y),We(_,"TYPE","terminate"),Js(c,_),y=new nn(c,c.j,y),y.M=2,y.A=Gs(Vt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Ku(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ui(y)}Qu(c)}function Kr(c){c.g&&(al(c),c.g.cancel(),c.g=null)}function ja(c){Kr(c),c.v&&(f.clearTimeout(c.v),c.v=null),za(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Qi(c){if(!Yo(c.h)&&!c.m){c.m=!0;var y=c.Ea;de||R(),ue||(de(),ue=!0),C.add(y,c),c.D=0}}function Pa(c,y){return zi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pt(p(c.Ea,c,y),Gu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new nn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=V(Q),se(Q,this.U)):Q=this.U),this.u!==null||this.R||(P.J=Q,Q=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Bu(this,P,y),_=Vt(this.J),We(_,"RID",c),We(_,"CVER",22),this.G&&We(_,"X-HTTP-Session-Id",this.G),Js(this,_),Q&&(this.R?y="headers="+Sn(li(Q))+"&"+y:this.u&&Ks(_,this.u,Q)),Ko(this.h,P),this.Ra&&We(_,"TYPE","init"),this.S?(We(_,"$req",y),We(_,"SID","null"),P.U=!0,Li(P,_,null)):Li(P,_,y),this.I=2}}else this.I==3&&(c?sl(this,c):this.i.length==0||Yo(this.h)||sl(this))};function sl(c,y){var _;y?_=y.l:_=c.V++;const S=Vt(c.J);We(S,"SID",c.M),We(S,"RID",_),We(S,"AID",c.K),Js(c,S),c.u&&c.o&&Ks(S,c.u,c.o),_=new nn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Bu(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ko(c.h,_),Li(_,S,y)}function Js(c,y){c.H&&Ce(c.H,function(_,S){We(y,S,_)}),c.l&&Ce({},function(_,S){We(y,S,_)})}function Bu(c,y,_){_=Math.min(c.i.length,_);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var P=c.i;let xe=-1;for(;;){const wt=["count="+_];xe==-1?_>0?(xe=P[0].g,wt.push("ofs="+xe)):xe=0:wt.push("ofs="+xe);let $e=!0;for(let yt=0;yt<_;yt++){var Q=P[yt].g;const ui=P[yt].map;if(Q-=xe,Q<0)xe=Math.max(0,P[yt].g-100),$e=!1;else try{Q="req"+Q+"_"||"";try{var ae=ui instanceof Map?ui:Object.entries(ui);for(const[Ki,Ai]of ae){let wi=Ai;m(Ai)&&(wi=En(Ai)),wt.push(Q+Ki+"="+encodeURIComponent(wi))}}catch(Ki){throw wt.push(Q+"type="+encodeURIComponent("_badmap")),Ki}}catch{S&&S(ui)}}if($e){ae=wt.join("&");break e}}ae=void 0}return c=c.i.splice(0,_),y.G=c,ae}function qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;de||R(),ue||(de(),ue=!0),C.add(y,c),c.A=0}}function Zs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pt(p(c.Da,c),Gu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pt(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),Kr(this),Hu(this))};function al(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Vt(c.na);We(y,"RID","rpc"),We(y,"SID",c.M),We(y,"AID",c.K),We(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(y,"TO",c.ia),We(y,"TYPE","xmlhttp"),Js(c,y),c.u&&c.o&&Ks(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Gs(Vt(y)),_.u=null,_.R=!0,Da(_,c)}r.Va=function(){this.C!=null&&(this.C=null,Kr(this),Zs(this),Ve(19))};function za(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Fu(c,y){var _=null;if(c.g==y){za(c),al(c),c.g=null;var S=2}else if(Bi(c.h,y))_=y.G,Xo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var P=c.D;S=ur(),it(S,new gt(S,_)),Qi(c)}else qu(c);else if(P=y.m,P==3||P==0&&y.X>0||!(S==1&&Pa(c,y)||S==2&&Zs(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),P){case 1:Yi(c,5);break;case 4:Yi(c,10);break;case 3:Yi(c,6);break;default:Yi(c,2)}}}function Gu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Yi(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),S=c.Ua;const P=!S;S=new Yn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Jt(S,"https"),Gs(S),P?Ei(S.toString(),_):tl(S.toString(),_)}else Ve(2);c.I=0,c.l&&c.l.pa(y),Qu(c),ja(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Qu(c){if(c.I=0,c.ja=[],c.l){const y=$o(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function Yu(c,y,_){var S=_ instanceof Yn?Vt(_):new Yn(_);if(S.g!="")y&&(S.g=y+"."+S.g),Br(S,S.u);else{var P=f.location;S=P.protocol,y=y?y+"."+P.hostname:P.hostname,P=+P.port;const Q=new Yn(null);S&&Jt(Q,S),y&&(Q.g=y),P&&Br(Q,P),_&&(Q.h=_),S=Q}return _=c.G,y=c.wa,_&&y&&We(S,_,y),We(S,"VER",c.ka),Js(c,S),S}function Ku(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new rt(new Hi({ab:_})):new rt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Xr(){}Xr.prototype.g=function(c,y){return new wn(c,y)};function wn(c,y){dt.call(this),this.g=new Yr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new dr(this)}E(wn,dt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){rl(this.g)},wn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=En(c),c=_);y.i.push(new Mt(y.Ya++,c)),y.I==3&&Qi(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,wn.Z.N.call(this)};function $u(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}E($u,Ft);function Ju(){fn.call(this),this.status=1}E(Ju,fn);function dr(c){this.g=c}E(dr,Xu),dr.prototype.ra=function(){it(this.g,"a")},dr.prototype.qa=function(c){it(this.g,new $u(c))},dr.prototype.pa=function(c){it(this.g,new Ju)},dr.prototype.oa=function(){it(this.g,"b")},Xr.prototype.createWebChannel=Xr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,F1=function(){return new Xr},H1=function(){return ur()},q1=mt,$m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,dh=mn,gn.COMPLETE="complete",B1=gn,Fs.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Gl=Fs,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,z1=rt}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore",M_="4.9.2";let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Po="12.3.0";const Aa=new Tg("@firebase/firestore");function vo(){return Aa.logLevel}function he(r,...e){if(Aa.logLevel<=ze.DEBUG){const n=e.map(kg);Aa.debug(`Firestore (${Po}): ${r}`,...n)}}function Vr(r,...e){if(Aa.logLevel<=ze.ERROR){const n=e.map(kg);Aa.error(`Firestore (${Po}): ${r}`,...n)}}function No(r,...e){if(Aa.logLevel<=ze.WARN){const n=e.map(kg);Aa.warn(`Firestore (${Po}): ${r}`,...n)}}function kg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,G1(r,s,n)}function G1(r,e,n){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vr(s),new Error(s)}function Ze(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||G1(e,o,s)}function Re(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Q1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class YC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KC{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Is,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Is)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new Q1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class XC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $C{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new XC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Be(r,e){return r<e?-1:r>e?1:0}function Jm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Om(o)===Om(u)?Be(o,u):Om(o)?1:-1}return Be(r.length,e.length)}const WC=55296,ex=57343;function Om(r){const e=r.charCodeAt(0);return e>=WC&&e<=ex}function Do(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const k_="__name__";class Wi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Wi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const s=Wi.isNumericId(e),o=Wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Wi.extractNumericId(e).compare(Wi.extractNumericId(n)):Jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class ut extends Wi{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const tx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Wi{construct(e,n,s){return new cn(e,n,s)}static isValidIdentifier(e){return tx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new cn([k_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ut.fromString(e))}static fromName(e){return new ye(ut.fromString(e).popFirst(5))}static empty(){return new ye(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ut(e.slice()))}}function Y1(r,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nx(r,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function L_(r){if(!ye.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U_(r){if(ye.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function K1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Oi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Bt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Tu(r,e){if(!K1(r))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}const j_=-62135596800,P_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*P_);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j_)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Bt("string",ft._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ft(0,0))}static max(){return new Ae(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lu=-1;function ix(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new Ds(o,ye.empty(),e)}function rx(r){return new Ds(r.readTime,r.key,lu)}class Ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ds(Ae.min(),ye.empty(),lu)}static max(){return new Ds(Ae.max(),ye.empty(),lu)}}function sx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Be(r.largestBatchId,e.largestBatchId))}const ax="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==ax)throw r;he("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((b=>{f[p]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function lx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(r){return r.name==="IndexedDbTransactionError"}class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ef.ce=-1;const Ug=-1;function tf(r){return r==null}function xh(r){return r===0&&1/r==-1/0}function ux(r){return typeof r=="number"&&Number.isInteger(r)&&!xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const X1="";function cx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=z_(e)),e=hx(r.get(n),e);return z_(e)}function hx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case X1:n+="";break;default:n+=u}}return n}function z_(r){return r+X1+""}function B_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ps(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function $1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new un(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new ti([])}unionWith(e){let n=new Yt(cn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class J1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new J1("Invalid base64 string: "+u):u}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const fx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(r){if(Ze(!!r,39018),typeof r=="string"){let e=0;const n=fx.exec(r);if(Ze(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ms(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}const Z1="server_timestamp",W1="__type__",eE="__previous_value__",tE="__local_write_time__";function jg(r){return(r?.mapValue?.fields||{})[W1]?.stringValue===Z1}function nf(r){const e=r.mapValue.fields[eE];return jg(e)?nf(e):e}function uu(r){const e=Os(r.mapValue.fields[tE].timestampValue);return new ft(e.seconds,e.nanos)}class dx{constructor(e,n,s,o,u,f,m,g,p,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=b}}const Ih="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}const nE="__type__",mx="__max__",rh={mapValue:{}},iE="__vector__",Nh="value";function Vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jg(r)?4:px(r)?9007199254740991:gx(r)?10:11:Ee(28295,{value:r})}function ar(r,e){if(r===e)return!0;const n=Vs(r);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return uu(r).isEqual(uu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Os(o.timestampValue),m=Os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ms(o.bytesValue).isEqual(Ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=xt(o.doubleValue),m=xt(u.doubleValue);return f===m?xh(f)===xh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Do(r.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(B_(f)!==B_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ar(f[g],m[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function hu(r,e){return(r.values||[]).find((n=>ar(n,e)))!==void 0}function Oo(r,e){if(r===e)return 0;const n=Vs(r),s=Vs(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=xt(u.integerValue||u.doubleValue),g=xt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return H_(r.timestampValue,e.timestampValue);case 4:return H_(uu(r),uu(e));case 5:return Jm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ms(u),g=Ms(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const b=Be(m[p],g[p]);if(b!==0)return b}return Be(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Be(xt(u.latitude),xt(f.latitude));return m!==0?m:Be(xt(u.longitude),xt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return F_(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[Nh]?.arrayValue,b=g[Nh]?.arrayValue,E=Be(p?.values?.length||0,b?.values?.length||0);return E!==0?E:F_(p,b)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===rh.mapValue&&f===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(f===rh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},b=Object.keys(p);g.sort(),b.sort();for(let E=0;E<g.length&&E<b.length;++E){const w=Jm(g[E],b[E]);if(w!==0)return w;const x=Oo(m[g[E]],p[b[E]]);if(x!==0)return x}return Be(g.length,b.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function H_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const n=Os(r),s=Os(e),o=Be(n.seconds,s.seconds);return o!==0?o:Be(n.nanos,s.nanos)}function F_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Oo(n[o],s[o]);if(u)return u}return Be(n.length,s.length)}function Mo(r){return Zm(r)}function Zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Zm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Zm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function mh(r){switch(Vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(r);return e?16+mh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+mh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ps(s.fields,((u,f)=>{o+=u.length+mh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function G_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wm(r){return!!r&&"integerValue"in r}function Pg(r){return!!r&&"arrayValue"in r}function Q_(r){return!!r&&"nullValue"in r}function Y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function gx(r){return(r?.mapValue?.fields||{})[nE]?.stringValue===iE}function Zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ps(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(r.arrayValue.values[n]);return e}return{...r}}function px(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mx}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=cn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Zl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ps(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new jn(Zl(this.value))}}function rE(r){const e=[];return Ps(r.fields,((n,s)=>{const o=new cn([n]);if(gh(s)){const u=rE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ti(e)}class _n{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Ae.min(),Ae.min(),Ae.min(),jn.empty(),0)}static newFoundDocument(e,n,s,o){return new _n(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new _n(e,2,n,Ae.min(),Ae.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Ae.min(),Ae.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function K_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function X_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ar(r.position[n],e.position[n]))return!1;return!0}class Oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function yx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class sE{}class zt extends sE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _x(e,n,s):n==="array-contains"?new Tx(e,s):n==="in"?new Sx(e,s):n==="not-in"?new Ax(e,s):n==="array-contains-any"?new wx(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new bx(e,s):new Ex(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends sE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mi(e,n)}matches(e){return aE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aE(r){return r.op==="and"}function oE(r){return vx(r)&&aE(r)}function vx(r){for(const e of r.filters)if(e instanceof Mi)return!1;return!0}function eg(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+Mo(r.value);if(oE(r))return r.filters.map((e=>eg(e))).join(",");{const e=r.filters.map((n=>eg(n))).join(",");return`${r.op}(${e})`}}function lE(r,e){return r instanceof zt?(function(s,o){return o instanceof zt&&s.op===o.op&&s.field.isEqual(o.field)&&ar(s.value,o.value)})(r,e):r instanceof Mi?(function(s,o){return o instanceof Mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&lE(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function uE(r){return r instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`})(r):r instanceof Mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(uE).join(" ,")+"}"})(r):"Filter"}class _x extends zt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class bx extends zt{constructor(e,n){super(e,"in",n),this.keys=cE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ex extends zt{constructor(e,n){super(e,"not-in",n),this.keys=cE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cE(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class Tx extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pg(n)&&hu(n.arrayValue,this.value)}}class Sx extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class Ax extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class wx extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}class Rx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function $_(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Rx(r,e,n,s,o,u,f)}function zg(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>eg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Mo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Mo(s))).join(",")),e.Te=n}return e.Te}function Bg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!lE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!X_(r.startAt,e.startAt)&&X_(r.endAt,e.endAt)}function tg(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Su{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cx(r,e,n,s,o,u,f,m){return new Su(r,e,n,s,o,u,f,m)}function qg(r){return new Su(r)}function J_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hE(r){return r.collectionGroup!==null}function Wl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Yt(cn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Oh(u,s))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new Oh(cn.keyField(),s))}return e.Ie}function tr(r){const e=Re(r);return e.Ee||(e.Ee=xx(e,Wl(r))),e.Ee}function xx(r,e){if(r.limitType==="F")return $_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Oh(o.field,u)}));const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return $_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ng(r,e){const n=r.filters.concat([e]);return new Su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ig(r,e,n){return new Su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function rf(r,e){return Bg(tr(r),tr(e))&&r.limitType===e.limitType}function fE(r){return`${zg(tr(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>uE(o))).join(", ")}]`),tf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Mo(o))).join(",")),`Target(${s})`})(tr(r))}; limitType=${r.limitType})`}function sf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=K_(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(f,m,g){const p=K_(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Wl(s),o))})(r,e)}function Ix(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dE(r){return(e,n)=>{let s=!1;for(const o of Wl(r)){const u=Nx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Nx(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Oo(g,p):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class Ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return $1(this.inner)}size(){return this.innerSize}}const Dx=new bt(ye.comparator);function kr(){return Dx}const mE=new bt(ye.comparator);function Ql(...r){let e=mE;for(const n of r)e=e.insert(n.key,n);return e}function gE(r){let e=mE;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ya(){return eu()}function pE(){return eu()}function eu(){return new Ra((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Ox=new bt(ye.comparator),Mx=new Yt(ye.comparator);function qe(...r){let e=Mx;for(const n of r)e=e.add(n);return e}const Vx=new Yt(Be);function kx(){return Vx}function Hg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function yE(r){return{integerValue:""+r}}function Lx(r,e){return ux(e)?yE(e):Hg(r,e)}class af{constructor(){this._=void 0}}function Ux(r,e,n){return r instanceof Mh?(function(o,u){const f={fields:{[W1]:{stringValue:Z1},[tE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jg(u)&&(u=nf(u)),u&&(f.fields[eE]=u),{mapValue:f}})(n,e):r instanceof fu?_E(r,e):r instanceof du?bE(r,e):(function(o,u){const f=vE(o,u),m=Z_(f)+Z_(o.Ae);return Wm(f)&&Wm(o.Ae)?yE(m):Hg(o.serializer,m)})(r,e)}function jx(r,e,n){return r instanceof fu?_E(r,e):r instanceof du?bE(r,e):n}function vE(r,e){return r instanceof Vh?(function(s){return Wm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Mh extends af{}class fu extends af{constructor(e){super(),this.elements=e}}function _E(r,e){const n=EE(e);for(const s of r.elements)n.some((o=>ar(o,s)))||n.push(s);return{arrayValue:{values:n}}}class du extends af{constructor(e){super(),this.elements=e}}function bE(r,e){let n=EE(e);for(const s of r.elements)n=n.filter((o=>!ar(o,s)));return{arrayValue:{values:n}}}class Vh extends af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Z_(r){return xt(r.integerValue||r.doubleValue)}function EE(r){return Pg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Px(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof fu&&o instanceof fu||s instanceof du&&o instanceof du?Do(s.elements,o.elements,ar):s instanceof Vh&&o instanceof Vh?ar(s.Ae,o.Ae):s instanceof Mh&&o instanceof Mh})(r.transform,e.transform)}class zx{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class of{}function TE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new lf(r.key,Pn.none()):new Au(r.key,r.data,Pn.none());{const n=r.data,s=jn.empty();let o=new Yt(cn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new zs(r.key,s,new ti(o.toArray()),Pn.none())}}function Bx(r,e,n){r instanceof Au?(function(o,u,f){const m=o.value.clone(),g=eb(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof zs?(function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=eb(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(SE(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function tu(r,e,n,s){return r instanceof Au?(function(u,f,m,g){if(!ph(u.precondition,f))return m;const p=u.value.clone(),b=tb(u.fieldTransforms,g,f);return p.setAll(b),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof zs?(function(u,f,m,g){if(!ph(u.precondition,f))return m;const p=tb(u.fieldTransforms,g,f),b=f.data;return b.setAll(SE(u)),b.setAll(p),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(r,e,n,s):(function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function qx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=vE(s.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(s.field,u))}return n||null}function W_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Do(s,o,((u,f)=>Px(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Au extends of{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends of{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function SE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function eb(r,e,n){const s=new Map;Ze(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,jx(f,m,n[o]))}return s}function tb(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Ux(u,f,e))}return s}class lf extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hx extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Bx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pE();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=TE(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((n,s)=>W_(n,s)))&&Do(this.baseMutations,e.baseMutations,((n,s)=>W_(n,s)))}}class Fg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Ox})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Fg(e,n,s,o)}}class Gx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Qx{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,Ye;function Yx(r){switch(r){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function AE(r){if(r===void 0)return Vr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Pt.OK:return ee.OK;case Pt.CANCELLED:return ee.CANCELLED;case Pt.UNKNOWN:return ee.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ee.INTERNAL;case Pt.UNAVAILABLE:return ee.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ee.NOT_FOUND;case Pt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Pt.ABORTED:return ee.ABORTED;case Pt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Pt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ye=Pt||(Pt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function Kx(){return new TextEncoder}const Xx=new xs([4294967295,4294967295],0);function nb(r){const e=Kx().encode(r),n=new P1;return n.update(e),new Uint8Array(n.digest())}function ib(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xs([n,s],0),new xs([o,u],0)]}class Gg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(xs.fromNumber(s)));return o.compare(Xx)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nb(e),[s,o]=ib(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=nb(e),[s,o]=ib(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new uf(Ae.min(),o,new bt(Be),kr(),qe())}}class wu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wu(s,n,qe(),qe(),qe())}}class yh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class wE{constructor(e,n){this.targetId=e,this.Ce=n}}class RE{constructor(e,n,s=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class rb{constructor(){this.ve=0,this.Fe=sb(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new wu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=sb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $x{constructor(e){this.Ge=e,this.ze=new Map,this.je=kr(),this.Je=sh(),this.He=sh(),this.Ye=new bt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(tg(u))if(s===0){const f=new ye(u.path);this.et(n,f,_n.newNoDocument(f,Ae.min()))}else Ze(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ms(s).toUint8Array()}catch(g){if(g instanceof J1)return No("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Gg(f,o,u)}catch(g){return No(g instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&tg(m.target)){const g=new ye(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,_n.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=qe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new uf(e,n,this.Ye,this.je,s);return this.je=kr(),this.Je=sh(),this.He=sh(),this.Ye=new bt(Be),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new bt(ye.comparator)}function sb(){return new bt(ye.comparator)}const Jx={asc:"ASCENDING",desc:"DESCENDING"},Zx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wx={and:"AND",or:"OR"};class eI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rg(r,e){return r.useProto3Json||tf(e)?e:{value:e}}function kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tI(r,e){return kh(r,e.toTimestamp())}function nr(r){return Ze(!!r,49232),Ae.fromTimestamp((function(n){const s=Os(n);return new ft(s.seconds,s.nanos)})(r))}function Qg(r,e){return sg(r,e).canonicalString()}function sg(r,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function xE(r){const e=ut.fromString(r);return Ze(ME(e),10190,{key:e.toString()}),e}function ag(r,e){return Qg(r.databaseId,e.path)}function Mm(r,e){const n=xE(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(NE(n))}function IE(r,e){return Qg(r.databaseId,e)}function nI(r){const e=xE(r);return e.length===4?ut.emptyPath():NE(e)}function og(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NE(r){return Ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ab(r,e,n){return{name:ag(r,e),fields:n.value.mapValue.fields}}function iI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,b){return p.useProto3Json?(Ze(b===void 0||typeof b=="string",58123),hn.fromBase64String(b||"")):(Ze(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),hn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const b=p.code===void 0?ee.UNKNOWN:AE(p.code);return new ce(b,p.message||"")})(f);n=new RE(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(r,s.document.name),u=nr(s.document.updateTime),f=s.document.createTime?nr(s.document.createTime):Ae.min(),m=new jn({mapValue:{fields:s.document.fields}}),g=_n.newFoundDocument(o,u,f,m),p=s.targetIds||[],b=s.removedTargetIds||[];n=new yh(p,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mm(r,s.document),u=s.readTime?nr(s.readTime):Ae.min(),f=_n.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mm(r,s.document),u=s.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Qx(o,u),m=s.targetId;n=new wE(m,f)}}return n}function rI(r,e){let n;if(e instanceof Au)n={update:ab(r,e.key,e.value)};else if(e instanceof lf)n={delete:ag(r,e.key)};else if(e instanceof zs)n={update:ab(r,e.key,e.data),updateMask:dI(e.fieldMask)};else{if(!(e instanceof Hx))return Ee(16599,{Vt:e.type});n={verify:ag(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof du)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function sI(r,e){return r&&r.length>0?(Ze(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?nr(o.updateTime):nr(u);return f.isEqual(Ae.min())&&(f=nr(u)),new zx(f,o.transformResults||[])})(n,e)))):[]}function aI(r,e){return{documents:[IE(r,e.path)]}}function oI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IE(r,o);const u=(function(p){if(p.length!==0)return OE(Mi.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((b=>(function(w){return{field:bo(w.field),direction:cI(w.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=rg(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function lI(r){let e=nI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ze(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(E){const w=DE(E);return w instanceof Mi&&oE(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((w=>(function(G){return new Oh(Eo(G.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let w;return w=typeof E=="object"?E.value:E,tf(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(E){const w=!!E.before,x=E.values||[];return new Dh(x,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const w=!E.before,x=E.values||[];return new Dh(x,w)})(n.endAt)),Cx(e,o,f,u,m,"F",g,p)}function uI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Eo(n.unaryFilter.field);return zt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return zt.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Mi.create(n.compositeFilter.filters.map((s=>DE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function cI(r){return Jx[r]}function hI(r){return Zx[r]}function fI(r){return Wx[r]}function bo(r){return{fieldPath:r.canonicalString()}}function Eo(r){return cn.fromServerFormat(r.fieldPath)}function OE(r){return r instanceof zt?(function(n){if(n.op==="=="){if(Y_(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(Q_(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y_(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(Q_(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:hI(n.op),value:n.value}}})(r):r instanceof Mi?(function(n){const s=n.getFilters().map((o=>OE(o)));return s.length===1?s[0]:{compositeFilter:{op:fI(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function dI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ME(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ss{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=hn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mI{constructor(e){this.yt=e}}function gI(r){const e=lI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ig(e,e.limit,"L"):e}class pI{constructor(){this.Cn=new yI}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ds.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class yI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Yt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Yt(ut.comparator)).toArray()}}const ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(VE,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);class Vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vo(0)}static cr(){return new Vo(-1)}}const lb="LruGarbageCollector",vI=1048576;function ub([r,e],[n,s]){const o=Be(r,n);return o===0?Be(e,s):o}class _I{constructor(e){this.Ir=e,this.buffer=new Yt(ub),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ub(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(lb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?he(lb,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Vr(3e5)}))}}class EI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(ef.ce);const s=new _I(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(ob)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ob):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,m=Date.now(),this.removeTargets(e,s,n)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(p=Date.now(),vo()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(p-g)+`ms
Total Duration: ${p-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function TI(r,e){return new EI(r,e)}class SI{constructor(){this.changes=new Ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class wI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&tu(s.mutation,o,ti.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const o=ya();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ql();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ya();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=kr();const f=eu(),m=(function(){return eu()})();return n.forEach(((g,p)=>{const b=s.get(p.key);o.has(p.key)&&(b===void 0||b.mutation instanceof zs)?u=u.insert(p.key,p):b!==void 0?(f.set(p.key,b.mutation.getFieldMask()),tu(b.mutation,p,b.mutation.getFieldMask(),ft.now())):f.set(p.key,ti.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,b)=>f.set(p,b))),n.forEach(((p,b)=>m.set(p,new AI(b,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=eu();let o=new bt(((f,m)=>f-m)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let b=s.get(g)||ti.empty();b=m.applyToLocalView(p,b),s.set(g,b);const E=(o.get(m.batchId)||qe()).add(g);o=o.insert(m.batchId,E)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,b=g.value,E=pE();b.forEach((w=>{if(!u.has(w)){const x=TE(n.get(w),s.get(w));x!==null&&E.set(w,x),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,E))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ya());let m=lu,g=u;return f.next((p=>te.forEach(p,((b,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{g=g.insert(b,w)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,qe()))).next((b=>({batchId:m,changes:gE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const p=(function(E,w){return new Su(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((b=>{b.forEach(((E,w)=>{f=f.insert(E,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const b=p.getKey();f.get(b)===null&&(f=f.insert(b,_n.newInvalidDocument(b)))}));let m=Ql();return f.forEach(((g,p)=>{const b=u.get(g);b!==void 0&&tu(b.mutation,p,ti.empty(),ft.now()),sf(n,p)&&(m=m.insert(g,p))})),m}))}}class RI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:gI(o.bundledQuery),readTime:nr(o.readTime)}})(n)),te.resolve()}}class CI{constructor(){this.overlays=new bt(ye.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ya();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ya(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new bt(((p,b)=>p-b));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let b=u.get(p.largestBatchId);b===null&&(b=ya(),u=u.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const m=ya(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,b)=>m.set(p,b))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Gx(n,s));let u=this.qr.get(n);u===void 0&&(u=qe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class xI{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Yg{constructor(){this.Qr=new Yt(Wt.$r),this.Ur=new Yt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new ut([])),s=new Wt(n,e),o=new Wt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new ut([])),s=new Wt(n,e),o=new Wt(n,e+1);let u=qe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class II{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Wt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Fx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Ug:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),o=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Yt(Be);return n.forEach((o=>{const u=new Wt(o,0),f=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Wt(new ye(u),0);let m=new Yt(Be);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Wt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class NI{constructor(e){this.ri=e,this.docs=(function(){return new bt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let s=kr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=kr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:b}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||sx(rx(b),s)<=0||(o.has(b.key)||sf(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new DI(this)}getSize(e){return te.resolve(this.size)}}class DI extends SI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class OI{constructor(e){this.persistence=e,this.si=new Ra((n=>zg(n)),Bg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Yg,this.targetCount=0,this.ai=Vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class kE{constructor(e,n){this.ui={},this.overlays={},this.ci=new ef(0),this.li=!1,this.li=!0,this.hi=new xI,this.referenceDelegate=e(this),this.Pi=new OI(this),this.indexManager=new pI,this.remoteDocumentCache=(function(o){return new NI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mI(n),this.Ii=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new II(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new MI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class MI extends ox{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Ri=new Yg,this.Vi=null}static mi(e){return new Kg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new Ra((s=>cx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=TI(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=qe(),o=qe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xg(e,n.fromCache,s,o)}}class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Rw()?8:lx(bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new VI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(vo()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(vo()<=ze.DEBUG&&he("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vo()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):te.resolve())}ys(e,n){if(J_(n))return te.resolve(null);let s=tr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ig(n,null,"F"),s=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=qe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,ig(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return J_(n)||o.isEqual(Ae.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(vo()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,f,n,ix(o,lu)).next((m=>m)))}))}Ds(e,n){let s=new Yt(dE(e));return n.forEach(((o,u)=>{sf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return vo()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,Ds.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const $g="LocalStore",LI=3e8;class UI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new bt(Be),this.xs=new Ra((u=>zg(u)),Bg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jI(r,e,n,s){return new UI(r,e,n,s)}async function LE(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=qe();for(const p of o){f.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}for(const p of u){m.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function PI(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,b){const E=p.batch,w=E.keys();let x=te.resolve();return w.forEach((G=>{x=x.next((()=>b.getEntry(g,G))).next((H=>{const q=p.docVersions.get(G);Ze(q!==null,48541),H.version.compareTo(q)<0&&(E.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),b.addEntry(H)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(g,E)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=qe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function UE(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zI(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,E)=>{const w=o.get(E);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,E))));let x=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?x=x.withResumeToken(hn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(b.resumeToken,s)),o=o.insert(E,x),(function(H,q,Z){return H.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=LI?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(w,x,b)&&m.push(n.Pi.updateTargetData(u,x))}));let g=kr(),p=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(BI(u,f,e.documentUpdates).next((b=>{g=b.ks,p=b.qs}))),!s.isEqual(Ae.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function BI(r,e,n){let s=qe(),o=qe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=kr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):he($g,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function qI(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ug),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function HI(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function lg(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Bo(f))throw f;he($g,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function cb(r,e,n){const s=Re(r);let o=Ae.min(),u=qe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,b){const E=Re(g),w=E.xs.get(b);return w!==void 0?te.resolve(E.Ms.get(w)):E.Pi.getTargetData(p,b)})(s,f,tr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:qe()))).next((m=>(FI(s,Ix(e),m),{documents:m,Qs:u})))))}function FI(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class hb{constructor(){this.activeTargetIds=kx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GI{constructor(){this.Mo=new hb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QI{Oo(e){}shutdown(){}}const fb="ConnectivityMonitor";class db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(fb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(fb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ah=null;function ug(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}const Vm="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=ug(),m=this.zo(e,n.toUriEncodedString());he(Vm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),b=Lo(p);return this.Jo(e,m,g,s,b).then((E=>(he(Vm,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw No(Vm,`RPC '${e}' ${f} failed with error: `,E,"url: ",m,"request:",s),E}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=YI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class XI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class $I extends KI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=ug();return new Promise(((m,g)=>{const p=new z1;p.setWithCredentials(!0),p.listenOnce(B1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case dh.NO_ERROR:const E=p.getResponseJson();he(yn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),m(E);break;case dh.TIMEOUT:he(yn,`RPC '${e}' ${f} timed out`),g(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const w=p.getStatus();if(he(yn,`RPC '${e}' ${f} failed with status:`,w,"response text:",p.getResponseText()),w>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const G=x?.error;if(G&&G.status&&G.message){const H=(function(Z){const ie=Z.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ie)>=0?ie:ee.UNKNOWN})(G.status);g(new ce(H,G.message))}else g(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(yn,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);he(yn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=ug(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=F1(),m=H1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const b=u.join("");he(yn,`Creating RPC '${e}' stream ${o}: ${b}`,g);const E=f.createWebChannel(b,g);this.I_(E);let w=!1,x=!1;const G=new XI({Yo:q=>{x?he(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(w||(he(yn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),w=!0),he(yn,`RPC '${e}' stream ${o} sending:`,q),E.send(q))},Zo:()=>E.close()}),H=(q,Z,ie)=>{q.listen(Z,(ne=>{try{ie(ne)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return H(E,Gl.EventType.OPEN,(()=>{x||(he(yn,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),H(E,Gl.EventType.CLOSE,(()=>{x||(x=!0,he(yn,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(E))})),H(E,Gl.EventType.ERROR,(q=>{x||(x=!0,No(yn,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),G.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),H(E,Gl.EventType.MESSAGE,(q=>{if(!x){const Z=q.data[0];Ze(!!Z,16349);const ie=Z,ne=ie?.error||ie[0]?.error;if(ne){he(yn,`RPC '${e}' stream ${o} received error:`,ne);const oe=ne.status;let de=(function(R){const I=Pt[R];if(I!==void 0)return AE(I)})(oe),ue=ne.message;de===void 0&&(de=ee.INTERNAL,ue="Unknown error status: "+oe+" with message "+ne.message),x=!0,G.a_(new ce(de,ue)),E.close()}else he(yn,`RPC '${e}' stream ${o} received:`,Z),G.u_(Z)}})),H(m,q1.STAT_EVENT,(q=>{q.stat===$m.PROXY?he(yn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===$m.NOPROXY&&he(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}function cf(r){return new eI(r,!0)}class jE{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mb="PersistentStream";class PE{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(mb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(mb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JI extends PE{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?nr(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=og(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=tg(g)?{documents:aI(u,g)}:{query:oI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CE(u,f.resumeToken);const p=rg(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=kh(u,f.snapshotVersion.toTimestamp());const p=rg(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=uI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=og(this.serializer),n.removeTarget=e,this.q_(n)}}class ZI extends PE{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sI(e.writeResults,e.commitTime),s=nr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=og(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>rI(this.serializer,s)))};this.q_(n)}}class WI{}class eN extends WI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,sg(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,sg(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class nN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ca(this)&&(he(wa,"Restarting streams for network reachability change."),await(async function(g){const p=Re(g);p.Ea.add(4),await Ru(p),p.Ra.set("Unknown"),p.Ea.delete(4),await hf(p)})(this))}))})),this.Ra=new tN(s,o)}}async function hf(r){if(Ca(r))for(const e of r.da)await e(!0)}async function Ru(r){for(const e of r.da)await e(!1)}function zE(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ep(n)?Wg(n):qo(n).O_()&&Zg(n,e))}function Jg(r,e){const n=Re(r),s=qo(n);n.Ia.delete(e),s.O_()&&BE(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ca(n)&&n.Ra.set("Unknown"))}function Zg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(r).Y_(e)}function BE(r,e){r.Va.Ue(e),qo(r).Z_(e)}function Wg(r){r.Va=new $x({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),qo(r).start(),r.Ra.ua()}function ep(r){return Ca(r)&&!qo(r).x_()&&r.Ia.size>0}function Ca(r){return Re(r).Ea.size===0}function qE(r){r.Va=void 0}async function iN(r){r.Ra.set("Online")}async function rN(r){r.Ia.forEach(((e,n)=>{Zg(r,e)}))}async function sN(r,e){qE(r),ep(r)?(r.Ra.ha(e),Wg(r)):r.Ra.set("Unknown")}async function aN(r,e,n){if(r.Ra.set("Online"),e instanceof RE&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uh(r,s)}else if(e instanceof yh?r.Va.Ze(e):e instanceof wE?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await UE(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(p);b&&u.Ia.set(p,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(hn.EMPTY_BYTE_STRING,b.snapshotVersion)),BE(u,g);const E=new Ss(b.target,g,p,b.sequenceNumber);Zg(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(wa,"Failed to raise snapshot:",s),await Uh(r,s)}}async function Uh(r,e,n){if(!Bo(e))throw e;r.Ea.add(1),await Ru(r),r.Ra.set("Offline"),n||(n=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(wa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await hf(r)}))}function HE(r,e){return e().catch((n=>Uh(r,n,e)))}async function ff(r){const e=Re(r),n=ks(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ug;for(;oN(e);)try{const o=await qI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,lN(e,o)}catch(o){await Uh(e,o)}FE(e)&&GE(e)}function oN(r){return Ca(r)&&r.Ta.length<10}function lN(r,e){r.Ta.push(e);const n=ks(r);n.O_()&&n.X_&&n.ea(e.mutations)}function FE(r){return Ca(r)&&!ks(r).x_()&&r.Ta.length>0}function GE(r){ks(r).start()}async function uN(r){ks(r).ra()}async function cN(r){const e=ks(r);for(const n of r.Ta)e.ea(n.mutations)}async function hN(r,e,n){const s=r.Ta.shift(),o=Fg.from(s,e,n);await HE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ff(r)}async function fN(r,e){e&&ks(r).X_&&await(async function(s,o){if((function(f){return Yx(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ks(s).B_(),await HE(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ff(s)}})(r,e),FE(r)&&GE(r)}async function gb(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),he(wa,"RemoteStore received new credentials");const s=Ca(n);n.Ea.add(3),await Ru(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function dN(r,e){const n=Re(r);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await Ru(n),n.Ra.set("Unknown"))}function qo(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new JI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:iN.bind(null,r),t_:rN.bind(null,r),r_:sN.bind(null,r),H_:aN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ep(r)?Wg(r):r.Ra.set("Unknown")):(await r.ma.stop(),qE(r))}))),r.ma}function ks(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new ZI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:uN.bind(null,r),r_:fN.bind(null,r),ta:cN.bind(null,r),na:hN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ff(r)):(await r.fa.stop(),r.Ta.length>0&&(he(wa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new tp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,e){if(Vr("AsyncQueue",`${e}: ${r}`),Bo(r))return new ce(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class pb{constructor(){this.ga=new bt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ko{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ko(e,n,wo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class mN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gN{constructor(){this.queries=yb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=yb(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function yb(){return new Ra((r=>fE(r)),rf)}async function QE(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new mN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=np(f,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ip(n)}async function YE(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pN(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&ip(n)}function yN(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ip(r){r.Ca.forEach((e=>{e.next()}))}var cg,vb;(vb=cg||(cg={})).Ma="default",vb.Cache="cache";class KE{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cg.Cache}}class XE{constructor(e){this.key=e}}class $E{constructor(e){this.key=e}}class vN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=dE(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new pb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,E)=>{const w=o.get(b),x=sf(this.query,E)?E:null,G=!!w&&this.mutatedKeys.has(w.key),H=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let q=!1;w&&x?w.data.isEqual(x.data)?G!==H&&(s.track({type:3,doc:x}),q=!0):this.su(w,x)||(s.track({type:2,doc:x}),q=!0,(g&&this.eu(x,g)>0||p&&this.eu(x,p)<0)&&(m=!0)):!w&&x?(s.track({type:0,doc:x}),q=!0):w&&!x&&(s.track({type:1,doc:w}),q=!0,(g||p)&&(m=!0)),q&&(x?(f=f.add(x),u=H?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,E)=>(function(x,G){const H=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:q})}};return H(x)-H(G)})(b.type,E.type)||this.eu(b.doc,E.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new ko(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new $E(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new XE(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rp="SyncEngine";class _N{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bN{constructor(e){this.key=e,this.hu=!1}}class EN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ra((m=>fE(m)),rf),this.Iu=new Map,this.Eu=new Set,this.du=new bt(ye.comparator),this.Au=new Map,this.Ru=new Yg,this.Vu={},this.mu=new Map,this.fu=Vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TN(r,e,n=!0){const s=nT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await JE(s,e,n,!0),o}async function SN(r,e){const n=nT(r);await JE(n,e,!0,!1)}async function JE(r,e,n,s){const o=await HI(r.localStore,tr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await AN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&zE(r.remoteStore,o),m}async function AN(r,e,n,s,o){r.pu=(E,w,x)=>(async function(H,q,Z,ie){let ne=q.view.ru(Z);ne.Cs&&(ne=await cb(H.localStore,q.query,!1).then((({documents:C})=>q.view.ru(C,ne))));const oe=ie&&ie.targetChanges.get(q.targetId),de=ie&&ie.targetMismatches.get(q.targetId)!=null,ue=q.view.applyChanges(ne,H.isPrimaryClient,oe,de);return bb(H,q.targetId,ue.au),ue.snapshot})(r,E,w,x);const u=await cb(r.localStore,e,!0),f=new vN(e,u.Qs),m=f.ru(u.documents),g=wu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);bb(r,n,p.au);const b=new _N(e,n,f);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function wN(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!rf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Jg(s.remoteStore,o.targetId),hg(s,o.targetId)})).catch(zo)):(hg(s,o.targetId),await lg(s.localStore,o.targetId,!0))}async function RN(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jg(n.remoteStore,s.targetId))}async function CN(r,e,n){const s=VN(r);try{const o=await(function(f,m){const g=Re(f),p=ft.now(),b=m.reduce(((x,G)=>x.add(G.key)),qe());let E,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let G=kr(),H=qe();return g.Ns.getEntries(x,b).next((q=>{G=q,G.forEach(((Z,ie)=>{ie.isValidDocument()||(H=H.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(x,G))).next((q=>{E=q;const Z=[];for(const ie of m){const ne=qx(ie,E.get(ie.key).overlayedDocument);ne!=null&&Z.push(new zs(ie.key,ne,rE(ne.value.mapValue),Pn.exists(!0)))}return g.mutationQueue.addMutationBatch(x,p,Z,m)})).next((q=>{w=q;const Z=q.applyToLocalDocumentSet(E,H);return g.documentOverlayCache.saveOverlays(x,q.batchId,Z)}))})).then((()=>({batchId:w.batchId,changes:gE(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new bt(Be)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await Cu(s,o.changes),await ff(s.remoteStore)}catch(o){const u=np(o,"Failed to persist write");n.reject(u)}}async function ZE(r,e){const n=Re(r);try{const s=await zI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ze(f.hu,14607):o.removedDocuments.size>0&&(Ze(f.hu,42227),f.hu=!1))})),await Cu(n,s,e)}catch(s){await zo(s)}}function _b(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Re(f);g.onlineState=m;let p=!1;g.queries.forEach(((b,E)=>{for(const w of E.Sa)w.va(m)&&(p=!0)})),p&&ip(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xN(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new bt(ye.comparator);f=f.insert(u,_n.newNoDocument(u,Ae.min()));const m=qe().add(u),g=new uf(Ae.min(),new Map,new bt(Be),f,m);await ZE(s,g),s.du=s.du.remove(u),s.Au.delete(e),sp(s)}else await lg(s.localStore,e,!1).then((()=>hg(s,e,n))).catch(zo)}async function IN(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await PI(n.localStore,e);eT(n,s,null),WE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await zo(o)}}async function NN(r,e,n){const s=Re(r);try{const o=await(function(f,m){const g=Re(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return g.mutationQueue.lookupMutationBatch(p,m).next((E=>(Ze(E!==null,37113),b=E.keys(),g.mutationQueue.removeMutationBatch(p,E)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>g.localDocuments.getDocuments(p,b)))}))})(s.localStore,e);eT(s,e,n),WE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cu(s,o)}catch(o){await zo(o)}}function WE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function eT(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function hg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||tT(r,s)}))}function tT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Jg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),sp(r))}function bb(r,e,n){for(const s of n)s instanceof XE?(r.Ru.addReference(s.key,e),DN(r,s)):s instanceof $E?(he(rp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||tT(r,s.key)):Ee(19791,{wu:s})}function DN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(rp,"New document in limbo: "+n),r.Eu.add(s),sp(r))}function sp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(ut.fromString(e)),s=r.fu.next();r.Au.set(s,new bN(n)),r.du=r.du.insert(n,s),zE(r.remoteStore,new Ss(tr(qg(n.path)),s,"TargetPurposeLimboResolution",ef.ce))}}async function Cu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const b=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){o.push(p);const b=Xg.As(g.targetId,p);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,p){const b=Re(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>te.forEach(p,(w=>te.forEach(w.Es,(x=>b.persistence.referenceDelegate.addReference(E,w.targetId,x))).next((()=>te.forEach(w.ds,(x=>b.persistence.referenceDelegate.removeReference(E,w.targetId,x)))))))))}catch(E){if(!Bo(E))throw E;he($g,"Failed to update sequence numbers: "+E)}for(const E of p){const w=E.targetId;if(!E.fromCache){const x=b.Ms.get(w),G=x.snapshotVersion,H=x.withLastLimboFreeSnapshotVersion(G);b.Ms=b.Ms.insert(w,H)}}})(s.localStore,u))}async function ON(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){he(rp,"User change. New user:",e.toKey());const s=await LE(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ce(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.Ls)}}function MN(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let o=qe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function nT(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xN.bind(null,e),e.Pu.H_=pN.bind(null,e.eventManager),e.Pu.yu=yN.bind(null,e.eventManager),e}function VN(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NN.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jI(this.persistence,new kI,e.initialUser,this.serializer)}Cu(e){return new kE(Kg.mi,this.serializer)}Du(e){return new GI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class kN extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ze(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new kE((s=>Lh.mi(s,n)),this.serializer)}}class fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_b(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ON.bind(null,this.syncEngine),await dN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gN})()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),s=(function(u){return new $I(u)})(e.databaseInfo);return(function(u,f,m,g){return new eN(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new nN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>_b(this.syncEngine,n,0)),(function(){return db.v()?new db:new QI})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,b){const E=new EN(o,u,f,m,g,p);return b&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);he(wa,"RemoteStore shutting down."),s.Ea.add(5),await Ru(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fg.provider={build:()=>new fg};class iT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ls="FirestoreClient";class LN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(Ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(Ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=np(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(r,e){r.asyncQueue.verifyOperationInProgress(),he(Ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await LE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Eb(r,e){r.asyncQueue.verifyOperationInProgress();const n=await UN(r);he(Ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>gb(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>gb(e.remoteStore,o))),r._onlineComponents=e}async function UN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Ls,"Using user provided OfflineComponentProvider");try{await Lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Lm(r,new jh)}}else he(Ls,"Using default OfflineComponentProvider"),await Lm(r,new kN(void 0));return r._offlineComponents}async function rT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Ls,"Using user provided OnlineComponentProvider"),await Eb(r,r._uninitializedComponentsProvider._online)):(he(Ls,"Using default OnlineComponentProvider"),await Eb(r,new fg))),r._onlineComponents}function jN(r){return rT(r).then((e=>e.syncEngine))}async function dg(r){const e=await rT(r),n=e.eventManager;return n.onListen=TN.bind(null,e.syncEngine),n.onUnlisten=wN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RN.bind(null,e.syncEngine),n}function PN(r,e,n={}){const s=new Is;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const b=new iT({next:w=>{b.Nu(),f.enqueueAndForget((()=>YE(u,E))),w.fromCache&&g.source==="server"?p.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),E=new KE(m,b,{includeMetadataChanges:!0,qa:!0});return QE(u,E)})(await dg(r),r.asyncQueue,e,n,s))),s.promise}function sT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Tb=new Map;const aT="firestore.googleapis.com",Sb=!0;class Ab{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aT,this.ssl=Sb}else this.host=e.host,this.ssl=e.ssl??Sb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vI)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QC;switch(s.type){case"firstParty":return new $C(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Tb.get(n);s&&(he("ComponentProvider","Removing Datastore"),Tb.delete(n),s.terminate())})(this),Promise.resolve()}}function zN(r,e,n,s={}){r=Oi(r,df);const o=Lo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(e1(`https://${m}`),t1("Firestore",!0)),u.host!==aT&&u.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ea(g,f)&&(r._setSettings(g),s.mockUserToken)){let p,b;if(typeof s.mockUserToken=="string")p=s.mockUserToken,b=vn.MOCK_USER;else{p=yw(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new vn(E)}r._authCredentials=new YC(new Q1(p,b))}}class xa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xa(this.firestore,e,this._query)}}class qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tu(n,qt._jsonSchema))return new qt(e,s||null,new ye(ut.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Bt("string",qt._jsonSchemaVersion),referencePath:Bt("string")};class Ns extends xa{constructor(e,n,s){super(e,n,qg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ye(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function Lr(r,e,...n){if(r=Ht(r),Y1("collection","path",e),r instanceof df){const s=ut.fromString(e,...n);return U_(s),new Ns(r,null,s)}{if(!(r instanceof qt||r instanceof Ns))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return U_(s),new Ns(r.firestore,null,s)}}function bi(r,e,...n){if(r=Ht(r),arguments.length===1&&(e=Lg.newId()),Y1("doc","path",e),r instanceof df){const s=ut.fromString(e,...n);return L_(s),new qt(r,null,new ye(s))}{if(!(r instanceof qt||r instanceof Ns))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return L_(s),new qt(r.firestore,r instanceof Ns?r.converter:null,new ye(s))}}const wb="AsyncQueue";class Rb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jE(this,"async_queue_retry"),this._c=()=>{const s=km();s&&he(wb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;he(wb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Vr("INTERNAL UNHANDLED ERROR: ",Cb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Cb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Cb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function xb(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Us extends df{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Rb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rb(e),this._firestoreClient=void 0,await e}}}function BN(r,e){const n=typeof r=="object"?r:s1(),s=typeof r=="string"?r:Ih,o=Ag(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=gw("firestore");u&&zN(o,...u)}return o}function mf(r){if(r._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qN(r),r._firestoreClient}function qN(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new dx(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,sT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new LN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(hn.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,_i._jsonSchema))return _i.fromBase64String(e.bytes)}}_i._jsonSchemaVersion="firestore/bytes/1.0",_i._jsonSchema={type:Bt("string",_i._jsonSchemaVersion),bytes:Bt("string")};class xu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ap{constructor(e){this._methodName=e}}class ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:Bt("string",ir._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class rr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new rr(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:Bt("string",rr._jsonSchemaVersion),vectorValues:Bt("object")};const HN=/^__.*__$/;class FN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class oT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class op{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lT(this.Ac)&&HN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cf(e)}Cc(e,n,s,o=!1){return new op({Ac:e,methodName:n,Dc:s,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gf(r){const e=r._freezeSettings(),n=cf(r._databaseId);return new GN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function uT(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);lp("Data must be an object, but it was:",f,s);const m=fT(s,f);let g,p;if(u.merge)g=new ti(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const E of u.mergeFields){const w=mg(e,E,n);if(!f.contains(w))throw new ce(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);mT(b,w)||b.push(w)}g=new ti(b),p=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,p=f.fieldTransforms;return new FN(new jn(m),g,p)}class pf extends ap{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}function cT(r,e,n,s){const o=r.Cc(1,e,n);lp("Data must be an object, but it was:",o,s);const u=[],f=jn.empty();Ps(s,((g,p)=>{const b=up(e,g,n);p=Ht(p);const E=o.yc(b);if(p instanceof pf)u.push(b);else{const w=Iu(p,E);w!=null&&(u.push(b),f.set(b,w))}}));const m=new ti(u);return new oT(f,m,o.fieldTransforms)}function hT(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[mg(e,s,n)],g=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(mg(e,u[w])),g.push(u[w+1]);const p=[],b=jn.empty();for(let w=m.length-1;w>=0;--w)if(!mT(p,m[w])){const x=m[w];let G=g[w];G=Ht(G);const H=f.yc(x);if(G instanceof pf)p.push(x);else{const q=Iu(G,H);q!=null&&(p.push(x),b.set(x,q))}}const E=new ti(p);return new oT(b,E,f.fieldTransforms)}function QN(r,e,n,s=!1){return Iu(n,r.Cc(s?4:3,e))}function Iu(r,e){if(dT(r=Ht(r)))return lp("Unsupported field value:",e,r),fT(r,e);if(r instanceof ap)return(function(s,o){if(!lT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Iu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Lx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ft.fromDate(s);return{timestampValue:kh(o.serializer,u)}}if(s instanceof ft){const u=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,u)}}if(s instanceof ir)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _i)return{bytesValue:CE(o.serializer,s._byteString)};if(s instanceof qt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rr)return(function(f,m){return{mapValue:{fields:{[nE]:{stringValue:iE},[Nh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Hg(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wh(s)}`)})(r,e)}function fT(r,e){const n={};return $1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(r,((s,o)=>{const u=Iu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function dT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ft||r instanceof ir||r instanceof _i||r instanceof qt||r instanceof ap||r instanceof rr)}function lp(r,e,n){if(!dT(n)||!K1(n)){const s=Wh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function mg(r,e,n){if((e=Ht(e))instanceof xu)return e._internalPath;if(typeof e=="string")return up(r,e);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const YN=new RegExp("[~\\*/\\[\\]]");function up(r,e,n){if(e.search(YN)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ce(ee.INVALID_ARGUMENT,m+r+g)}function mT(r,e){return r.some((n=>n.isEqual(e)))}class gT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KN extends gT{data(){return super.data()}}function pT(r,e){return typeof e=="string"?up(r,e):e instanceof xu?e._internalPath:e._delegate._internalPath}function yT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}class XN extends cp{}function zh(r,e,...n){let s=[];e instanceof cp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof fp)).length,m=u.filter((g=>g instanceof hp)).length;if(f>1||f>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class hp extends XN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new hp(e,n,s)}_apply(e){const n=this._parse(e);return vT(e._query,n),new xa(e.firestore,e.converter,ng(e._query,n))}_parse(e){const n=gf(e.firestore);return(function(u,f,m,g,p,b,E){let w;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Nb(E,b);const G=[];for(const H of E)G.push(Ib(g,u,H));w={arrayValue:{values:G}}}else w=Ib(g,u,E)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Nb(E,b),w=QN(m,f,E,b==="in"||b==="not-in");return zt.create(p,b,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class fp extends cp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)vT(f,g),f=ng(f,g)})(e._query,n),new xa(e.firestore,e.converter,ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ib(r,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hE(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!ye.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G_(r,new ye(s))}if(n instanceof qt)return G_(r,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function Nb(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vT(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $N{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ps(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((s=>xt(s.doubleValue)));return new rr(n)}convertGeoPoint(e){return new ir(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=Os(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);Ze(ME(s),9688,{name:e});const o=new cu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function _T(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends gT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Bt("string",_a._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class vh extends _a{data(e={}){return super.data(e)}}class ba{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,b=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:JN(m.type),doc:g,oldIndex:p,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:Bt("string",ba._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class dp extends $N{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function Bh(r){r=Oi(r,xa);const e=Oi(r.firestore,Us),n=mf(e),s=new dp(e);return yT(r._query),PN(n,r._query).then((o=>new ba(e,s,r,o)))}function nu(r,e,n,...s){r=Oi(r,qt);const o=Oi(r.firestore,Us),u=gf(o);let f;return f=typeof(e=Ht(e))=="string"||e instanceof xu?hT(u,"updateDoc",r._key,e,n,s):cT(u,"updateDoc",r._key,e),yf(o,[f.toMutation(r._key,Pn.exists(!0))])}function bT(r){return yf(Oi(r.firestore,Us),[new lf(r._key,Pn.none())])}function ET(r,e){const n=Oi(r.firestore,Us),s=bi(r),o=_T(r.converter,e);return yf(n,[uT(gf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Pn.exists(!1))]).then((()=>s))}function TT(r,...e){r=Ht(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||xb(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xb(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof qt)f=Oi(r.firestore,Us),m=qg(r._key.path),u={next:g=>{e[s]&&e[s](ZN(f,r,g))},error:e[s+1],complete:e[s+2]};else{const g=Oi(r,xa);f=Oi(g.firestore,Us),m=g._query;const p=new dp(f);u={next:b=>{e[s]&&e[s](new ba(f,p,g,b))},error:e[s+1],complete:e[s+2]},yT(r._query)}return(function(p,b,E,w){const x=new iT(w),G=new KE(b,x,E);return p.asyncQueue.enqueueAndForget((async()=>QE(await dg(p),G))),()=>{x.Nu(),p.asyncQueue.enqueueAndForget((async()=>YE(await dg(p),G)))}})(mf(f),m,o,u)}function yf(r,e){return(function(s,o){const u=new Is;return s.asyncQueue.enqueueAndForget((async()=>CN(await jN(s),o,u))),u.promise})(mf(r),e)}function ZN(r,e,n){const s=n.docs.get(e._key),o=new dp(r);return new _a(r,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}class WN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=gf(e)}set(e,n,s){this._verifyNotCommitted();const o=Um(e,this._firestore),u=_T(o.converter,n,s),f=uT(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Pn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Um(e,this._firestore);let f;return f=typeof(n=Ht(n))=="string"||n instanceof xu?hT(this._dataReader,"WriteBatch.update",u._key,n,s,o):cT(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Um(e,this._firestore);return this._mutations=this._mutations.concat(new lf(n._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Um(r,e){if((r=Ht(r)).firestore!==e)throw new ce(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function gg(r){return mf(r=Oi(r,Us)),new WN(r,(e=>yf(r,e)))}(function(e,n=!0){(function(o){Po=o})(Uo),xo(new Ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Us(new KC(s.getProvider("auth-internal")),new JC(f,s.getProvider("app-check-internal")),(function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(p.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Cs(O_,M_,e),Cs(O_,M_,"esm2020")})();const eD={apiKey:"AIzaSyAx1NQceCmvJcLj8lLYEMfBh3WdkClEADE",authDomain:"story2scale-7e039.firebaseapp.com",projectId:"story2scale-7e039",storageBucket:"story2scale-7e039.firebasestorage.app",messagingSenderId:"116406874952",appId:"1:116406874952:web:027d12066dd3ee47c1f97d"},ST=r1(eD),It=BN(ST),As=qC(ST);var Xl=Yb();function tD(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return j.useMemo(()=>s=>{e.forEach(o=>o(s))},e)}const vf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ho(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function mp(r){return"nodeType"in r}function Cn(r){var e,n;return r?Ho(r)?r:mp(r)&&(e=(n=r.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function gp(r){const{Document:e}=Cn(r);return r instanceof e}function Nu(r){return Ho(r)?!1:r instanceof Cn(r).HTMLElement}function AT(r){return r instanceof Cn(r).SVGElement}function Fo(r){return r?Ho(r)?r.document:mp(r)?gp(r)?r:Nu(r)||AT(r)?r.ownerDocument:document:document:document}const Vi=vf?j.useLayoutEffect:j.useEffect;function _f(r){const e=j.useRef(r);return Vi(()=>{e.current=r}),j.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e.current==null?void 0:e.current(...s)},[])}function nD(){const r=j.useRef(null),e=j.useCallback((s,o)=>{r.current=setInterval(s,o)},[]),n=j.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,n]}function mu(r,e){e===void 0&&(e=[r]);const n=j.useRef(r);return Vi(()=>{n.current!==r&&(n.current=r)},e),n}function Du(r,e){const n=j.useRef();return j.useMemo(()=>{const s=r(n.current);return n.current=s,s},[...e])}function qh(r){const e=_f(r),n=j.useRef(null),s=j.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,s]}function Hh(r){const e=j.useRef();return j.useEffect(()=>{e.current=r},[r]),e.current}let jm={};function Ou(r,e){return j.useMemo(()=>{if(e)return e;const n=jm[r]==null?0:jm[r]+1;return jm[r]=n,r+"-"+n},[r,e])}function wT(r){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,f)=>{const m=Object.entries(f);for(const[g,p]of m){const b=u[g];b!=null&&(u[g]=b+r*p)}return u},{...e})}}const Ro=wT(1),gu=wT(-1);function iD(r){return"clientX"in r&&"clientY"in r}function bf(r){if(!r)return!1;const{KeyboardEvent:e}=Cn(r.target);return e&&r instanceof e}function rD(r){if(!r)return!1;const{TouchEvent:e}=Cn(r.target);return e&&r instanceof e}function Fh(r){if(rD(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:n}=r.touches[0];return{x:e,y:n}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:n}=r.changedTouches[0];return{x:e,y:n}}}return iD(r)?{x:r.clientX,y:r.clientY}:null}const js=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:n}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:n}=r;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(r){if(r)return[js.Translate.toString(r),js.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:n,easing:s}=r;return e+" "+n+"ms "+s}}}),Db="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function sD(r){return r.matches(Db)?r:r.querySelector(Db)}const aD={display:"none"};function oD(r){let{id:e,value:n}=r;return _t.createElement("div",{id:e,style:aD},n)}function lD(r){let{id:e,announcement:n,ariaLiveType:s="assertive"}=r;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _t.createElement("div",{id:e,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function uD(){const[r,e]=j.useState("");return{announce:j.useCallback(s=>{s!=null&&e(s)},[]),announcement:r}}const RT=j.createContext(null);function cD(r){const e=j.useContext(RT);j.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function hD(){const[r]=j.useState(()=>new Set),e=j.useCallback(s=>(r.add(s),()=>r.delete(s)),[r]);return[j.useCallback(s=>{let{type:o,event:u}=s;r.forEach(f=>{var m;return(m=f[o])==null?void 0:m.call(f,u)})},[r]),e]}const fD={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},dD={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:n}=r;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:n}=r;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function mD(r){let{announcements:e=dD,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=fD}=r;const{announce:u,announcement:f}=uD(),m=Ou("DndLiveRegion"),[g,p]=j.useState(!1);if(j.useEffect(()=>{p(!0)},[]),cD(j.useMemo(()=>({onDragStart(E){let{active:w}=E;u(e.onDragStart({active:w}))},onDragMove(E){let{active:w,over:x}=E;e.onDragMove&&u(e.onDragMove({active:w,over:x}))},onDragOver(E){let{active:w,over:x}=E;u(e.onDragOver({active:w,over:x}))},onDragEnd(E){let{active:w,over:x}=E;u(e.onDragEnd({active:w,over:x}))},onDragCancel(E){let{active:w,over:x}=E;u(e.onDragCancel({active:w,over:x}))}}),[u,e])),!g)return null;const b=_t.createElement(_t.Fragment,null,_t.createElement(oD,{id:s,value:o.draggable}),_t.createElement(lD,{id:m,announcement:f}));return n?Xl.createPortal(b,n):b}var Qt;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Qt||(Qt={}));function Gh(){}function Ob(r,e){return j.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function gD(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return j.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const ki=Object.freeze({x:0,y:0});function pD(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function yD(r,e){const n=Fh(r);if(!n)return"0 0";const s={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return s.x+"% "+s.y+"%"}function vD(r,e){let{data:{value:n}}=r,{data:{value:s}}=e;return n-s}function _D(r,e){let{data:{value:n}}=r,{data:{value:s}}=e;return s-n}function Mb(r){let{left:e,top:n,height:s,width:o}=r;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+s},{x:e+o,y:n+s}]}function CT(r,e){if(!r||r.length===0)return null;const[n]=r;return n[e]}const xT=r=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=r;const o=Mb(e),u=[];for(const f of s){const{id:m}=f,g=n.get(m);if(g){const p=Mb(g),b=o.reduce((w,x,G)=>w+pD(p[G],x),0),E=Number((b/4).toFixed(4));u.push({id:m,data:{droppableContainer:f,value:E}})}}return u.sort(vD)};function bD(r,e){const n=Math.max(e.top,r.top),s=Math.max(e.left,r.left),o=Math.min(e.left+e.width,r.left+r.width),u=Math.min(e.top+e.height,r.top+r.height),f=o-s,m=u-n;if(s<o&&n<u){const g=e.width*e.height,p=r.width*r.height,b=f*m,E=b/(g+p-b);return Number(E.toFixed(4))}return 0}const ED=r=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=r;const o=[];for(const u of s){const{id:f}=u,m=n.get(f);if(m){const g=bD(m,e);g>0&&o.push({id:f,data:{droppableContainer:u,value:g}})}}return o.sort(_D)};function TD(r,e,n){return{...r,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function IT(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:ki}function SD(r){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((f,m)=>({...f,top:f.top+r*m.y,bottom:f.bottom+r*m.y,left:f.left+r*m.x,right:f.right+r*m.x}),{...n})}}const AD=SD(1);function NT(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function wD(r,e,n){const s=NT(e);if(!s)return r;const{scaleX:o,scaleY:u,x:f,y:m}=s,g=r.left-f-(1-o)*parseFloat(n),p=r.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),b=o?r.width/o:r.width,E=u?r.height/u:r.height;return{width:b,height:E,top:p,right:g+b,bottom:p+E,left:g}}const RD={ignoreTransform:!1};function Go(r,e){e===void 0&&(e=RD);let n=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:b}=Cn(r).getComputedStyle(r);p&&(n=wD(n,p,b))}const{top:s,left:o,width:u,height:f,bottom:m,right:g}=n;return{top:s,left:o,width:u,height:f,bottom:m,right:g}}function Vb(r){return Go(r,{ignoreTransform:!0})}function CD(r){const e=r.innerWidth,n=r.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function xD(r,e){return e===void 0&&(e=Cn(r).getComputedStyle(r)),e.position==="fixed"}function ID(r,e){e===void 0&&(e=Cn(r).getComputedStyle(r));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=e[o];return typeof u=="string"?n.test(u):!1})}function Ef(r,e){const n=[];function s(o){if(e!=null&&n.length>=e||!o)return n;if(gp(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Nu(o)||AT(o)||n.includes(o))return n;const u=Cn(r).getComputedStyle(o);return o!==r&&ID(o,u)&&n.push(o),xD(o,u)?n:s(o.parentNode)}return r?s(r):n}function DT(r){const[e]=Ef(r,1);return e??null}function Pm(r){return!vf||!r?null:Ho(r)?r:mp(r)?gp(r)||r===Fo(r).scrollingElement?window:Nu(r)?r:null:null}function OT(r){return Ho(r)?r.scrollX:r.scrollLeft}function MT(r){return Ho(r)?r.scrollY:r.scrollTop}function pg(r){return{x:OT(r),y:MT(r)}}var en;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(en||(en={}));function VT(r){return!vf||!r?!1:r===document.scrollingElement}function kT(r){const e={x:0,y:0},n=VT(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},s={x:r.scrollWidth-n.width,y:r.scrollHeight-n.height},o=r.scrollTop<=e.y,u=r.scrollLeft<=e.x,f=r.scrollTop>=s.y,m=r.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:f,isRight:m,maxScroll:s,minScroll:e}}const ND={x:.2,y:.2};function DD(r,e,n,s,o){let{top:u,left:f,right:m,bottom:g}=n;s===void 0&&(s=10),o===void 0&&(o=ND);const{isTop:p,isBottom:b,isLeft:E,isRight:w}=kT(r),x={x:0,y:0},G={x:0,y:0},H={height:e.height*o.y,width:e.width*o.x};return!p&&u<=e.top+H.height?(x.y=en.Backward,G.y=s*Math.abs((e.top+H.height-u)/H.height)):!b&&g>=e.bottom-H.height&&(x.y=en.Forward,G.y=s*Math.abs((e.bottom-H.height-g)/H.height)),!w&&m>=e.right-H.width?(x.x=en.Forward,G.x=s*Math.abs((e.right-H.width-m)/H.width)):!E&&f<=e.left+H.width&&(x.x=en.Backward,G.x=s*Math.abs((e.left+H.width-f)/H.width)),{direction:x,speed:G}}function OD(r){if(r===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:e,left:n,right:s,bottom:o}=r.getBoundingClientRect();return{top:e,left:n,right:s,bottom:o,width:r.clientWidth,height:r.clientHeight}}function LT(r){return r.reduce((e,n)=>Ro(e,pg(n)),ki)}function MD(r){return r.reduce((e,n)=>e+OT(n),0)}function VD(r){return r.reduce((e,n)=>e+MT(n),0)}function UT(r,e){if(e===void 0&&(e=Go),!r)return;const{top:n,left:s,bottom:o,right:u}=e(r);DT(r)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const kD=[["x",["left","right"],MD],["y",["top","bottom"],VD]];class pp{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Ef(n),o=LT(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,f,m]of kD)for(const g of f)Object.defineProperty(this,g,{get:()=>{const p=m(s),b=o[u]-p;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class iu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var o;(o=this.target)==null||o.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function LD(r){const{EventTarget:e}=Cn(r);return r instanceof e?r:Fo(r)}function zm(r,e){const n=Math.abs(r.x),s=Math.abs(r.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var vi;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(vi||(vi={}));function kb(r){r.preventDefault()}function UD(r){r.stopPropagation()}var Ge;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Ge||(Ge={}));const jT={start:[Ge.Space,Ge.Enter],cancel:[Ge.Esc],end:[Ge.Space,Ge.Enter,Ge.Tab]},jD=(r,e)=>{let{currentCoordinates:n}=e;switch(r.code){case Ge.Right:return{...n,x:n.x+25};case Ge.Left:return{...n,x:n.x-25};case Ge.Down:return{...n,y:n.y+25};case Ge.Up:return{...n,y:n.y-25}}};class yp{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new iu(Fo(n)),this.windowListeners=new iu(Cn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(vi.Resize,this.handleCancel),this.windowListeners.add(vi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(vi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&UT(s),n(ki)}handleKeyDown(e){if(bf(e)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=jT,coordinateGetter:f=jD,scrollBehavior:m="smooth"}=o,{code:g}=e;if(u.end.includes(g)){this.handleEnd(e);return}if(u.cancel.includes(g)){this.handleCancel(e);return}const{collisionRect:p}=s.current,b=p?{x:p.left,y:p.top}:ki;this.referenceCoordinates||(this.referenceCoordinates=b);const E=f(e,{active:n,context:s.current,currentCoordinates:b});if(E){const w=gu(E,b),x={x:0,y:0},{scrollableAncestors:G}=s.current;for(const H of G){const q=e.code,{isTop:Z,isRight:ie,isLeft:ne,isBottom:oe,maxScroll:de,minScroll:ue}=kT(H),C=OD(H),R={x:Math.min(q===Ge.Right?C.right-C.width/2:C.right,Math.max(q===Ge.Right?C.left:C.left+C.width/2,E.x)),y:Math.min(q===Ge.Down?C.bottom-C.height/2:C.bottom,Math.max(q===Ge.Down?C.top:C.top+C.height/2,E.y))},I=q===Ge.Right&&!ie||q===Ge.Left&&!ne,M=q===Ge.Down&&!oe||q===Ge.Up&&!Z;if(I&&R.x!==E.x){const D=H.scrollLeft+w.x,L=q===Ge.Right&&D<=de.x||q===Ge.Left&&D>=ue.x;if(L&&!w.y){H.scrollTo({left:D,behavior:m});return}L?x.x=H.scrollLeft-D:x.x=q===Ge.Right?H.scrollLeft-de.x:H.scrollLeft-ue.x,x.x&&H.scrollBy({left:-x.x,behavior:m});break}else if(M&&R.y!==E.y){const D=H.scrollTop+w.y,L=q===Ge.Down&&D<=de.y||q===Ge.Up&&D>=ue.y;if(L&&!w.x){H.scrollTo({top:D,behavior:m});return}L?x.y=H.scrollTop-D:x.y=q===Ge.Down?H.scrollTop-de.y:H.scrollTop-ue.y,x.y&&H.scrollBy({top:-x.y,behavior:m});break}}this.handleMove(e,Ro(gu(E,this.referenceCoordinates),x))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yp.activators=[{eventName:"onKeyDown",handler:(r,e,n)=>{let{keyboardCodes:s=jT,onActivation:o}=e,{active:u}=n;const{code:f}=r.nativeEvent;if(s.start.includes(f)){const m=u.activatorNode.current;return m&&r.target!==m?!1:(r.preventDefault(),o?.({event:r.nativeEvent}),!0)}return!1}}];function Lb(r){return!!(r&&"distance"in r)}function Ub(r){return!!(r&&"delay"in r)}class vp{constructor(e,n,s){var o;s===void 0&&(s=LD(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:u}=e,{target:f}=u;this.props=e,this.events=n,this.document=Fo(f),this.documentListeners=new iu(this.document),this.listeners=new iu(s),this.windowListeners=new iu(Cn(f)),this.initialCoordinates=(o=Fh(u))!=null?o:ki,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(vi.Resize,this.handleCancel),this.windowListeners.add(vi.DragStart,kb),this.windowListeners.add(vi.VisibilityChange,this.handleCancel),this.windowListeners.add(vi.ContextMenu,kb),this.documentListeners.add(vi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ub(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Lb(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:o}=this.props;o(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(vi.Click,UD,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(vi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!o)return;const g=(n=Fh(e))!=null?n:ki,p=gu(o,g);if(!s&&m){if(Lb(m)){if(m.tolerance!=null&&zm(p,m.tolerance))return this.handleCancel();if(zm(p,m.distance))return this.handleStart()}if(Ub(m)&&zm(p,m.tolerance))return this.handleCancel();this.handlePending(m,p);return}e.cancelable&&e.preventDefault(),f(g)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ge.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const PD={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _p extends vp{constructor(e){const{event:n}=e,s=Fo(n.target);super(e,PD,s)}}_p.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const zD={move:{name:"mousemove"},end:{name:"mouseup"}};var yg;(function(r){r[r.RightClick=2]="RightClick"})(yg||(yg={}));class BD extends vp{constructor(e){super(e,zD,Fo(e.event.target))}}BD.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:s}=e;return n.button===yg.RightClick?!1:(s?.({event:n}),!0)}}];const Bm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class qD extends vp{constructor(e){super(e,Bm)}static setup(){return window.addEventListener(Bm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Bm.move.name,e)};function e(){}}}qD.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:s}=e;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var ru;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(ru||(ru={}));var Qh;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qh||(Qh={}));function HD(r){let{acceleration:e,activator:n=ru.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:f=5,order:m=Qh.TreeOrder,pointerCoordinates:g,scrollableAncestors:p,scrollableAncestorRects:b,delta:E,threshold:w}=r;const x=GD({delta:E,disabled:!u}),[G,H]=nD(),q=j.useRef({x:0,y:0}),Z=j.useRef({x:0,y:0}),ie=j.useMemo(()=>{switch(n){case ru.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case ru.DraggableRect:return o}},[n,o,g]),ne=j.useRef(null),oe=j.useCallback(()=>{const ue=ne.current;if(!ue)return;const C=q.current.x*Z.current.x,R=q.current.y*Z.current.y;ue.scrollBy(C,R)},[]),de=j.useMemo(()=>m===Qh.TreeOrder?[...p].reverse():p,[m,p]);j.useEffect(()=>{if(!u||!p.length||!ie){H();return}for(const ue of de){if(s?.(ue)===!1)continue;const C=p.indexOf(ue),R=b[C];if(!R)continue;const{direction:I,speed:M}=DD(ue,R,ie,e,w);for(const D of["x","y"])x[D][I[D]]||(M[D]=0,I[D]=0);if(M.x>0||M.y>0){H(),ne.current=ue,G(oe,f),q.current=M,Z.current=I;return}}q.current={x:0,y:0},Z.current={x:0,y:0},H()},[e,oe,s,H,u,f,JSON.stringify(ie),JSON.stringify(x),G,p,de,b,JSON.stringify(w)])}const FD={x:{[en.Backward]:!1,[en.Forward]:!1},y:{[en.Backward]:!1,[en.Forward]:!1}};function GD(r){let{delta:e,disabled:n}=r;const s=Hh(e);return Du(o=>{if(n||!s||!o)return FD;const u={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[en.Backward]:o.x[en.Backward]||u.x===-1,[en.Forward]:o.x[en.Forward]||u.x===1},y:{[en.Backward]:o.y[en.Backward]||u.y===-1,[en.Forward]:o.y[en.Forward]||u.y===1}}},[n,e,s])}function QD(r,e){const n=e!=null?r.get(e):void 0,s=n?n.node.current:null;return Du(o=>{var u;return e==null?null:(u=s??o)!=null?u:null},[s,e])}function YD(r,e){return j.useMemo(()=>r.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(f=>({eventName:f.eventName,handler:e(f.handler,s)}));return[...n,...u]},[]),[r,e])}var pu;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(pu||(pu={}));var vg;(function(r){r.Optimized="optimized"})(vg||(vg={}));const jb=new Map;function KD(r,e){let{dragging:n,dependencies:s,config:o}=e;const[u,f]=j.useState(null),{frequency:m,measure:g,strategy:p}=o,b=j.useRef(r),E=q(),w=mu(E),x=j.useCallback(function(Z){Z===void 0&&(Z=[]),!w.current&&f(ie=>ie===null?Z:ie.concat(Z.filter(ne=>!ie.includes(ne))))},[w]),G=j.useRef(null),H=Du(Z=>{if(E&&!n)return jb;if(!Z||Z===jb||b.current!==r||u!=null){const ie=new Map;for(let ne of r){if(!ne)continue;if(u&&u.length>0&&!u.includes(ne.id)&&ne.rect.current){ie.set(ne.id,ne.rect.current);continue}const oe=ne.node.current,de=oe?new pp(g(oe),oe):null;ne.rect.current=de,de&&ie.set(ne.id,de)}return ie}return Z},[r,u,n,E,g]);return j.useEffect(()=>{b.current=r},[r]),j.useEffect(()=>{E||x()},[n,E]),j.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),j.useEffect(()=>{E||typeof m!="number"||G.current!==null||(G.current=setTimeout(()=>{x(),G.current=null},m))},[m,E,x,...s]),{droppableRects:H,measureDroppableContainers:x,measuringScheduled:u!=null};function q(){switch(p){case pu.Always:return!1;case pu.BeforeDragging:return n;default:return!n}}}function bp(r,e){return Du(n=>r?n||(typeof e=="function"?e(r):r):null,[e,r])}function XD(r,e){return bp(r,e)}function $D(r){let{callback:e,disabled:n}=r;const s=_f(e),o=j.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return j.useEffect(()=>()=>o?.disconnect(),[o]),o}function Tf(r){let{callback:e,disabled:n}=r;const s=_f(e),o=j.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return j.useEffect(()=>()=>o?.disconnect(),[o]),o}function JD(r){return new pp(Go(r),r)}function Pb(r,e,n){e===void 0&&(e=JD);const[s,o]=j.useState(null);function u(){o(g=>{if(!r)return null;if(r.isConnected===!1){var p;return(p=g??n)!=null?p:null}const b=e(r);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const f=$D({callback(g){if(r)for(const p of g){const{type:b,target:E}=p;if(b==="childList"&&E instanceof HTMLElement&&E.contains(r)){u();break}}}}),m=Tf({callback:u});return Vi(()=>{u(),r?(m?.observe(r),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[r]),s}function ZD(r){const e=bp(r);return IT(r,e)}const zb=[];function WD(r){const e=j.useRef(r),n=Du(s=>r?s&&s!==zb&&r&&e.current&&r.parentNode===e.current.parentNode?s:Ef(r):zb,[r]);return j.useEffect(()=>{e.current=r},[r]),n}function e4(r){const[e,n]=j.useState(null),s=j.useRef(r),o=j.useCallback(u=>{const f=Pm(u.target);f&&n(m=>m?(m.set(f,pg(f)),new Map(m)):null)},[]);return j.useEffect(()=>{const u=s.current;if(r!==u){f(u);const m=r.map(g=>{const p=Pm(g);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,pg(p)]):null}).filter(g=>g!=null);n(m.length?new Map(m):null),s.current=r}return()=>{f(r),f(u)};function f(m){m.forEach(g=>{const p=Pm(g);p?.removeEventListener("scroll",o)})}},[o,r]),j.useMemo(()=>r.length?e?Array.from(e.values()).reduce((u,f)=>Ro(u,f),ki):LT(r):ki,[r,e])}function Bb(r,e){e===void 0&&(e=[]);const n=j.useRef(null);return j.useEffect(()=>{n.current=null},e),j.useEffect(()=>{const s=r!==ki;s&&!n.current&&(n.current=r),!s&&n.current&&(n.current=null)},[r]),n.current?gu(r,n.current):ki}function t4(r){j.useEffect(()=>{if(!vf)return;const e=r.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},r.map(e=>{let{sensor:n}=e;return n}))}function n4(r,e){return j.useMemo(()=>r.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=f=>{u(f,e)},n},{}),[r,e])}function PT(r){return j.useMemo(()=>r?CD(r):null,[r])}const qb=[];function i4(r,e){e===void 0&&(e=Go);const[n]=r,s=PT(n?Cn(n):null),[o,u]=j.useState(qb);function f(){u(()=>r.length?r.map(g=>VT(g)?s:new pp(e(g),g)):qb)}const m=Tf({callback:f});return Vi(()=>{m?.disconnect(),f(),r.forEach(g=>m?.observe(g))},[r]),o}function zT(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return Nu(e)?e:r}function r4(r){let{measure:e}=r;const[n,s]=j.useState(null),o=j.useCallback(p=>{for(const{target:b}of p)if(Nu(b)){s(E=>{const w=e(b);return E?{...E,width:w.width,height:w.height}:w});break}},[e]),u=Tf({callback:o}),f=j.useCallback(p=>{const b=zT(p);u?.disconnect(),b&&u?.observe(b),s(b?e(b):null)},[e,u]),[m,g]=qh(f);return j.useMemo(()=>({nodeRef:m,rect:n,setRef:g}),[n,m,g])}const s4=[{sensor:_p,options:{}},{sensor:yp,options:{}}],a4={current:{}},_h={draggable:{measure:Vb},droppable:{measure:Vb,strategy:pu.WhileDragging,frequency:vg.Optimized},dragOverlay:{measure:Go}};class su extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const o4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new su,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Gh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_h,measureDroppableContainers:Gh,windowRect:null,measuringScheduled:!1},BT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Gh,draggableNodes:new Map,over:null,measureDroppableContainers:Gh},Mu=j.createContext(BT),qT=j.createContext(o4);function l4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new su}}}function u4(r,e){switch(e.type){case Qt.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Qt.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case Qt.DragEnd:case Qt.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Qt.RegisterDroppable:{const{element:n}=e,{id:s}=n,o=new su(r.droppable.containers);return o.set(s,n),{...r,droppable:{...r.droppable,containers:o}}}case Qt.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=e,u=r.droppable.containers.get(n);if(!u||s!==u.key)return r;const f=new su(r.droppable.containers);return f.set(n,{...u,disabled:o}),{...r,droppable:{...r.droppable,containers:f}}}case Qt.UnregisterDroppable:{const{id:n,key:s}=e,o=r.droppable.containers.get(n);if(!o||s!==o.key)return r;const u=new su(r.droppable.containers);return u.delete(n),{...r,droppable:{...r.droppable,containers:u}}}default:return r}}function c4(r){let{disabled:e}=r;const{active:n,activatorEvent:s,draggableNodes:o}=j.useContext(Mu),u=Hh(s),f=Hh(n?.id);return j.useEffect(()=>{if(!e&&!s&&u&&f!=null){if(!bf(u)||document.activeElement===u.target)return;const m=o.get(f);if(!m)return;const{activatorNode:g,node:p}=m;if(!g.current&&!p.current)return;requestAnimationFrame(()=>{for(const b of[g.current,p.current]){if(!b)continue;const E=sD(b);if(E){E.focus();break}}})}},[s,e,o,f,u]),null}function HT(r,e){let{transform:n,...s}=e;return r!=null&&r.length?r.reduce((o,u)=>u({transform:o,...s}),n):n}function h4(r){return j.useMemo(()=>({draggable:{..._h.draggable,...r?.draggable},droppable:{..._h.droppable,...r?.droppable},dragOverlay:{..._h.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function f4(r){let{activeNode:e,measure:n,initialRect:s,config:o=!0}=r;const u=j.useRef(!1),{x:f,y:m}=typeof o=="boolean"?{x:o,y:o}:o;Vi(()=>{if(!f&&!m||!e){u.current=!1;return}if(u.current||!s)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const b=n(p),E=IT(b,s);if(f||(E.x=0),m||(E.y=0),u.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const w=DT(p);w&&w.scrollBy({top:E.y,left:E.x})}},[e,f,m,s,n])}const Sf=j.createContext({...ki,scaleX:1,scaleY:1});var _s;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(_s||(_s={}));const d4=j.memo(function(e){var n,s,o,u;let{id:f,accessibility:m,autoScroll:g=!0,children:p,sensors:b=s4,collisionDetection:E=ED,measuring:w,modifiers:x,...G}=e;const H=j.useReducer(u4,void 0,l4),[q,Z]=H,[ie,ne]=hD(),[oe,de]=j.useState(_s.Uninitialized),ue=oe===_s.Initialized,{draggable:{active:C,nodes:R,translate:I},droppable:{containers:M}}=q,D=C!=null?R.get(C):null,L=j.useRef({initial:null,translated:null}),N=j.useMemo(()=>{var Ve;return C!=null?{id:C,data:(Ve=D?.data)!=null?Ve:a4,rect:L}:null},[C,D]),Te=j.useRef(null),[Me,K]=j.useState(null),[re,ge]=j.useState(null),Ce=mu(G,Object.values(G)),He=Ou("DndDescribedBy",f),V=j.useMemo(()=>M.getEnabled(),[M]),X=h4(w),{droppableRects:se,measureDroppableContainers:le,measuringScheduled:_e}=KD(V,{dragging:ue,dependencies:[I.x,I.y],config:X.droppable}),ve=QD(R,C),De=j.useMemo(()=>re?Fh(re):null,[re]),nt=cr(),Qe=XD(ve,X.draggable.measure);f4({activeNode:C!=null?R.get(C):null,config:nt.layoutShiftCompensation,initialRect:Qe,measure:X.draggable.measure});const Ue=Pb(ve,X.draggable.measure,Qe),ni=Pb(ve?ve.parentElement:null),tn=j.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),zn=M.getNodeFor((n=tn.current.over)==null?void 0:n.id),Nt=r4({measure:X.dragOverlay.measure}),ii=(s=Nt.nodeRef.current)!=null?s:ve,xn=ue?(o=Nt.rect)!=null?o:Ue:null,jr=!!(Nt.nodeRef.current&&Nt.rect),Pr=ZD(jr?null:Ue),dt=PT(ii?Cn(ii):null),it=WD(ue?zn??ve:null),Bn=i4(it),zr=HT(x,{transform:{x:I.x-Pr.x,y:I.y-Pr.y,scaleX:1,scaleY:1},activatorEvent:re,active:N,activeNodeRect:Ue,containerNodeRect:ni,draggingNodeRect:xn,over:tn.current.over,overlayNodeRect:Nt.rect,scrollableAncestors:it,scrollableAncestorRects:Bn,windowRect:dt}),Bs=De?Ro(De,I):null,Kt=e4(it),or=Bb(Kt),qs=Bb(Kt,[Ue]),ri=Ro(zr,or),En=xn?AD(xn,zr):null,lr=N&&En?E({active:N,collisionRect:En,droppableRects:se,droppableContainers:V,pointerCoordinates:Bs}):null,Hs=CT(lr,"id"),[qn,Fs]=j.useState(null),Hn=jr?zr:Ro(zr,qs),Ft=TD(Hn,(u=qn?.rect)!=null?u:null,Ue),fn=j.useRef(null),mt=j.useCallback((Ve,gt)=>{let{sensor:pt,options:Dt}=gt;if(Te.current==null)return;const dn=R.get(Te.current);if(!dn)return;const Xt=Ve.nativeEvent,St=new pt({active:Te.current,activeNode:dn,event:Xt,options:Dt,context:tn,onAbort(At){if(!R.get(At))return;const{onDragAbort:gn}=Ce.current,Tn={id:At};gn?.(Tn),ie({type:"onDragAbort",event:Tn})},onPending(At,mn,gn,Tn){if(!R.get(At))return;const{onDragPending:Sn}=Ce.current,Gn={id:At,constraint:mn,initialCoordinates:gn,offset:Tn};Sn?.(Gn),ie({type:"onDragPending",event:Gn})},onStart(At){const mn=Te.current;if(mn==null)return;const gn=R.get(mn);if(!gn)return;const{onDragStart:Tn}=Ce.current,Fn={activatorEvent:Xt,active:{id:mn,data:gn.data,rect:L}};Xl.unstable_batchedUpdates(()=>{Tn?.(Fn),de(_s.Initializing),Z({type:Qt.DragStart,initialCoordinates:At,active:mn}),ie({type:"onDragStart",event:Fn}),K(fn.current),ge(Xt)})},onMove(At){Z({type:Qt.DragMove,coordinates:At})},onEnd:In(Qt.DragEnd),onCancel:In(Qt.DragCancel)});fn.current=St;function In(At){return async function(){const{active:gn,collisions:Tn,over:Fn,scrollAdjustedTranslate:Sn}=tn.current;let Gn=null;if(gn&&Sn){const{cancelDrop:nn}=Ce.current;Gn={activatorEvent:Xt,active:gn,collisions:Tn,delta:Sn,over:Fn},At===Qt.DragEnd&&typeof nn=="function"&&await Promise.resolve(nn(Gn))&&(At=Qt.DragCancel)}Te.current=null,Xl.unstable_batchedUpdates(()=>{Z({type:At}),de(_s.Uninitialized),Fs(null),K(null),ge(null),fn.current=null;const nn=At===Qt.DragEnd?"onDragEnd":"onDragCancel";if(Gn){const An=Ce.current[nn];An?.(Gn),ie({type:nn,event:Gn})}})}}},[R]),Ia=j.useCallback((Ve,gt)=>(pt,Dt)=>{const dn=pt.nativeEvent,Xt=R.get(Dt);if(Te.current!==null||!Xt||dn.dndKit||dn.defaultPrevented)return;const St={active:Xt};Ve(pt,gt.options,St)===!0&&(dn.dndKit={capturedBy:gt.sensor},Te.current=Dt,mt(pt,gt))},[R,mt]),ur=YD(b,Ia);t4(b),Vi(()=>{Ue&&oe===_s.Initializing&&de(_s.Initialized)},[Ue,oe]),j.useEffect(()=>{const{onDragMove:Ve}=Ce.current,{active:gt,activatorEvent:pt,collisions:Dt,over:dn}=tn.current;if(!gt||!pt)return;const Xt={active:gt,activatorEvent:pt,collisions:Dt,delta:{x:ri.x,y:ri.y},over:dn};Xl.unstable_batchedUpdates(()=>{Ve?.(Xt),ie({type:"onDragMove",event:Xt})})},[ri.x,ri.y]),j.useEffect(()=>{const{active:Ve,activatorEvent:gt,collisions:pt,droppableContainers:Dt,scrollAdjustedTranslate:dn}=tn.current;if(!Ve||Te.current==null||!gt||!dn)return;const{onDragOver:Xt}=Ce.current,St=Dt.get(Hs),In=St&&St.rect.current?{id:St.id,rect:St.rect.current,data:St.data,disabled:St.disabled}:null,At={active:Ve,activatorEvent:gt,collisions:pt,delta:{x:dn.x,y:dn.y},over:In};Xl.unstable_batchedUpdates(()=>{Fs(In),Xt?.(At),ie({type:"onDragOver",event:At})})},[Hs]),Vi(()=>{tn.current={activatorEvent:re,active:N,activeNode:ve,collisionRect:En,collisions:lr,droppableRects:se,draggableNodes:R,draggingNode:ii,draggingNodeRect:xn,droppableContainers:M,over:qn,scrollableAncestors:it,scrollAdjustedTranslate:ri},L.current={initial:xn,translated:En}},[N,ve,lr,En,R,ii,xn,se,M,qn,it,ri]),HD({...nt,delta:I,draggingRect:En,pointerCoordinates:Bs,scrollableAncestors:it,scrollableAncestorRects:Bn});const Na=j.useMemo(()=>({active:N,activeNode:ve,activeNodeRect:Ue,activatorEvent:re,collisions:lr,containerNodeRect:ni,dragOverlay:Nt,draggableNodes:R,droppableContainers:M,droppableRects:se,over:qn,measureDroppableContainers:le,scrollableAncestors:it,scrollableAncestorRects:Bn,measuringConfiguration:X,measuringScheduled:_e,windowRect:dt}),[N,ve,Ue,re,lr,ni,Nt,R,M,se,qn,le,it,Bn,X,_e,dt]),si=j.useMemo(()=>({activatorEvent:re,activators:ur,active:N,activeNodeRect:Ue,ariaDescribedById:{draggable:He},dispatch:Z,draggableNodes:R,over:qn,measureDroppableContainers:le}),[re,ur,N,Ue,Z,He,R,qn,le]);return _t.createElement(RT.Provider,{value:ne},_t.createElement(Mu.Provider,{value:si},_t.createElement(qT.Provider,{value:Na},_t.createElement(Sf.Provider,{value:Ft},p)),_t.createElement(c4,{disabled:m?.restoreFocus===!1})),_t.createElement(mD,{...m,hiddenTextDescribedById:He}));function cr(){const Ve=Me?.autoScrollEnabled===!1,gt=typeof g=="object"?g.enabled===!1:g===!1,pt=ue&&!Ve&&!gt;return typeof g=="object"?{...g,enabled:pt}:{enabled:pt}}}),m4=j.createContext(null),Hb="button",g4="Draggable";function p4(r){let{id:e,data:n,disabled:s=!1,attributes:o}=r;const u=Ou(g4),{activators:f,activatorEvent:m,active:g,activeNodeRect:p,ariaDescribedById:b,draggableNodes:E,over:w}=j.useContext(Mu),{role:x=Hb,roleDescription:G="draggable",tabIndex:H=0}=o??{},q=g?.id===e,Z=j.useContext(q?Sf:m4),[ie,ne]=qh(),[oe,de]=qh(),ue=n4(f,e),C=mu(n);Vi(()=>(E.set(e,{id:e,key:u,node:ie,activatorNode:oe,data:C}),()=>{const I=E.get(e);I&&I.key===u&&E.delete(e)}),[E,e]);const R=j.useMemo(()=>({role:x,tabIndex:H,"aria-disabled":s,"aria-pressed":q&&x===Hb?!0:void 0,"aria-roledescription":G,"aria-describedby":b.draggable}),[s,x,H,q,G,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:p,attributes:R,isDragging:q,listeners:s?void 0:ue,node:ie,over:w,setNodeRef:ne,setActivatorNodeRef:de,transform:Z}}function FT(){return j.useContext(qT)}const y4="Droppable",v4={timeout:25};function GT(r){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:o}=r;const u=Ou(y4),{active:f,dispatch:m,over:g,measureDroppableContainers:p}=j.useContext(Mu),b=j.useRef({disabled:n}),E=j.useRef(!1),w=j.useRef(null),x=j.useRef(null),{disabled:G,updateMeasurementsFor:H,timeout:q}={...v4,...o},Z=mu(H??s),ie=j.useCallback(()=>{if(!E.current){E.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{p(Array.isArray(Z.current)?Z.current:[Z.current]),x.current=null},q)},[q]),ne=Tf({callback:ie,disabled:G||!f}),oe=j.useCallback((R,I)=>{ne&&(I&&(ne.unobserve(I),E.current=!1),R&&ne.observe(R))},[ne]),[de,ue]=qh(oe),C=mu(e);return j.useEffect(()=>{!ne||!de.current||(ne.disconnect(),E.current=!1,ne.observe(de.current))},[de,ne]),j.useEffect(()=>(m({type:Qt.RegisterDroppable,element:{id:s,key:u,disabled:n,node:de,rect:w,data:C}}),()=>m({type:Qt.UnregisterDroppable,key:u,id:s})),[s]),j.useEffect(()=>{n!==b.current.disabled&&(m({type:Qt.SetDroppableDisabled,id:s,key:u,disabled:n}),b.current.disabled=n)},[s,u,n,m]),{active:f,rect:w,isOver:g?.id===s,node:de,over:g,setNodeRef:ue}}function _4(r){let{animation:e,children:n}=r;const[s,o]=j.useState(null),[u,f]=j.useState(null),m=Hh(n);return!n&&!s&&m&&o(m),Vi(()=>{if(!u)return;const g=s?.key,p=s?.props.id;if(g==null||p==null){o(null);return}Promise.resolve(e(p,u)).then(()=>{o(null)})},[e,s,u]),_t.createElement(_t.Fragment,null,n,s?j.cloneElement(s,{ref:f}):null)}const b4={x:0,y:0,scaleX:1,scaleY:1};function E4(r){let{children:e}=r;return _t.createElement(Mu.Provider,{value:BT},_t.createElement(Sf.Provider,{value:b4},e))}const T4={position:"fixed",touchAction:"none"},S4=r=>bf(r)?"transform 250ms ease":void 0,A4=j.forwardRef((r,e)=>{let{as:n,activatorEvent:s,adjustScale:o,children:u,className:f,rect:m,style:g,transform:p,transition:b=S4}=r;if(!m)return null;const E=o?p:{...p,scaleX:1,scaleY:1},w={...T4,width:m.width,height:m.height,top:m.top,left:m.left,transform:js.Transform.toString(E),transformOrigin:o&&s?yD(s,m):void 0,transition:typeof b=="function"?b(s):b,...g};return _t.createElement(n,{className:f,style:w,ref:e},u)}),w4=r=>e=>{let{active:n,dragOverlay:s}=e;const o={},{styles:u,className:f}=r;if(u!=null&&u.active)for(const[m,g]of Object.entries(u.active))g!==void 0&&(o[m]=n.node.style.getPropertyValue(m),n.node.style.setProperty(m,g));if(u!=null&&u.dragOverlay)for(const[m,g]of Object.entries(u.dragOverlay))g!==void 0&&s.node.style.setProperty(m,g);return f!=null&&f.active&&n.node.classList.add(f.active),f!=null&&f.dragOverlay&&s.node.classList.add(f.dragOverlay),function(){for(const[g,p]of Object.entries(o))n.node.style.setProperty(g,p);f!=null&&f.active&&n.node.classList.remove(f.active)}},R4=r=>{let{transform:{initial:e,final:n}}=r;return[{transform:js.Transform.toString(e)},{transform:js.Transform.toString(n)}]},C4={duration:250,easing:"ease",keyframes:R4,sideEffects:w4({styles:{active:{opacity:"0"}}})};function x4(r){let{config:e,draggableNodes:n,droppableContainers:s,measuringConfiguration:o}=r;return _f((u,f)=>{if(e===null)return;const m=n.get(u);if(!m)return;const g=m.node.current;if(!g)return;const p=zT(f);if(!p)return;const{transform:b}=Cn(f).getComputedStyle(f),E=NT(b);if(!E)return;const w=typeof e=="function"?e:I4(e);return UT(g,o.draggable.measure),w({active:{id:u,data:m.data,node:g,rect:o.draggable.measure(g)},draggableNodes:n,dragOverlay:{node:f,rect:o.dragOverlay.measure(p)},droppableContainers:s,measuringConfiguration:o,transform:E})})}function I4(r){const{duration:e,easing:n,sideEffects:s,keyframes:o}={...C4,...r};return u=>{let{active:f,dragOverlay:m,transform:g,...p}=u;if(!e)return;const b={x:m.rect.left-f.rect.left,y:m.rect.top-f.rect.top},E={scaleX:g.scaleX!==1?f.rect.width*g.scaleX/m.rect.width:1,scaleY:g.scaleY!==1?f.rect.height*g.scaleY/m.rect.height:1},w={x:g.x-b.x,y:g.y-b.y,...E},x=o({...p,active:f,dragOverlay:m,transform:{initial:g,final:w}}),[G]=x,H=x[x.length-1];if(JSON.stringify(G)===JSON.stringify(H))return;const q=s?.({active:f,dragOverlay:m,...p}),Z=m.node.animate(x,{duration:e,easing:n,fill:"forwards"});return new Promise(ie=>{Z.onfinish=()=>{q?.(),ie()}})}}let Fb=0;function N4(r){return j.useMemo(()=>{if(r!=null)return Fb++,Fb},[r])}const D4=_t.memo(r=>{let{adjustScale:e=!1,children:n,dropAnimation:s,style:o,transition:u,modifiers:f,wrapperElement:m="div",className:g,zIndex:p=999}=r;const{activatorEvent:b,active:E,activeNodeRect:w,containerNodeRect:x,draggableNodes:G,droppableContainers:H,dragOverlay:q,over:Z,measuringConfiguration:ie,scrollableAncestors:ne,scrollableAncestorRects:oe,windowRect:de}=FT(),ue=j.useContext(Sf),C=N4(E?.id),R=HT(f,{activatorEvent:b,active:E,activeNodeRect:w,containerNodeRect:x,draggingNodeRect:q.rect,over:Z,overlayNodeRect:q.rect,scrollableAncestors:ne,scrollableAncestorRects:oe,transform:ue,windowRect:de}),I=bp(w),M=x4({config:s,draggableNodes:G,droppableContainers:H,measuringConfiguration:ie}),D=I?q.setRef:void 0;return _t.createElement(E4,null,_t.createElement(_4,{animation:M},E&&C?_t.createElement(A4,{key:C,id:E.id,ref:D,as:m,activatorEvent:b,adjustScale:e,className:g,transition:u,rect:I,style:{zIndex:p,...o},transform:R},n):null))});function QT(r,e,n){const s=r.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function O4(r,e){return r.reduce((n,s,o)=>{const u=e.get(s);return u&&(n[o]=u),n},Array(r.length))}function oh(r){return r!==null&&r>=0}function M4(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let n=0;n<r.length;n++)if(r[n]!==e[n])return!1;return!0}function V4(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const YT=r=>{let{rects:e,activeIndex:n,overIndex:s,index:o}=r;const u=QT(e,s,n),f=e[o],m=u[o];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},lh={scaleX:1,scaleY:1},k4=r=>{var e;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:f}=r;const m=(e=u[n])!=null?e:s;if(!m)return null;if(o===n){const p=u[f];return p?{x:0,y:n<f?p.top+p.height-(m.top+m.height):p.top-m.top,...lh}:null}const g=L4(u,o,n);return o>n&&o<=f?{x:0,y:-m.height-g,...lh}:o<n&&o>=f?{x:0,y:m.height+g,...lh}:{x:0,y:0,...lh}};function L4(r,e,n){const s=r[e],o=r[e-1],u=r[e+1];return s?n<e?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const KT="Sortable",XT=_t.createContext({activeIndex:-1,containerId:KT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:YT,disabled:{draggable:!1,droppable:!1}});function U4(r){let{children:e,id:n,items:s,strategy:o=YT,disabled:u=!1}=r;const{active:f,dragOverlay:m,droppableRects:g,over:p,measureDroppableContainers:b}=FT(),E=Ou(KT,n),w=m.rect!==null,x=j.useMemo(()=>s.map(ue=>typeof ue=="object"&&"id"in ue?ue.id:ue),[s]),G=f!=null,H=f?x.indexOf(f.id):-1,q=p?x.indexOf(p.id):-1,Z=j.useRef(x),ie=!M4(x,Z.current),ne=q!==-1&&H===-1||ie,oe=V4(u);Vi(()=>{ie&&G&&b(x)},[ie,x,G,b]),j.useEffect(()=>{Z.current=x},[x]);const de=j.useMemo(()=>({activeIndex:H,containerId:E,disabled:oe,disableTransforms:ne,items:x,overIndex:q,useDragOverlay:w,sortedRects:O4(x,g),strategy:o}),[H,E,oe.draggable,oe.droppable,ne,x,q,g,w,o]);return _t.createElement(XT.Provider,{value:de},e)}const j4=r=>{let{id:e,items:n,activeIndex:s,overIndex:o}=r;return QT(n,s,o).indexOf(e)},P4=r=>{let{containerId:e,isSorting:n,wasDragging:s,index:o,items:u,newIndex:f,previousItems:m,previousContainerId:g,transition:p}=r;return!p||!s||m!==u&&o===f?!1:n?!0:f!==o&&e===g},z4={duration:200,easing:"ease"},$T="transform",B4=js.Transition.toString({property:$T,duration:0,easing:"linear"}),q4={roleDescription:"sortable"};function H4(r){let{disabled:e,index:n,node:s,rect:o}=r;const[u,f]=j.useState(null),m=j.useRef(n);return Vi(()=>{if(!e&&n!==m.current&&s.current){const g=o.current;if(g){const p=Go(s.current,{ignoreTransform:!0}),b={x:g.left-p.left,y:g.top-p.top,scaleX:g.width/p.width,scaleY:g.height/p.height};(b.x||b.y)&&f(b)}}n!==m.current&&(m.current=n)},[e,n,s,o]),j.useEffect(()=>{u&&f(null)},[u]),u}function F4(r){let{animateLayoutChanges:e=P4,attributes:n,disabled:s,data:o,getNewIndex:u=j4,id:f,strategy:m,resizeObserverConfig:g,transition:p=z4}=r;const{items:b,containerId:E,activeIndex:w,disabled:x,disableTransforms:G,sortedRects:H,overIndex:q,useDragOverlay:Z,strategy:ie}=j.useContext(XT),ne=G4(s,x),oe=b.indexOf(f),de=j.useMemo(()=>({sortable:{containerId:E,index:oe,items:b},...o}),[E,o,oe,b]),ue=j.useMemo(()=>b.slice(b.indexOf(f)),[b,f]),{rect:C,node:R,isOver:I,setNodeRef:M}=GT({id:f,data:de,disabled:ne.droppable,resizeObserverConfig:{updateMeasurementsFor:ue,...g}}),{active:D,activatorEvent:L,activeNodeRect:N,attributes:Te,setNodeRef:Me,listeners:K,isDragging:re,over:ge,setActivatorNodeRef:Ce,transform:He}=p4({id:f,data:de,attributes:{...q4,...n},disabled:ne.draggable}),V=tD(M,Me),X=!!D,se=X&&!G&&oh(w)&&oh(q),le=!Z&&re,_e=le&&se?He:null,De=se?_e??(m??ie)({rects:H,activeNodeRect:N,activeIndex:w,overIndex:q,index:oe}):null,nt=oh(w)&&oh(q)?u({id:f,items:b,activeIndex:w,overIndex:q}):oe,Qe=D?.id,Ue=j.useRef({activeId:Qe,items:b,newIndex:nt,containerId:E}),ni=b!==Ue.current.items,tn=e({active:D,containerId:E,isDragging:re,isSorting:X,id:f,index:oe,items:b,newIndex:Ue.current.newIndex,previousItems:Ue.current.items,previousContainerId:Ue.current.containerId,transition:p,wasDragging:Ue.current.activeId!=null}),zn=H4({disabled:!tn,index:oe,node:R,rect:C});return j.useEffect(()=>{X&&Ue.current.newIndex!==nt&&(Ue.current.newIndex=nt),E!==Ue.current.containerId&&(Ue.current.containerId=E),b!==Ue.current.items&&(Ue.current.items=b)},[X,nt,E,b]),j.useEffect(()=>{if(Qe===Ue.current.activeId)return;if(Qe!=null&&Ue.current.activeId==null){Ue.current.activeId=Qe;return}const ii=setTimeout(()=>{Ue.current.activeId=Qe},50);return()=>clearTimeout(ii)},[Qe]),{active:D,activeIndex:w,attributes:Te,data:de,rect:C,index:oe,newIndex:nt,items:b,isOver:I,isSorting:X,isDragging:re,listeners:K,node:R,overIndex:q,over:ge,setNodeRef:V,setActivatorNodeRef:Ce,setDroppableNodeRef:M,setDraggableNodeRef:Me,transform:zn??De,transition:Nt()};function Nt(){if(zn||ni&&Ue.current.newIndex===oe)return B4;if(!(le&&!bf(L)||!p)&&(X||tn))return js.Transition.toString({...p,property:$T})}}function G4(r,e){var n,s;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(n=r?.draggable)!=null?n:e.draggable,droppable:(s=r?.droppable)!=null?s:e.droppable}}function Yh(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Q4=[Ge.Down,Ge.Right,Ge.Up,Ge.Left],Y4=(r,e)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:f,scrollableAncestors:m}}=e;if(Q4.includes(r.code)){if(r.preventDefault(),!n||!s)return;const g=[];u.getEnabled().forEach(E=>{if(!E||E!=null&&E.disabled)return;const w=o.get(E.id);if(w)switch(r.code){case Ge.Down:s.top<w.top&&g.push(E);break;case Ge.Up:s.top>w.top&&g.push(E);break;case Ge.Left:s.left>w.left&&g.push(E);break;case Ge.Right:s.left<w.left&&g.push(E);break}});const p=xT({collisionRect:s,droppableRects:o,droppableContainers:g});let b=CT(p,"id");if(b===f?.id&&p.length>1&&(b=p[1].id),b!=null){const E=u.get(n.id),w=u.get(b),x=w?o.get(w.id):null,G=w?.node.current;if(G&&x&&E&&w){const q=Ef(G).some((ue,C)=>m[C]!==ue),Z=JT(E,w),ie=K4(E,w),ne=q||!Z?{x:0,y:0}:{x:ie?s.width-x.width:0,y:ie?s.height-x.height:0},oe={x:x.left,y:x.top};return ne.x&&ne.y?oe:gu(oe,ne)}}}};function JT(r,e){return!Yh(r)||!Yh(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function K4(r,e){return!Yh(r)||!Yh(e)||!JT(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const Co=[{id:"tintas-marfim",name:"Tintas Marfim",color:"orange",icon:"Bot"},{id:"openpower-back",name:"OpenPower Backend",color:"blue",icon:"ShieldCheck"},{id:"openpower-front",name:"OpenPower Frontend",color:"sky",icon:"Monitor"},{id:"equihealth",name:"EquiHealth",color:"green",icon:"PawPrint"},{id:"amae",name:"AMAE",color:"red",icon:"Building2"},{id:"vita-ai",name:"Vita.AI",color:"purple",icon:"Brain"}],_g={backlog:"Backlog",todo:"A Fazer","in-progress":"Em Andamento",done:"Concludo"},X4={low:"bg-slate-200 text-slate-700",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},$4={orange:"bg-orange-100 text-orange-800 border-orange-200",blue:"bg-blue-100 text-blue-800 border-blue-200",sky:"bg-sky-100 text-sky-800 border-sky-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",purple:"bg-purple-100 text-purple-800 border-purple-200"};const J4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Gb=r=>{const e=Z4(r);return e.charAt(0).toUpperCase()+e.slice(1)},ZT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),W4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var eO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tO=j.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>j.createElement("svg",{ref:g,...eO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:ZT("lucide",o),...!u&&!W4(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,b])=>j.createElement(p,b)),...Array.isArray(u)?u:[u]]));const Oe=(r,e)=>{const n=j.forwardRef(({className:s,...o},u)=>j.createElement(tO,{ref:u,iconNode:e,className:ZT(`lucide-${J4(Gb(r))}`,`lucide-${r}`,s),...o}));return n.displayName=Gb(r),n};const nO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],WT=Oe("activity",nO);const iO=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Kh=Oe("archive",iO);const rO=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],eS=Oe("bot",rO);const sO=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Ep=Oe("box",sO);const aO=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],tS=Oe("brain",aO);const oO=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],nS=Oe("building-2",oO);const lO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tp=Oe("calendar",lO);const uO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],iS=Oe("circle-alert",uO);const cO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hO=Oe("circle-question-mark",cO);const fO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dO=Oe("circle",fO);const mO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bg=Oe("clock",mO);const gO=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],rS=Oe("cloud",gO);const pO=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],sS=Oe("code",pO);const yO=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],aS=Oe("cpu",yO);const vO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Sp=Oe("database",vO);const _O=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bO=Oe("download",_O);const EO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],TO=Oe("funnel",EO);const SO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],oS=Oe("globe",SO);const AO=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],wO=Oe("hash",AO);const RO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],lS=Oe("layers",RO);const CO=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],xO=Oe("layout-grid",CO);const IO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],NO=Oe("loader-circle",IO);const DO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uS=Oe("log-out",DO);const OO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],cS=Oe("monitor",OO);const MO=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],VO=Oe("mouse-pointer-click",MO);const kO=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],hS=Oe("paw-print",kO);const LO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fS=Oe("pen",LO);const UO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dS=Oe("plus",UO);const jO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],PO=Oe("rotate-ccw",jO);const zO=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],mS=Oe("server",zO);const BO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gS=Oe("settings",BO);const qO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],pS=Oe("shield-alert",qO);const HO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ap=Oe("shield-check",HO);const FO=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],yS=Oe("smartphone",FO);const GO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wp=Oe("trash-2",GO);const QO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],YO=Oe("upload",QO);const KO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vS=Oe("user",KO);const XO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Af=Oe("x",XO);const $O=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_S=Oe("zap",$O);function Rp(){const[r,e]=j.useState([]),[n,s]=j.useState(!0),[o,u]=j.useState(null);return j.useEffect(()=>{const f=zh(Lr(It,"projects")),m=TT(f,g=>{const p=g.docs.map(b=>({id:b.id,...b.data()}));e(p),s(!1)},g=>{console.error("Error fetching projects:",g),u(g),s(!1)});return()=>m()},[]),{projects:r,loading:n,error:o}}const JO={Bot:eS,Code:sS,Database:Sp,User:vS,Building2:nS,Brain:tS,ShieldCheck:Ap,Monitor:cS,PawPrint:hS,Globe:oS,Smartphone:yS,Cloud:rS,Server:mS,Cpu:aS,Activity:WT,Zap:_S,Layers:lS,Box:Ep,Hash:wO},ZO=r=>JO[r]||dO;function bS({task:r,onDelete:e,onEdit:n}){const{projects:s}=Rp(),{attributes:o,listeners:u,setNodeRef:f,transform:m,transition:g,isDragging:p}=F4({id:r.id,data:{type:"Task",task:r}}),b={transform:js.Transform.toString(m),transition:g},E=s.find(q=>q.id===r.projectId),w=E?`bg-${E.color}-100 text-${E.color}-800 border-${E.color}-200`:"bg-gray-100 text-gray-800 border-gray-200",x=E?ZO(E.icon):null,G=q=>{if(r.status==="done")return{status:"normal",days:0};const Z=new Date(q),ne=Math.abs(new Date().getTime()-Z.getTime()),oe=Math.ceil(ne/(1e3*60*60*24));return oe>30?{status:"critical",days:oe}:oe>14?{status:"warning",days:oe}:{status:"normal",days:oe}};if(p)return A.jsx("div",{ref:f,style:b,className:"opacity-30 bg-gray-50 p-4 rounded-lg border-2 border-dashed border-gray-400 h-[150px] w-full cursor-grab"});const H=r.date?G(r.date):{status:"normal",days:0};return A.jsxs("div",{ref:f,style:b,...o,...u,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow group cursor-grab active:cursor-grabbing",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("span",{className:`flex items-center gap-1.5 text-[10px] font-bold tracking-wider uppercase px-2 py-0.5 rounded-full border ${w}`,children:[x&&A.jsx(x,{size:12,strokeWidth:2.5}),E?.name||"Unknown Project"]}),A.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[A.jsx("button",{onClick:q=>{q.stopPropagation(),n(r)},className:"p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-blue-600",children:A.jsx(fS,{size:14})}),A.jsx("button",{onClick:q=>{q.stopPropagation(),e(r.id)},className:"p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-red-600",children:A.jsx(wp,{size:14})})]})]}),A.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:r.title}),r.description&&A.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:r.description}),A.jsxs("div",{className:"flex justify-between items-center mt-3",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${X4[r.priority]}`,children:r.priority.toUpperCase()}),r.date&&A.jsxs("div",{className:`flex items-center gap-1 text-xs ${H.status==="critical"?"text-red-700 font-bold bg-red-50 px-2 py-1 rounded-md border border-red-100":H.status==="warning"?"text-amber-600 font-medium":"text-gray-500"}`,title:H.status==="critical"?`CRTICO: Tarefa aberta h ${H.days} dias`:H.status==="warning"?`Tarefa aberta h ${H.days} dias`:void 0,children:[H.status==="critical"?A.jsx(iS,{size:12}):H.status==="warning"?A.jsx(bg,{size:12}):A.jsx(Tp,{size:12}),A.jsx("span",{children:new Date(r.date).toLocaleDateString("pt-BR")})]})]}),A.jsxs("div",{className:"flex items-center",children:[r.assignee?A.jsx("img",{src:r.assignee,alt:"Assignee",className:"w-6 h-6 rounded-full border border-gray-200 object-cover",onError:q=>{q.currentTarget.style.display="none",q.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,A.jsx("div",{className:`w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 ${r.assignee?"hidden":""}`,children:A.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:"U"})})]})]})]})}const WO={backlog:{bg:"bg-slate-50",text:"text-slate-700",dot:"bg-slate-400",border:"border-slate-200",badge:"bg-slate-200 text-slate-800",scrollbarThumb:"[&::-webkit-scrollbar-thumb]:bg-slate-100"},todo:{bg:"bg-slate-50",text:"text-blue-900",dot:"bg-blue-500",border:"border-blue-200",badge:"bg-blue-100 text-blue-900",scrollbarThumb:"[&::-webkit-scrollbar-thumb]:bg-blue-100"},"in-progress":{bg:"bg-slate-50",text:"text-orange-800",dot:"bg-orange-500",border:"border-orange-200",badge:"bg-orange-100 text-orange-900",scrollbarThumb:"[&::-webkit-scrollbar-thumb]:bg-orange-100"},done:{bg:"bg-slate-50",text:"text-emerald-900",dot:"bg-emerald-500",border:"border-emerald-200",badge:"bg-emerald-100 text-emerald-700",scrollbarThumb:"[&::-webkit-scrollbar-thumb]:bg-emerald-100"}};function eM({id:r,tasks:e,onDeleteTask:n,onEditTask:s}){const{setNodeRef:o}=GT({id:r}),u=WO[r];return A.jsxs("div",{className:`flex flex-col h-full w-80 min-w-80 rounded-2xl border shadow-inner ${u.bg} ${u.border}`,children:[A.jsxs("div",{className:"p-4 flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:`w-2 h-2 rounded-full ${u.dot}`}),A.jsx("h2",{className:`uppercase font-bold text-xs tracking-wide ${u.text}`,children:_g[r]})]}),A.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-lg backdrop-blur-sm ${u.badge}`,children:e.length})]}),A.jsx("div",{ref:o,className:`flex-1 p-3 pt-0 overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-transparent [&::-webkit-scrollbar-thumb]:rounded-full ${u.scrollbarThumb}`,children:A.jsx(U4,{items:e.map(f=>f.id),strategy:k4,children:A.jsx("div",{className:"flex flex-col gap-3",children:e.map(f=>A.jsx(bS,{task:f,onDelete:n,onEdit:s},f.id))})})})]})}function tM({isOpen:r,onClose:e,onSubmit:n,editingTask:s}){const[o,u]=j.useState(""),[f,m]=j.useState(""),[g,p]=j.useState("medium"),[b,E]=j.useState("todo"),[w,x]=j.useState(Co[0].id),[G,H]=j.useState(new Date().toISOString().split("T")[0]);if(j.useEffect(()=>{s?(u(s.title),m(s.description||""),p(s.priority),E(s.status),x(s.projectId),H(s.date||new Date().toISOString().split("T")[0])):(u(""),m(""),p("medium"),E("todo"),x(Co[0].id),H(new Date().toISOString().split("T")[0]))},[s,r]),!r)return null;const q=Z=>{Z.preventDefault(),n({title:o,description:f,priority:g,status:b,projectId:w,date:G}),e()};return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[A.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Task":"New Task"}),A.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:A.jsx(Af,{size:20})})]}),A.jsxs("form",{onSubmit:q,className:"p-4 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),A.jsx("input",{type:"text",required:!0,value:o,onChange:Z=>u(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Enter task title"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),A.jsx("textarea",{value:f,onChange:Z=>m(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all resize-none h-24",placeholder:"Enter task description (optional)"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project"}),A.jsx("select",{value:w,onChange:Z=>x(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:Co.map(Z=>A.jsx("option",{value:Z.id,children:Z.name},Z.id))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),A.jsx("input",{type:"date",value:G,onChange:Z=>H(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),A.jsxs("select",{value:g,onChange:Z=>p(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[A.jsx("option",{value:"low",children:"Low"}),A.jsx("option",{value:"medium",children:"Medium"}),A.jsx("option",{value:"high",children:"High"}),A.jsx("option",{value:"critical",children:"Critical"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),A.jsxs("select",{value:b,onChange:Z=>E(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[A.jsx("option",{value:"backlog",children:"Backlog"}),A.jsx("option",{value:"todo",children:"To Do"}),A.jsx("option",{value:"in-progress",children:"In Progress"}),A.jsx("option",{value:"done",children:"Done"})]})]})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[A.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),A.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:s?"Save Changes":"Create Task"})]})]})]})})}const nM=async()=>{if(!As.currentUser){alert("Please sign in to seed the database");return}const r=gg(It),e=Lr(It,"tasks"),n=Lr(It,"projects"),s=zh(e);(await Bh(s)).docs.forEach(p=>{r.delete(p.ref)});const u=zh(n);(await Bh(u)).docs.forEach(p=>{r.delete(p.ref)}),[{id:"tintas-marfim",name:"Tintas Marfim",color:"orange",icon:"Bot"},{id:"openpower-back",name:"OpenPower Backend",color:"blue",icon:"ShieldCheck"},{id:"openpower-front",name:"OpenPower Frontend",color:"sky",icon:"Monitor"},{id:"equihealth",name:"EquiHealth",color:"green",icon:"PawPrint"},{id:"amae",name:"AMAE",color:"red",icon:"Building2"},{id:"vita-ai",name:"Vita.AI",color:"purple",icon:"Brain"}].forEach(p=>{const b=bi(It,"projects",p.id);r.set(b,p)}),[{title:"Implementar Stack de Observabilidade (Prometheus/Grafana/Loki)",status:"backlog",priority:"high",projectId:"tintas-marfim",date:"2025-11-25"},{title:"Configurao de CI/CD (GitHub Actions)",status:"todo",priority:"high",projectId:"tintas-marfim",date:"2025-11-25"},{title:"Implementar Fila de Mensagens (Celery/Redis)",status:"todo",priority:"medium",projectId:"tintas-marfim",date:"2025-11-25"},{title:"Saneamento de Base de Dados (LID & Identidade Persistente)",status:"done",priority:"critical",projectId:"tintas-marfim",date:"2025-11-20"},{title:"Migrao para PostgreSQL Dockerizado",status:"done",priority:"high",projectId:"tintas-marfim",date:"2025-10-23"},{title:"Implementar Revogao de Consentimentos (Endpoint DELETE)",status:"todo",priority:"high",projectId:"openpower-back",date:"2025-11-25"},{title:"Expandir Endpoints de Gesto (Admin CRUD)",status:"in-progress",priority:"medium",projectId:"openpower-back",date:"2025-11-25"},{title:"Implementao Completa do Fluxo de Recuperao de Senha",status:"done",priority:"high",projectId:"openpower-back",date:"2025-11-22"},{title:"Refatorao Arquitetural (SQLAlchemy/Alembic)",status:"done",priority:"critical",projectId:"openpower-back",date:"2025-11-19"},{title:"Implementar Login com Google (SSO)",status:"backlog",priority:"medium",projectId:"openpower-front",date:"2025-11-25"},{title:"Implementar Pgina Wallet",status:"todo",priority:"high",projectId:"openpower-front",date:"2025-11-25"},{title:"Implementar Polling (Home/Wallet) para status de consentimento",status:"in-progress",priority:"medium",projectId:"openpower-front",date:"2025-11-25"},{title:"Tela de Perfil Completa (Edio e Senha)",status:"done",priority:"low",projectId:"openpower-front",date:"2025-11-22"},{title:"Refatorao UI/UX Geral (Design System)",status:"done",priority:"high",projectId:"openpower-front",date:"2025-11-21"},{title:"Treinamento YOLOv8 Nano (Proof of Concept)",status:"todo",priority:"critical",projectId:"equihealth",date:"2025-11-25"},{title:"Otimizao I/O Frames (Leitura de Vdeo Streamada)",status:"in-progress",priority:"high",projectId:"equihealth",date:"2025-11-25"},{title:"Curadoria de Negativos (Baias Vazias) e Safety Mining",status:"done",priority:"medium",projectId:"equihealth",date:"2025-11-14"},{title:"Implementao do Split Determinstico 80/20",status:"done",priority:"low",projectId:"equihealth",date:"2025-11-14"},{title:"Levantamento de requisitos funcionais",status:"todo",priority:"high",projectId:"amae",date:"2025-11-25"},{title:"Configurao de ambiente Python/Jupyter",status:"todo",priority:"medium",projectId:"vita-ai",date:"2025-11-25"}].forEach(p=>{const b=bi(e);r.set(b,{...p,createdAt:new Date().toISOString(),assignee:As.currentUser?.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(As.currentUser?.displayName||"User")}&background=random`,userId:As.currentUser?.uid})}),await r.commit(),console.log("Database seeded successfully!"),alert("Database seeded successfully!")},iM=async()=>{try{const e=(await Bh(Lr(It,"tasks"))).docs.map(u=>({id:u.id,...u.data()})),n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),s=document.createElement("a");s.setAttribute("href",n);const o=new Date().toISOString().split("T")[0];s.setAttribute("download",`story2scale-backup-${o}.json`),document.body.appendChild(s),s.click(),s.remove()}catch(r){console.error("Error exporting data:",r),alert("Erro ao exportar dados.")}},rM=async r=>{const e=new FileReader;return new Promise((n,s)=>{e.onload=async o=>{try{const u=o.target?.result,f=JSON.parse(u);if(!Array.isArray(f))throw new Error("Formato de arquivo invlido. Esperado um array de tarefas.");const g=(await Bh(Lr(It,"tasks"))).docs,p=(w,x)=>Array.from({length:Math.ceil(w.length/x)},(G,H)=>w.slice(H*x,H*x+x)),b=p(g,500);for(const w of b){const x=gg(It);w.forEach(G=>x.delete(G.ref)),await x.commit()}const E=p(f,500);for(const w of E){const x=gg(It);w.forEach(G=>{const{id:H,...q}=G,Z=H?bi(It,"tasks",H):bi(Lr(It,"tasks"));x.set(Z,q)}),await x.commit()}n()}catch(u){console.error("Error importing data:",u),s(u)}},e.onerror=o=>s(o),e.readAsText(r)})},Qb={Bot:eS,Code:sS,Database:Sp,User:vS,Building2:nS,Brain:tS,ShieldCheck:Ap,Monitor:cS,PawPrint:hS,Globe:oS,Smartphone:yS,Cloud:rS,Server:mS,Cpu:aS,Activity:WT,Zap:_S,Layers:lS,Box:Ep},sM=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"];function aM({isOpen:r,onClose:e,projects:n}){const[s,o]=j.useState(null),[u,f]=j.useState(!1),[m,g]=j.useState({name:"",color:"blue",icon:"Box"});if(!r)return null;const p=async()=>{if(m.name)try{s?await nu(bi(It,"projects",s.id),{name:m.name,color:m.color,icon:m.icon}):await ET(Lr(It,"projects"),{name:m.name,color:m.color,icon:m.icon,createdAt:new Date().toISOString()}),w()}catch(x){console.error("Error saving project:",x),alert("Erro ao salvar projeto.")}},b=async x=>{if(confirm("Tem certeza? As tarefas associadas a este projeto perdero sua tag."))try{await bT(bi(It,"projects",x))}catch(G){console.error("Error deleting project:",G)}},E=x=>{o(x),g({name:x.name,color:x.color,icon:x.icon}),f(!0)},w=()=>{o(null),f(!1),g({name:"",color:"blue",icon:"Box"})};return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden",children:[A.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Gerenciar Projetos"}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:A.jsx(Af,{size:24})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Projeto"}),A.jsx("input",{type:"text",value:m.name,onChange:x=>g({...m,name:x.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Novo Projeto"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor do Tema"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:sM.map(x=>A.jsx("button",{onClick:()=>g({...m,color:x}),className:`w-8 h-8 rounded-full border-2 transition-all ${m.color===x?"border-gray-900 scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:`var(--color-${x}-500)`},children:A.jsx("div",{className:`w-full h-full rounded-full bg-${x}-500`})},x))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"cone"}),A.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.entries(Qb).map(([x,G])=>A.jsx("button",{onClick:()=>g({...m,icon:x}),className:`p-2 rounded-lg border flex items-center justify-center transition-all ${m.icon===x?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,title:x,children:A.jsx(G,{size:20})},x))})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[A.jsx("button",{onClick:w,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-xl font-medium transition-colors",children:"Cancelar"}),A.jsx("button",{onClick:p,disabled:!m.name,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Salvar Alteraes":"Criar Projeto"})]})]}):A.jsxs("div",{className:"space-y-3",children:[A.jsxs("button",{onClick:()=>f(!0),className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 font-medium hover:border-blue-500 hover:text-blue-600 hover:bg-blue-50 transition-all flex items-center justify-center gap-2",children:[A.jsx(dS,{size:20}),"Adicionar Novo Projeto"]}),n.map(x=>{const G=Qb[x.icon]||Ep;return A.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-xl hover:shadow-sm transition-shadow",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:`p-2 rounded-lg bg-${x.color}-100 text-${x.color}-600`,children:A.jsx(G,{size:20})}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-medium text-gray-900",children:x.name}),A.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[x.color," Theme"]})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>E(x),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:A.jsx(fS,{size:18})}),A.jsx("button",{onClick:()=>b(x.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:A.jsx(wp,{size:18})})]})]},x.id)})]})})]})})}function oM({isOpen:r,onClose:e}){const{projects:n}=Rp();return r?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50/50",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Guia de Bordo"}),A.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manual de referncia do sistema"})]}),A.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:A.jsx(Af,{size:24})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[A.jsxs("section",{children:[A.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:[A.jsx(xO,{size:16,className:"text-blue-600"}),"Mapa de Projetos"]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(s=>A.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg border border-gray-100 bg-gray-50/50",children:[A.jsx("div",{className:`w-3 h-3 rounded-full bg-${s.color}-500`}),A.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.name})]},s.id))})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:[A.jsx(bg,{size:16,className:"text-amber-600"}),"Status & Envelhecimento"]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[A.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-white shadow-sm",children:[A.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[A.jsx(Tp,{size:18}),A.jsx("span",{className:"font-semibold text-sm",children:"Recente"})]}),A.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Tarefas criadas ou atualizadas nos ltimos 14 dias. Fluxo normal de trabalho."})]}),A.jsxs("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50 shadow-sm",children:[A.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[A.jsx(bg,{size:18}),A.jsx("span",{className:"font-semibold text-sm",children:"Ateno"})]}),A.jsx("p",{className:"text-xs text-amber-800 leading-relaxed",children:"Tarefas paradas h mais de 14 dias. Requerem reviso ou acompanhamento."})]}),A.jsxs("div",{className:"p-4 rounded-xl border border-red-200 bg-red-50 shadow-sm",children:[A.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-2",children:[A.jsx(iS,{size:18}),A.jsx("span",{className:"font-semibold text-sm",children:"Crtico"})]}),A.jsx("p",{className:"text-xs text-red-800 leading-relaxed",children:"Tarefas estagnadas h mais de 30 dias. Ao imediata necessria."})]})]})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:[A.jsx(VO,{size:16,className:"text-purple-600"}),"Funcionalidades"]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-md mt-0.5",children:A.jsx(gS,{size:14})}),A.jsxs("div",{children:[A.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Gerenciamento de Projetos"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Adicione, edite ou remova projetos dinamicamente. Personalize cores e cones para melhor organizao."})]})]}),A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-md mt-0.5",children:A.jsx(TO,{size:14})}),A.jsxs("div",{children:[A.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Filtro de Projetos"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Clique nos projetos na barra lateral para filtrar o quadro. Selecione mltiplos para comparar."})]})]}),A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"p-1.5 bg-green-100 text-green-600 rounded-md mt-0.5",children:A.jsx(Ap,{size:14})}),A.jsxs("div",{children:[A.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Segurana & Auditoria"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Login seguro via Google. Apenas administradores podem resetar o banco de dados."})]})]}),A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"p-1.5 bg-gray-100 text-gray-600 rounded-md mt-0.5",children:A.jsx(Kh,{size:14})}),A.jsxs("div",{children:[A.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Arquivo & Excluso"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Tarefas deletadas so enviadas para o Arquivo. L elas podem ser restauradas ou excludas permanentemente (apenas Admin)."})]})]})]})]})]}),A.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 text-center",children:A.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Story2Scale Control Tower v1.0  Desenvolvido com React & Firebase"})})]})}):null}function lM({isOpen:r,onClose:e,tasks:n,user:s}){if(!r)return null;const o=n.filter(p=>p.isArchived),u=s.email==="viniciusbrancos@gmail.com",f=o.reduce((p,b)=>(p[b.projectId]||(p[b.projectId]=[]),p[b.projectId].push(b),p),{});Object.keys(f).forEach(p=>{f[p].sort((b,E)=>{const w=b.date?new Date(b.date).getTime():0,x=E.date?new Date(E.date).getTime():0;return w-x})});const m=async p=>{const b=bi(It,"tasks",p);await nu(b,{isArchived:!1})},g=async p=>{confirm("Tem certeza? Esta ao no pode ser desfeita.")&&await bT(bi(It,"tasks",p))};return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50/50",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:A.jsx(Kh,{className:"text-gray-600",size:24})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Arquivo"}),A.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tarefas arquivadas e histrico"})]})]}),A.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:A.jsx(Af,{size:24})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:o.length===0?A.jsxs("div",{className:"text-center py-12 text-gray-400",children:[A.jsx(Kh,{size:48,className:"mx-auto mb-4 opacity-20"}),A.jsx("p",{children:"Nenhuma tarefa arquivada."})]}):Object.keys(f).map(p=>{const b=Co.find(w=>w.id===p),E=b?$4[b.color].split(" ")[0].replace("bg-","text-").replace("-100","-600"):"text-gray-600";return A.jsxs("div",{className:"space-y-3",children:[A.jsxs("h3",{className:`text-sm font-bold uppercase tracking-wider flex items-center gap-2 ${E}`,children:[b?.name||"Projeto Desconhecido",A.jsx("span",{className:"text-xs font-normal text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:f[p].length})]}),A.jsx("div",{className:"grid gap-3",children:f[p].map(w=>A.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-xl shadow-sm hover:shadow-md transition-shadow group",children:[A.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[A.jsx("h4",{className:"font-medium text-gray-900 truncate",children:w.title}),A.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[w.date&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(Tp,{size:12}),new Date(w.date).toLocaleDateString("pt-BR")]}),A.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-gray-600 capitalize",children:w.status})]})]}),A.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[A.jsx("button",{onClick:()=>m(w.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Restaurar para o quadro",children:A.jsx(PO,{size:18})}),u&&A.jsx("button",{onClick:()=>g(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir permanentemente",children:A.jsx(wp,{size:18})})]})]},w.id))})]},p)})})]})})}const uM="/s2s-control-tower/assets/s2slogo-CYB0_J-u.png";function cM({user:r,tasks:e,onSignOut:n,onNewTask:s,selectedProjects:o,onToggleProject:u}){const[f,m]=j.useState(!1),[g,p]=j.useState(!1),[b,E]=j.useState(!1),[w,x]=j.useState(!1),{projects:G}=Rp(),H=ie=>{const ne=e.filter(ue=>ue.projectId===ie&&!ue.isArchived),oe=ne.length;if(oe===0)return 0;const de=ne.filter(ue=>ue.status==="done").length;return Math.round(de/oe*100)},q={slate:"bg-slate-500",gray:"bg-gray-500",zinc:"bg-zinc-500",neutral:"bg-neutral-500",stone:"bg-stone-500",red:"bg-red-500",orange:"bg-orange-500",amber:"bg-amber-500",yellow:"bg-yellow-500",lime:"bg-lime-500",green:"bg-green-500",emerald:"bg-emerald-500",teal:"bg-teal-500",cyan:"bg-cyan-500",sky:"bg-sky-500",blue:"bg-blue-500",indigo:"bg-indigo-500",violet:"bg-violet-500",purple:"bg-purple-500",fuchsia:"bg-fuchsia-500",pink:"bg-pink-500",rose:"bg-rose-500"},Z=ie=>q[ie]||"bg-gray-500";return A.jsxs("div",{className:"w-72 bg-white border-r border-gray-200 flex flex-col h-full shrink-0",children:[A.jsxs("div",{className:"p-6 border-b border-gray-100",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[A.jsx("div",{className:"w-10 h-10 shrink-0",children:A.jsx("img",{src:uM,alt:"Story2Scale Logo",className:"w-full h-full shadow-lg shadow-blue-900/20 rounded-xl object-cover"})}),A.jsx("span",{className:"font-bold text-gray-800 text-lg tracking-tight",children:"Story2Scale Kanban"})]}),A.jsxs("button",{onClick:s,className:"w-full mt-6 py-2.5 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium text-sm transition-all shadow-sm hover:shadow-md active:scale-[0.98] flex items-center justify-center gap-2 cursor-pointer",children:[A.jsx(dS,{size:18}),"Nova Tarefa"]}),r&&r.email==="viniciusbrancos@gmail.com"&&A.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-2",children:[A.jsx("p",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider mb-2",children:"Admin Zone"}),A.jsxs("button",{onClick:()=>{confirm("Isso vai apagar dados existentes e recriar os iniciais. Continuar?")&&nM()},className:"w-full py-2 px-4 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-xl font-medium text-sm transition-all shadow-sm flex items-center justify-center gap-2 cursor-pointer",children:[A.jsx(pS,{size:16}),"Seed DB"]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsxs("button",{onClick:iM,className:"w-full py-2 px-2 bg-gray-50 hover:bg-gray-100 text-gray-700 rounded-xl font-medium text-xs transition-all shadow-sm flex items-center justify-center gap-1.5 cursor-pointer",title:"Exportar Backup",children:[A.jsx(bO,{size:14}),"Exportar"]}),A.jsxs("label",{className:"w-full py-2 px-2 bg-gray-50 hover:bg-gray-100 text-gray-700 rounded-xl font-medium text-xs transition-all shadow-sm flex items-center justify-center gap-1.5 cursor-pointer",children:[A.jsx(YO,{size:14}),"Importar",A.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:ie=>{const ne=ie.target.files?.[0];ne&&(confirm("ATENO: Importar um backup ir SUBSTITUIR TODOS os dados atuais. Deseja continuar?")&&rM(ne).then(()=>{alert("Importao concluda com sucesso!"),window.location.reload()}).catch(oe=>{alert("Erro na importao: "+oe.message)}),ie.target.value="")}})]})]})]})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsx("h3",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Projetos"}),A.jsx("button",{onClick:()=>E(!0),className:"text-gray-400 hover:text-blue-600 transition-colors cursor-pointer",title:"Gerenciar Projetos",children:A.jsx(gS,{size:16})})]}),A.jsx("div",{className:"space-y-4",children:G.map(ie=>{const ne=H(ie.id),oe=o.includes(ie.id);return A.jsxs("div",{onClick:()=>u(ie.id),className:`
                                    cursor-pointer p-3 rounded-xl transition-all duration-200 border
                                    ${oe?"bg-blue-50 border-blue-200 shadow-sm ring-1 ring-blue-200":"bg-transparent border-transparent hover:bg-gray-50 hover:border-gray-100"}
                                `,children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx("span",{className:`text-sm font-medium ${oe?"text-blue-800":"text-gray-700"}`,children:ie.name}),A.jsxs("span",{className:"text-xs font-semibold text-gray-500",children:[ne,"%"]})]}),A.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:A.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${Z(ie.color)}`,style:{width:`${ne}%`}})})]},ie.id)})})]}),A.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50 space-y-3",children:[A.jsxs("button",{onClick:()=>p(!0),className:"w-full flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",children:[A.jsx(Kh,{size:18}),A.jsx("span",{children:"Arquivo"})]}),A.jsxs("button",{onClick:()=>m(!0),className:"w-full flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",children:[A.jsx(hO,{size:18}),A.jsx("span",{children:"Guia de Bordo"})]}),A.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200/50",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[r.photoURL&&!w?A.jsx("img",{src:r.photoURL,alt:r.displayName||"User",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm",onError:()=>x(!0)}):A.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold border-2 border-white shadow-sm",children:r.displayName?.[0]||"U"}),A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"text-sm font-semibold text-gray-900 leading-tight",children:r.displayName||"Usurio"}),A.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[A.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),A.jsx("span",{className:"text-xs font-medium text-green-600",children:"Online"})]})]})]}),A.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 cursor-pointer",title:"Sair",children:A.jsx(uS,{size:20})})]})]}),A.jsx(oM,{isOpen:f,onClose:()=>m(!1)}),A.jsx(aM,{isOpen:b,onClose:()=>E(!1),projects:G}),A.jsx(lM,{isOpen:g,onClose:()=>p(!1),tasks:e,user:r})]})}function hM({user:r,onSignOut:e,tasks:n,allTasks:s,selectedProjects:o,onToggleProject:u}){const[f,m]=j.useState(null),[g,p]=j.useState(!1),[b,E]=j.useState(null),[w,x]=j.useState(n);j.useEffect(()=>{x(n)},[n]);const G=gD(Ob(_p,{activationConstraint:{distance:5}}),Ob(yp,{coordinateGetter:Y4})),H=C=>[...C].sort((R,I)=>{const M=Co.find(Me=>Me.id===R.projectId)?.name||"",D=Co.find(Me=>Me.id===I.projectId)?.name||"",L=M.localeCompare(D);if(L!==0)return L;const N=R.date?new Date(R.date).getTime():Number.MAX_SAFE_INTEGER,Te=I.date?new Date(I.date).getTime():Number.MAX_SAFE_INTEGER;return N-Te}),q=C=>{m(C.active.id)},Z=C=>{const{active:R,over:I}=C;if(!I)return;const M=R.id,D=I.id;if(M===D)return;const L=R.data.current?.type==="Task";I.data.current?.type,L&&Object.keys(_g).includes(D)},ie=async C=>{const{active:R,over:I}=C;if(m(null),!I)return;const M=R.id,D=I.id,L=w.find(Te=>Te.id===M);if(!L)return;let N=L.status;if(Object.keys(_g).includes(D))N=D;else{const Te=w.find(Me=>Me.id===D);Te&&(N=Te.status)}if(L.status!==N){x(Te=>Te.map(Me=>Me.id===M?{...Me,status:N}:Me));try{const Te=bi(It,"tasks",M);await nu(Te,{status:N})}catch(Te){console.error("Failed to update task status:",Te),x(Me=>Me.map(K=>K.id===M?{...K,status:L.status}:K))}}},ne=async C=>{if(b){const R=bi(It,"tasks",b.id);await nu(R,{...C}),E(null)}else await ET(Lr(It,"tasks"),{...C,createdAt:new Date().toISOString(),assignee:r.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.displayName||"User")}&background=random`,userId:r.uid})},oe=async C=>{if(confirm("Deseja arquivar esta tarefa? Voc poder restaur-la no menu Arquivo.")){const R=bi(It,"tasks",C);await nu(R,{isArchived:!0})}},de=C=>{E(C),p(!0)},ue=["backlog","todo","in-progress","done"];return A.jsxs("div",{className:"h-screen flex flex-row bg-gray-100 text-gray-900 font-sans overflow-hidden",children:[A.jsx(cM,{user:r,tasks:s,onSignOut:e,onNewTask:()=>{E(null),p(!0)},selectedProjects:o,onToggleProject:u}),A.jsx("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:A.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6",children:A.jsxs(d4,{sensors:G,collisionDetection:xT,onDragStart:q,onDragOver:Z,onDragEnd:ie,children:[A.jsx("div",{className:"flex gap-6 h-full min-w-max mx-auto",children:ue.map(C=>A.jsx(eM,{id:C,tasks:H(w.filter(R=>R.status===C)),onDeleteTask:oe,onEditTask:de},C))}),A.jsx(D4,{children:f?A.jsx(bS,{task:n.find(C=>C.id===f),onDelete:()=>{},onEdit:()=>{}}):null})]})})}),A.jsx(tM,{isOpen:g,onClose:()=>{p(!1),E(null)},onSubmit:ne,editingTask:b})]})}function fM(){const r=async()=>{const e=new Ir;try{await JR(As,e)}catch(n){console.error("Error signing in with Google",n)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-gray-100",children:[A.jsx("div",{className:"flex justify-center mb-6",children:A.jsx("div",{className:"bg-blue-600 p-3 rounded-xl shadow-lg shadow-blue-600/20",children:A.jsx(Sp,{className:"text-white",size:32})})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 tracking-tight",children:"My Projects Control Tower"}),A.jsx("p",{className:"text-gray-500 mb-8",children:"Sign in to manage your projects and tasks"}),A.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98]",children:[A.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[A.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),A.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),A.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),A.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})]})})}function dM({userEmail:r}){const e=async()=>{try{await C1(As)}catch(n){console.error("Error signing out",n)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-gray-100",children:[A.jsx("div",{className:"flex justify-center mb-6",children:A.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:A.jsx(pS,{className:"text-red-600",size:48})})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 tracking-tight",children:"Acesso Restrito"}),A.jsxs("p",{className:"text-gray-500 mb-8",children:["Seu email ",A.jsx("span",{className:"font-medium text-gray-700",children:r})," no tem permisso para acessar este painel. Entre em contato com o administrador."]}),A.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-2.5 px-4 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98]",children:[A.jsx(uS,{size:18}),"Sair"]})]})})}function mM(){const[r,e]=j.useState(null),[n,s]=j.useState(!0);j.useEffect(()=>{const x=DR(As,G=>{e(G),s(!1)});return()=>x()},[]);const o=async()=>{try{await C1(As)}catch(x){console.error("Error signing out",x)}},[u,f]=j.useState([]),[m,g]=j.useState([]);j.useEffect(()=>{const x=zh(Lr(It,"tasks")),G=TT(x,H=>{const q=H.docs.map(Z=>({id:Z.id,...Z.data()}));f(q)});return()=>G()},[]);const p=x=>{g(G=>G.includes(x)?G.filter(H=>H!==x):[...G,x])},b=(m.length===0?u:u.filter(x=>m.includes(x.projectId))).filter(x=>!x.isArchived);if(n)return A.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:A.jsx(NO,{className:"w-10 h-10 text-blue-600 animate-spin"})});if(!r)return A.jsx(fM,{});const E="viniciusbrancos@gmail.com,brancodanillo@gmail.com,astrovinnds@gmail.com".split(",").map(x=>x.trim())||[];return E.length===0||r.email&&E.includes(r.email)?A.jsx(hM,{user:r,onSignOut:o,tasks:b,allTasks:u,selectedProjects:m,onToggleProject:p}):A.jsx(dM,{userEmail:r.email})}aw.createRoot(document.getElementById("root")).render(A.jsx(j.StrictMode,{children:A.jsx(mM,{})}));
