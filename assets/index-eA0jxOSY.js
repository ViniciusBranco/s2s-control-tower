(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function wA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var mm={exports:{}},ql={};var j_;function RA(){if(j_)return ql;j_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var B_;function CA(){return B_||(B_=1,mm.exports=RA()),mm.exports}var x=CA(),gm={exports:{}},Ae={};var q_;function IA(){if(q_)return Ae;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,F={};function ee(V,X,se){this.props=V,this.context=X,this.refs=F,this.updater=se||q}ee.prototype.isReactComponent={},ee.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},ee.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=ee.prototype;function ne(V,X,se){this.props=V,this.context=X,this.refs=F,this.updater=se||q}var fe=ne.prototype=new re;fe.constructor=ne,Q(fe,ee.prototype),fe.isPureReactComponent=!0;var le=Array.isArray;function oe(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(V,X,se){var ue=se.ref;return{$$typeof:r,type:V,key:X,ref:ue!==void 0?ue:null,props:se}}function M(V,X){return C(V.type,X,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return X[se]})}var I=/\/+/g;function je(V,X){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):X.toString(36)}function lt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(oe,oe):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,X,se,ue,_e){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(ve){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case r:case e:De=!0;break;case E:return De=V._init,K(De(V._payload),X,se,ue,_e)}}if(De)return _e=_e(V),De=ue===""?"."+je(V,0):ue,le(_e)?(se="",De!=null&&(se=De.replace(I,"$&/")+"/"),K(_e,X,se,"",function(Ve){return Ve})):_e!=null&&(D(_e)&&(_e=M(_e,se+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+De)),X.push(_e)),1;De=0;var et=ue===""?".":ue+":";if(le(V))for(var Fe=0;Fe<V.length;Fe++)ue=V[Fe],ve=et+je(ue,Fe),De+=K(ue,X,se,ve,_e);else if(Fe=N(V),typeof Fe=="function")for(V=Fe.call(V),Fe=0;!(ue=V.next()).done;)ue=ue.value,ve=et+je(ue,Fe++),De+=K(ue,X,se,ve,_e);else if(ve==="object"){if(typeof V.then=="function")return K(lt(V),X,se,ue,_e);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return De}function ie(V,X,se){if(V==null)return V;var ue=[],_e=0;return K(V,ue,"","",function(ve){return X.call(se,ve,_e++)}),ue}function ge(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Re=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:ie,forEach:function(V,X,se){ie(V,function(){X.apply(this,arguments)},se)},count:function(V){var X=0;return ie(V,function(){X++}),X},toArray:function(V){return ie(V,function(X){return X})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=b,Ae.Children=Be,Ae.Component=ee,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ne,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,X,se){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=Q({},V.props),_e=V.key;if(X!=null)for(ve in X.key!==void 0&&(_e=""+X.key),X)!w.call(X,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&X.ref===void 0||(ue[ve]=X[ve]);var ve=arguments.length-2;if(ve===1)ue.children=se;else if(1<ve){for(var De=Array(ve),et=0;et<ve;et++)De[et]=arguments[et+2];ue.children=De}return C(V.type,_e,ue)},Ae.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ae.createElement=function(V,X,se){var ue,_e={},ve=null;if(X!=null)for(ue in X.key!==void 0&&(ve=""+X.key),X)w.call(X,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=X[ue]);var De=arguments.length-2;if(De===1)_e.children=se;else if(1<De){for(var et=Array(De),Fe=0;Fe<De;Fe++)et[Fe]=arguments[Fe+2];_e.children=et}if(V&&V.defaultProps)for(ue in De=V.defaultProps,De)_e[ue]===void 0&&(_e[ue]=De[ue]);return C(V,ve,_e)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=D,Ae.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ge}},Ae.memo=function(V,X){return{$$typeof:p,type:V,compare:X===void 0?null:X}},Ae.startTransition=function(V){var X=R.T,se={};R.T=se;try{var ue=V(),_e=R.S;_e!==null&&_e(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(oe,Re)}catch(ve){Re(ve)}finally{X!==null&&se.types!==null&&(X.types=se.types),R.T=X}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(V){return R.H.use(V)},Ae.useActionState=function(V,X,se){return R.H.useActionState(V,X,se)},Ae.useCallback=function(V,X){return R.H.useCallback(V,X)},Ae.useContext=function(V){return R.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,X){return R.H.useDeferredValue(V,X)},Ae.useEffect=function(V,X){return R.H.useEffect(V,X)},Ae.useEffectEvent=function(V){return R.H.useEffectEvent(V)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(V,X,se){return R.H.useImperativeHandle(V,X,se)},Ae.useInsertionEffect=function(V,X){return R.H.useInsertionEffect(V,X)},Ae.useLayoutEffect=function(V,X){return R.H.useLayoutEffect(V,X)},Ae.useMemo=function(V,X){return R.H.useMemo(V,X)},Ae.useOptimistic=function(V,X){return R.H.useOptimistic(V,X)},Ae.useReducer=function(V,X,se){return R.H.useReducer(V,X,se)},Ae.useRef=function(V){return R.H.useRef(V)},Ae.useState=function(V){return R.H.useState(V)},Ae.useSyncExternalStore=function(V,X,se){return R.H.useSyncExternalStore(V,X,se)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.2.0",Ae}var H_;function pg(){return H_||(H_=1,gm.exports=IA()),gm.exports}var B=pg();const vt=wA(B);var pm={exports:{}},Hl={},ym={exports:{}},vm={};var F_;function xA(){return F_||(F_=1,(function(r){function e(K,ie){var ge=K.length;K.push(ie);e:for(;0<ge;){var Re=ge-1>>>1,Be=K[Re];if(0<o(Be,ie))K[Re]=ie,K[ge]=Be,ge=Re;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ie=K[0],ge=K.pop();if(ge!==ie){K[0]=ge;e:for(var Re=0,Be=K.length,V=Be>>>1;Re<V;){var X=2*(Re+1)-1,se=K[X],ue=X+1,_e=K[ue];if(0>o(se,ge))ue<Be&&0>o(_e,se)?(K[Re]=_e,K[ue]=ge,Re=ue):(K[Re]=se,K[X]=ge,Re=X);else if(ue<Be&&0>o(_e,ge))K[Re]=_e,K[ue]=ge,Re=ue;else break e}}return ie}function o(K,ie){var ge=K.sortIndex-ie.sortIndex;return ge!==0?ge:K.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,b=null,A=3,N=!1,q=!1,Q=!1,F=!1,ee=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function fe(K){for(var ie=n(p);ie!==null;){if(ie.callback===null)s(p);else if(ie.startTime<=K)s(p),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(p)}}function le(K){if(Q=!1,fe(K),!q)if(n(g)!==null)q=!0,oe||(oe=!0,L());else{var ie=n(p);ie!==null&&lt(le,ie.startTime-K)}}var oe=!1,R=-1,w=5,C=-1;function M(){return F?!0:!(r.unstable_now()-C<w)}function D(){if(F=!1,oe){var K=r.unstable_now();C=K;var ie=!0;try{e:{q=!1,Q&&(Q=!1,re(R),R=-1),N=!0;var ge=A;try{t:{for(fe(K),b=n(g);b!==null&&!(b.expirationTime>K&&M());){var Re=b.callback;if(typeof Re=="function"){b.callback=null,A=b.priorityLevel;var Be=Re(b.expirationTime<=K);if(K=r.unstable_now(),typeof Be=="function"){b.callback=Be,fe(K),ie=!0;break t}b===n(g)&&s(g),fe(K)}else s(g);b=n(g)}if(b!==null)ie=!0;else{var V=n(p);V!==null&&lt(le,V.startTime-K),ie=!1}}break e}finally{b=null,A=ge,N=!1}ie=void 0}}finally{ie?L():oe=!1}}}var L;if(typeof ne=="function")L=function(){ne(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,je=I.port2;I.port1.onmessage=D,L=function(){je.postMessage(null)}}else L=function(){ee(D,0)};function lt(K,ie){R=ee(function(){K(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(K){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var ge=A;A=ie;try{return K()}finally{A=ge}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=A;A=K;try{return ie()}finally{A=ge}},r.unstable_scheduleCallback=function(K,ie,ge){var Re=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Re+ge:Re):ge=Re,K){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ge+Be,K={id:E++,callback:ie,priorityLevel:K,startTime:ge,expirationTime:Be,sortIndex:-1},ge>Re?(K.sortIndex=ge,e(p,K),n(g)===null&&K===n(p)&&(Q?(re(R),R=-1):Q=!0,lt(le,ge-Re))):(K.sortIndex=Be,e(g,K),q||N||(q=!0,oe||(oe=!0,L()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var ie=A;return function(){var ge=A;A=ie;try{return K.apply(this,arguments)}finally{A=ge}}}})(vm)),vm}var G_;function DA(){return G_||(G_=1,ym.exports=xA()),ym.exports}var _m={exports:{}},gn={};var Q_;function NA(){if(Q_)return gn;Q_=1;var r=pg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},gn.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},gn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},gn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},gn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:N}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:A,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},gn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gn.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},gn.requestFormReset=function(g){s.d.r(g)},gn.unstable_batchedUpdates=function(g,p){return g(p)},gn.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var Y_;function zE(){if(Y_)return _m.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=NA(),_m.exports}var K_;function OA(){if(K_)return Hl;K_=1;var r=DA(),e=pg(),n=zE();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case ee:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case ne:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:je(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return je(t(i))}catch{}}return null}var lt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Re=[],Be=-1;function V(t){return{current:t}}function X(t){0>Be||(t.current=Re[Be],Re[Be]=null,Be--)}function se(t,i){Be++,Re[Be]=t.current,t.current=i}var ue=V(null),_e=V(null),ve=V(null),De=V(null);function et(t,i){switch(se(ve,i),se(_e,t),se(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?u_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=u_(i),t=c_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ue),se(ue,t)}function Fe(){X(ue),X(_e),X(ve)}function Ve(t){t.memoizedState!==null&&se(De,t);var i=ue.current,a=c_(i,t.type);i!==a&&(se(_e,t),se(ue,a))}function ti(t){_e.current===t&&(X(ue),X(_e)),De.current===t&&(X(De),Pl._currentValue=ge)}var en,zn;function It(t){if(en===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);en=i&&i[1]||"",zn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+t+zn}var ni=!1;function Cn(t,i){if(!t||ni)return"";ni=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var H=Y}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Y){H=Y}t.call(Z.prototype)}}else{try{throw Error()}catch(Y){H=Y}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var O=v.split(`
`),j=T.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===j.length)for(l=O.length-1,h=j.length-1;1<=l&&0<=h&&O[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==j[h]){var $=`
`+O[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{ni=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?It(a):""}function Ur(t,i){switch(t.tag){case 26:case 27:case 5:return It(t.type);case 16:return It("Lazy");case 13:return t.child!==i&&i!==null?It("Suspense Fallback"):It("Suspense");case 19:return It("SuspenseList");case 0:case 15:return Cn(t.type,!1);case 11:return Cn(t.type.render,!1);case 1:return Cn(t.type,!0);case 31:return It("Activity");default:return""}}function Pr(t){try{var i="",a=null;do i+=Ur(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,tt=r.unstable_scheduleCallback,jn=r.unstable_cancelCallback,zr=r.unstable_shouldYield,js=r.unstable_requestPaint,Qt=r.unstable_now,sr=r.unstable_getCurrentPriorityLevel,Bs=r.unstable_ImmediatePriority,ii=r.unstable_UserBlockingPriority,En=r.unstable_NormalPriority,ar=r.unstable_LowPriority,qs=r.unstable_IdlePriority,Bn=r.log,Hs=r.unstable_setDisableYieldValue,qn=null,qt=null;function hn(t){if(typeof Bn=="function"&&Hs(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(qn,t)}catch{}}var dt=Math.clz32?Math.clz32:Da,xa=Math.log,or=Math.LN2;function Da(t){return t>>>=0,t===0?32:31-(xa(t)/or|0)|0}var ri=256,lr=262144,Ne=4194304;function mt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gt(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=mt(l):(v&=T,v!==0?h=mt(v):a||(a=T&~t,a!==0&&(h=mt(a))))):(T=l&~d,T!==0?h=mt(T):v!==0?h=mt(v):a||(a=l&~t,a!==0&&(h=mt(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function xt(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yt(){var t=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),t}function Tt(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function In(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function St(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-dt(a),Z=1<<$;T[$]=0,O[$]=-1;var H=j[$];if(H!==null)for(j[$]=null,$=0;$<H.length;$++){var Y=H[$];Y!==null&&(Y.lane&=-536870913)}a&=~Z}l!==0&&dn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function dn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function mn(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function bn(t,i){var a=i&-i;return a=(a&42)!==0?1:Hn(a),(a&(t.suspendedLanes|i))!==0?0:a}function Hn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Tn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fn(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:M_(t.type))}function tn(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var Sn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Sn,Kt="__reactProps$"+Sn,Vi="__reactContainer$"+Sn,Na="__reactEvents$"+Sn,Ef="__reactListeners$"+Sn,Ou="__reactHandles$"+Sn,Mu="__reactResources$"+Sn,ki="__reactMarker$"+Sn;function Oa(t){delete t[Dt],delete t[Kt],delete t[Na],delete t[Ef],delete t[Ou]}function Li(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Vi]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=y_(t);t!==null;){if(a=t[Dt])return a;t=y_(t)}return i}t=a,a=t.parentNode}return null}function si(t){if(t=t[Dt]||t[Vi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ui(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Nt(t){t[ki]=!0}var Go=new Set,Qo={};function Pi(t,i){zi(t,i),zi(t+"Capture",i)}function zi(t,i){for(Qo[t]=i,t=0;t<i.length;t++)Go.add(i[t])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Xo={};function Vu(t){return ft.call(Xo,t)?!0:ft.call(Ko,t)?!1:Yo.test(t)?Xo[t]=!0:(Ko[t]=!0,!1)}function Ma(t,i,a){if(Vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Qn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ot(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $o(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Je(t){if(!t._valueTracker){var i=jr(t)?"checked":"value";t._valueTracker=$o(t,i,""+t[i])}}function Fs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=jr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gs=/[\n"\\]/g;function xn(t){return t.replace(Gs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Va(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Xt(i)):t.value!==""+Xt(i)&&(t.value=""+Xt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Jo(t,v,Xt(i)):a!=null?Jo(t,v,Xt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Xt(T):t.removeAttribute("name")}function ku(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Je(t);return}a=a!=null?""+Xt(a):"",i=i!=null?""+Xt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Je(t)}function Jo(t,i,a){i==="number"&&ji(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Br(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Lu(t,i,a){if(i!=null&&(i=""+Xt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Xt(a):""}function qr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Xt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Je(t)}function Dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Uu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Wo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Zo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Zo(t,d,i[d])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(t){return Hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _i(){}var el=null;function ai(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,Bi=null;function Qs(t){var i=si(t);if(i&&(t=i.stateNode)){var a=t[Kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Kt]||null;if(!h)throw Error(s(90));Va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Fs(l)}break e;case"textarea":Lu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Br(t,!!a.multiple,i,!1)}}}var Ua=!1;function Gr(t,i,a){if(Ua)return t(i,a);Ua=!0;try{var l=t(i);return l}finally{if(Ua=!1,(Fr!==null||Bi!==null)&&(Nc(),Fr&&(i=Fr,t=Bi,Bi=Fr=null,Qs(i),t)))for(i=0;i<t.length;i++)Qs(t[i])}}function Ei(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(oi)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Ys=!1}var qi=null,tl=null,Ks=null;function nl(){if(Ks)return Ks;var t,i=tl,a=i.length,l,h="value"in qi?qi.value:qi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ks=h.slice(t,1<l?1-l:void 0)}function Xs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ur(){return!0}function bi(){return!1}function nn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:bi,this.isPropagationStopped=bi,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),i}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=nn(cr),Qr=b({},cr,{view:0,detail:0}),il=nn(Qr),Yr,Pa,Fi,za=b({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fi&&(Fi&&t.type==="mousemove"?(Yr=t.screenX-Fi.screenX,Pa=t.screenY-Fi.screenY):Pa=Yr=0,Fi=t),Yr)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),rl=nn(za),$s=b({},za,{dataTransfer:0}),zu=nn($s),ju=b({},Qr,{relatedTarget:0}),Js=nn(ju),sl=b({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=nn(sl),ja=b({},cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qu=nn(ja),Hu=b({},cr,{data:0}),Gi=nn(Hu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Qu[t])?!!i[t]:!1}function Kr(){return Yu}var An=b({},Qr,{key:function(t){if(t.key){var i=Fu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ku=nn(An),Xu=b({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=nn(Xu),c=b({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),y=nn(c),_=b({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=nn(_),P=b({},za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=nn(P),ae=b({},cr,{newState:0,oldState:0}),Ce=nn(ae),At=[9,13,27,32],Ke=oi&&"CompositionEvent"in window,pt=null;oi&&"documentMode"in document&&(pt=document.documentMode);var li=oi&&"TextEvent"in window&&!pt,Qi=oi&&(!Ke||pt&&8<pt&&11>=pt),Ti=" ",Si=!1;function Zs(t,i){switch(t){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function X1(t,i){switch(t){case"compositionend":return Ba(i);case"keypress":return i.which!==32?null:(Si=!0,Ti);case"textInput":return t=i.data,t===Ti&&Si?null:t;default:return null}}function $1(t,i){if(qa)return t==="compositionend"||!Ke&&Zs(t,i)?(t=nl(),Ks=tl=qi=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Qi&&i.locale!=="ko"?null:i.data;default:return null}}var J1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!J1[t.type]:i==="textarea"}function bp(t,i,a,l){Fr?Bi?Bi.push(l):Bi=[l]:Fr=l,i=Pc(i,"onChange"),0<i.length&&(a=new Hi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var al=null,ol=null;function Z1(t){i_(t,0)}function $u(t){var i=Gn(t);if(Fs(i))return t}function Tp(t,i){if(t==="change")return i}var Sp=!1;if(oi){var bf;if(oi){var Tf="oninput"in document;if(!Tf){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Tf=typeof Ap.oninput=="function"}bf=Tf}else bf=!1;Sp=bf&&(!document.documentMode||9<document.documentMode)}function wp(){al&&(al.detachEvent("onpropertychange",Rp),ol=al=null)}function Rp(t){if(t.propertyName==="value"&&$u(ol)){var i=[];bp(i,ol,t,ai(t)),Gr(Z1,i)}}function W1(t,i,a){t==="focusin"?(wp(),al=i,ol=a,al.attachEvent("onpropertychange",Rp)):t==="focusout"&&wp()}function eS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(ol)}function tS(t,i){if(t==="click")return $u(i)}function nS(t,i){if(t==="input"||t==="change")return $u(i)}function iS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Yn=typeof Object.is=="function"?Object.is:iS;function ll(t,i){if(Yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ft.call(i,h)||!Yn(t[h],i[h]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,i){var a=Cp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cp(a)}}function xp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?xp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Dp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ji(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ji(t.document)}return i}function Sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var rS=oi&&"documentMode"in document&&11>=document.documentMode,Ha=null,Af=null,ul=null,wf=!1;function Np(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Ha==null||Ha!==ji(l)||(l=Ha,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Pc(Af,"onSelect"),0<l.length&&(i=new Hi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ha)))}function Ws(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Fa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Rf={},Op={};oi&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function ea(t){if(Rf[t])return Rf[t];if(!Fa[t])return t;var i=Fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Op)return Rf[t]=i[a];return t}var Mp=ea("animationend"),Vp=ea("animationiteration"),kp=ea("animationstart"),sS=ea("transitionrun"),aS=ea("transitionstart"),oS=ea("transitioncancel"),Lp=ea("transitionend"),Up=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function Ai(t,i){Up.set(t,i),Pi(i,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ui=[],Ga=0,If=0;function Zu(){for(var t=Ga,i=If=Ga=0;i<t;){var a=ui[i];ui[i++]=null;var l=ui[i];ui[i++]=null;var h=ui[i];ui[i++]=null;var d=ui[i];if(ui[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Pp(a,h,d)}}function Wu(t,i,a,l){ui[Ga++]=t,ui[Ga++]=i,ui[Ga++]=a,ui[Ga++]=l,If|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,i,a,l){return Wu(t,i,a,l),ec(t)}function ta(t,i){return Wu(t,null,null,i),ec(t)}function Pp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ec(t){if(50<Nl)throw Nl=0,Pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qa={};function lS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,i,a,l){return new lS(t,i,a,l)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fr(t,i){var a=t.alternate;return a===null?(a=Kn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Df(t)&&(v=1);else if(typeof t=="string")v=dA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Kn(31,a,i,h),t.elementType=C,t.lanes=d,t;case Q:return na(a.children,h,d,i);case F:v=8,h|=24;break;case ee:return t=Kn(12,a,i,h|2),t.elementType=ee,t.lanes=d,t;case le:return t=Kn(13,a,i,h),t.elementType=le,t.lanes=d,t;case oe:return t=Kn(19,a,i,h),t.elementType=oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:v=10;break e;case re:v=9;break e;case fe:v=11;break e;case R:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Kn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function na(t,i,a,l){return t=Kn(7,t,l,i),t.lanes=a,t}function Nf(t,i,a){return t=Kn(6,t,null,i),t.lanes=a,t}function jp(t){var i=Kn(18,null,null,0);return i.stateNode=t,i}function Of(t,i,a){return i=Kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Bp=new WeakMap;function ci(t,i){if(typeof t=="object"&&t!==null){var a=Bp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Pr(i)},Bp.set(t,i),i)}return{value:t,source:i,stack:Pr(i)}}var Ya=[],Ka=0,nc=null,cl=0,hi=[],fi=0,Xr=null,Yi=1,Ki="";function dr(t,i){Ya[Ka++]=cl,Ya[Ka++]=nc,nc=t,cl=i}function qp(t,i,a){hi[fi++]=Yi,hi[fi++]=Ki,hi[fi++]=Xr,Xr=t;var l=Yi;t=Ki;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Yi=1<<32-dt(i)+h|a<<h|l,Ki=d+t}else Yi=1<<d|a<<h|l,Ki=t}function Mf(t){t.return!==null&&(dr(t,1),qp(t,1,0))}function Vf(t){for(;t===nc;)nc=Ya[--Ka],Ya[Ka]=null,cl=Ya[--Ka],Ya[Ka]=null;for(;t===Xr;)Xr=hi[--fi],hi[fi]=null,Ki=hi[--fi],hi[fi]=null,Yi=hi[--fi],hi[fi]=null}function Hp(t,i){hi[fi++]=Yi,hi[fi++]=Ki,hi[fi++]=Xr,Yi=i.id,Ki=i.overflow,Xr=t}var rn=null,ut=null,qe=!1,$r=null,di=!1,kf=Error(s(519));function Jr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(ci(i,t)),kf}function Fp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Dt]=t,i[Kt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Me(Ml[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),ku(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),qr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||o_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=_i),i=!0):i=!1,i||Jr(t,!0)}function Gp(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:rn=rn.return}}function Xa(t){if(t!==rn)return!1;if(!qe)return Gp(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&ut&&Jr(t),Gp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=p_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=p_(t)}else i===27?(i=ut,hs(t.type)?(t=rm,rm=null,ut=t):ut=i):ut=rn?gi(t.stateNode.nextSibling):null;return!0}function ia(){ut=rn=null,qe=!1}function Lf(){var t=$r;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),$r=null),t}function hl(t){$r===null?$r=[t]:$r.push(t)}var Uf=V(null),ra=null,mr=null;function Zr(t,i,a){se(Uf,i._currentValue),i._currentValue=a}function gr(t){t._currentValue=Uf.current,X(Uf)}function Pf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function zf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var O=0;O<i.length;O++)if(T.context===i[O]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Pf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Pf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $a(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;Yn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&zf(i,t,a,l),i.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!Yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ra=t,mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Qp(ra,t)}function rc(t,i){return ra===null&&sa(t),Qp(t,i)}function Qp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},mr===null){if(t===null)throw Error(s(308));mr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else mr=mr.next=i;return a}var uS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},cS=r.unstable_scheduleCallback,hS=r.unstable_NormalPriority,Mt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new uS,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&cS(hS,function(){t.controller.abort()})}var dl=null,Bf=0,Ja=0,Za=null;function fS(t,i){if(dl===null){var a=dl=[];Bf=0,Ja=Fd(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bf++,i.then(Yp,Yp),i}function Yp(){if(--Bf===0&&dl!==null){Za!==null&&(Za.status="fulfilled");var t=dl;dl=null,Ja=0,Za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function dS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kp=K.S;K.S=function(t,i){Nv=Qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&fS(t,i),Kp!==null&&Kp(t,i)};var aa=V(null);function qf(){var t=aa.current;return t!==null?t:at.pooledCache}function sc(t,i){i===null?se(aa,aa.current):se(aa,i.pool)}function Xp(){var t=qf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Wa=Error(s(460)),Hf=Error(s(474)),ac=Error(s(542)),oc={then:function(){}};function $p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(_i,_i),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wp(t),t;default:if(typeof i.status=="string")i.then(_i,_i);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wp(t),t}throw la=i,Wa}}function oa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(la=a,Wa):a}}var la=null;function Zp(){if(la===null)throw Error(s(459));var t=la;return la=null,t}function Wp(t){if(t===Wa||t===ac)throw Error(s(483))}var eo=null,ml=0;function lc(t){var i=ml;return ml+=1,eo===null&&(eo=[]),Jp(eo,t,i)}function gl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ey(t){function i(U,k){if(t){var z=U.deletions;z===null?(U.deletions=[k],U.flags|=16):z.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=fr(U,k),U.index=0,U.sibling=null,U}function d(U,k,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<k?(U.flags|=67108866,k):z):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,k,z,J){return k===null||k.tag!==6?(k=Nf(z,U.mode,J),k.return=U,k):(k=h(k,z),k.return=U,k)}function O(U,k,z,J){var pe=z.type;return pe===Q?$(U,k,z.props.children,J,z.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&oa(pe)===k.type)?(k=h(k,z.props),gl(k,z),k.return=U,k):(k=tc(z.type,z.key,z.props,null,U.mode,J),gl(k,z),k.return=U,k)}function j(U,k,z,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Of(z,U.mode,J),k.return=U,k):(k=h(k,z.children||[]),k.return=U,k)}function $(U,k,z,J,pe){return k===null||k.tag!==7?(k=na(z,U.mode,J,pe),k.return=U,k):(k=h(k,z),k.return=U,k)}function Z(U,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Nf(""+k,U.mode,z),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N:return z=tc(k.type,k.key,k.props,null,U.mode,z),gl(z,k),z.return=U,z;case q:return k=Of(k,U.mode,z),k.return=U,k;case w:return k=oa(k),Z(U,k,z)}if(lt(k)||L(k))return k=na(k,U.mode,z,null),k.return=U,k;if(typeof k.then=="function")return Z(U,lc(k),z);if(k.$$typeof===ne)return Z(U,rc(U,k),z);uc(U,k)}return null}function H(U,k,z,J){var pe=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:T(U,k,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return z.key===pe?O(U,k,z,J):null;case q:return z.key===pe?j(U,k,z,J):null;case w:return z=oa(z),H(U,k,z,J)}if(lt(z)||L(z))return pe!==null?null:$(U,k,z,J,null);if(typeof z.then=="function")return H(U,k,lc(z),J);if(z.$$typeof===ne)return H(U,k,rc(U,z),J);uc(U,z)}return null}function Y(U,k,z,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(z)||null,T(k,U,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return U=U.get(J.key===null?z:J.key)||null,O(k,U,J,pe);case q:return U=U.get(J.key===null?z:J.key)||null,j(k,U,J,pe);case w:return J=oa(J),Y(U,k,z,J,pe)}if(lt(J)||L(J))return U=U.get(z)||null,$(k,U,J,pe,null);if(typeof J.then=="function")return Y(U,k,z,lc(J),pe);if(J.$$typeof===ne)return Y(U,k,z,rc(k,J),pe);uc(k,J)}return null}function de(U,k,z,J){for(var pe=null,Qe=null,me=k,xe=k=0,Le=null;me!==null&&xe<z.length;xe++){me.index>xe?(Le=me,me=null):Le=me.sibling;var Ye=H(U,me,z[xe],J);if(Ye===null){me===null&&(me=Le);break}t&&me&&Ye.alternate===null&&i(U,me),k=d(Ye,k,xe),Qe===null?pe=Ye:Qe.sibling=Ye,Qe=Ye,me=Le}if(xe===z.length)return a(U,me),qe&&dr(U,xe),pe;if(me===null){for(;xe<z.length;xe++)me=Z(U,z[xe],J),me!==null&&(k=d(me,k,xe),Qe===null?pe=me:Qe.sibling=me,Qe=me);return qe&&dr(U,xe),pe}for(me=l(me);xe<z.length;xe++)Le=Y(me,U,xe,z[xe],J),Le!==null&&(t&&Le.alternate!==null&&me.delete(Le.key===null?xe:Le.key),k=d(Le,k,xe),Qe===null?pe=Le:Qe.sibling=Le,Qe=Le);return t&&me.forEach(function(ps){return i(U,ps)}),qe&&dr(U,xe),pe}function Ee(U,k,z,J){if(z==null)throw Error(s(151));for(var pe=null,Qe=null,me=k,xe=k=0,Le=null,Ye=z.next();me!==null&&!Ye.done;xe++,Ye=z.next()){me.index>xe?(Le=me,me=null):Le=me.sibling;var ps=H(U,me,Ye.value,J);if(ps===null){me===null&&(me=Le);break}t&&me&&ps.alternate===null&&i(U,me),k=d(ps,k,xe),Qe===null?pe=ps:Qe.sibling=ps,Qe=ps,me=Le}if(Ye.done)return a(U,me),qe&&dr(U,xe),pe;if(me===null){for(;!Ye.done;xe++,Ye=z.next())Ye=Z(U,Ye.value,J),Ye!==null&&(k=d(Ye,k,xe),Qe===null?pe=Ye:Qe.sibling=Ye,Qe=Ye);return qe&&dr(U,xe),pe}for(me=l(me);!Ye.done;xe++,Ye=z.next())Ye=Y(me,U,xe,Ye.value,J),Ye!==null&&(t&&Ye.alternate!==null&&me.delete(Ye.key===null?xe:Ye.key),k=d(Ye,k,xe),Qe===null?pe=Ye:Qe.sibling=Ye,Qe=Ye);return t&&me.forEach(function(AA){return i(U,AA)}),qe&&dr(U,xe),pe}function st(U,k,z,J){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case N:e:{for(var pe=z.key;k!==null;){if(k.key===pe){if(pe=z.type,pe===Q){if(k.tag===7){a(U,k.sibling),J=h(k,z.props.children),J.return=U,U=J;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&oa(pe)===k.type){a(U,k.sibling),J=h(k,z.props),gl(J,z),J.return=U,U=J;break e}a(U,k);break}else i(U,k);k=k.sibling}z.type===Q?(J=na(z.props.children,U.mode,J,z.key),J.return=U,U=J):(J=tc(z.type,z.key,z.props,null,U.mode,J),gl(J,z),J.return=U,U=J)}return v(U);case q:e:{for(pe=z.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(U,k.sibling),J=h(k,z.children||[]),J.return=U,U=J;break e}else{a(U,k);break}else i(U,k);k=k.sibling}J=Of(z,U.mode,J),J.return=U,U=J}return v(U);case w:return z=oa(z),st(U,k,z,J)}if(lt(z))return de(U,k,z,J);if(L(z)){if(pe=L(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),Ee(U,k,z,J)}if(typeof z.then=="function")return st(U,k,lc(z),J);if(z.$$typeof===ne)return st(U,k,rc(U,z),J);uc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(U,k.sibling),J=h(k,z),J.return=U,U=J):(a(U,k),J=Nf(z,U.mode,J),J.return=U,U=J),v(U)):a(U,k)}return function(U,k,z,J){try{ml=0;var pe=st(U,k,z,J);return eo=null,pe}catch(me){if(me===Wa||me===ac)throw me;var Qe=Kn(29,me,null,U.mode);return Qe.lanes=J,Qe.return=U,Qe}finally{}}}var ua=ey(!0),ty=ey(!1),Wr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(t),Pp(t,null,a),i}return Wu(t,l,i,a),ec(t)}function pl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mn(t,a)}}function Qf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Yf=!1;function yl(){if(Yf){var t=Za;if(t!==null)throw t}}function vl(t,i,a,l){Yf=!1;var h=t.updateQueue;Wr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var O=T,j=O.next;O.next=null,v===null?d=j:v.next=j,v=O;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=j:T.next=j,$.lastBaseUpdate=O))}if(d!==null){var Z=h.baseState;v=0,$=j=O=null,T=d;do{var H=T.lane&-536870913,Y=H!==T.lane;if(Y?(ke&H)===H:(l&H)===H){H!==0&&H===Ja&&(Yf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,Ee=T;H=i;var st=a;switch(Ee.tag){case 1:if(de=Ee.payload,typeof de=="function"){Z=de.call(st,Z,H);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ee.payload,H=typeof de=="function"?de.call(st,Z,H):de,H==null)break e;Z=b({},Z,H);break e;case 2:Wr=!0}}H=T.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(j=$=Y,O=Z):$=$.next=Y,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(O=Z),h.baseState=O,h.firstBaseUpdate=j,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),as|=v,t.lanes=v,t.memoizedState=Z}}function ny(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function iy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ny(a[t],i)}var to=V(null),cc=V(0);function ry(t,i){t=Ar,se(cc,t),se(to,i),Ar=t|i.baseLanes}function Kf(){se(cc,Ar),se(to,to.current)}function Xf(){Ar=cc.current,X(to),X(cc)}var Xn=V(null),mi=null;function ns(t){var i=t.alternate;se(wt,wt.current&1),se(Xn,t),mi===null&&(i===null||to.current!==null||i.memoizedState!==null)&&(mi=t)}function $f(t){se(wt,wt.current),se(Xn,t),mi===null&&(mi=t)}function sy(t){t.tag===22?(se(wt,wt.current),se(Xn,t),mi===null&&(mi=t)):is()}function is(){se(wt,wt.current),se(Xn,Xn.current)}function $n(t){X(Xn),mi===t&&(mi=null),X(wt)}var wt=V(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nm(a)||im(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pr=0,Ie=null,it=null,Vt=null,fc=!1,no=!1,ca=!1,dc=0,_l=0,io=null,mS=0;function Et(){throw Error(s(321))}function Jf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Yn(t[a],i[a]))return!1;return!0}function Zf(t,i,a,l,h,d){return pr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?qy:dd,ca=!1,d=a(l,h),ca=!1,no&&(d=oy(i,a,l,h)),ay(t),d}function ay(t){K.H=Tl;var i=it!==null&&it.next!==null;if(pr=0,Vt=it=Ie=null,fc=!1,_l=0,io=null,i)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&ic(t)&&(kt=!0))}function oy(t,i,a,l){Ie=t;var h=0;do{if(no&&(io=null),_l=0,no=!1,25<=h)throw Error(s(301));if(h+=1,Vt=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Hy,d=i(a,l)}while(no);return d}function gS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Wf(){var t=dc!==0;return dc=0,t}function ed(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function td(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}pr=0,Vt=it=Ie=null,no=!1,_l=dc=0,io=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ie.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Rt(){if(it===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=Vt===null?Ie.memoizedState:Vt.next;if(i!==null)Vt=i,it=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Vt===null?Ie.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=_l;return _l+=1,io===null&&(io=[]),t=Jp(io,t,i),i=Ie,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?qy:dd),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===ne)return sn(t)}throw Error(s(438,String(t)))}function nd(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function yr(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=Rt();return id(i,it,t)}function id(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,O=null,j=i,$=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(ke&Z)===Z:(pr&Z)===Z){var H=j.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Ja&&($=!0);else if((pr&H)===H){j=j.next,H===Ja&&($=!0);continue}else Z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(T=O=Z,v=d):O=O.next=Z,Ie.lanes|=H,as|=H;Z=j.action,ca&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else H={lane:Z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(T=O=H,v=d):O=O.next=H,Ie.lanes|=Z,as|=Z;j=j.next}while(j!==null&&j!==i);if(O===null?v=d:O.next=T,!Yn(d,t.memoizedState)&&(kt=!0,$&&(a=Za,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rd(t){var i=Rt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Yn(d,i.memoizedState)||(kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ly(t,i,a){var l=Ie,h=Rt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Yn((it||h).memoizedState,a);if(v&&(h.memoizedState=a,kt=!0),h=h.queue,od(hy.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,ro(9,{destroy:void 0},cy.bind(null,l,h,a,i),null),at===null)throw Error(s(349));d||(pr&127)!==0||uy(l,i,a)}return a}function uy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=mc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function cy(t,i,a,l){i.value=a,i.getSnapshot=l,fy(i)&&dy(t)}function hy(t,i,a){return a(function(){fy(i)&&dy(t)})}function fy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Yn(t,a)}catch{return!0}}function dy(t){var i=ta(t,2);i!==null&&kn(i,t,2)}function sd(t){var i=wn();if(typeof t=="function"){var a=t;if(t=a(),ca){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:t},i}function my(t,i,a,l){return t.baseState=a,id(t,it,typeof l=="function"?l:yr)}function pS(t,i,a,l,h){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,gy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function gy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),O=K.S;O!==null&&O(v,T),py(t,i,T)}catch(j){ad(t,i,j)}finally{d!==null&&v.types!==null&&(d.types=v.types),K.T=d}}else try{d=a(h,l),py(t,i,d)}catch(j){ad(t,i,j)}}function py(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yy(t,i,l)},function(l){return ad(t,i,l)}):yy(t,i,a)}function yy(t,i,a){i.status="fulfilled",i.value=a,vy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gy(t,a)))}function ad(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,vy(i),i=i.next;while(i!==l)}t.action=null}function vy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function _y(t,i){return i}function Ey(t,i){if(qe){var a=at.formState;if(a!==null){e:{var l=Ie;if(qe){if(ut){t:{for(var h=ut,d=di;h.nodeType!==8;){if(!d){h=null;break t}if(h=gi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=gi(h.nextSibling),l=h.data==="F!";break e}}Jr(l)}l=!1}l&&(i=a[0])}}return a=wn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:i},a.queue=l,a=zy.bind(null,Ie,l),l.dispatch=a,l=sd(!1),d=fd.bind(null,Ie,!1,l.queue),l=wn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=pS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function by(t){var i=Rt();return Ty(i,it,t)}function Ty(t,i,a){if(i=id(t,i,_y)[0],t=pc(yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(v){throw v===Wa?ac:v}else l=i;i=Rt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,ro(9,{destroy:void 0},yS.bind(null,h,a),null)),[l,d,t]}function yS(t,i){t.action=i}function Sy(t){var i=Rt(),a=it;if(a!==null)return Ty(i,a,t);Rt(),i=i.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ro(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=mc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ay(){return Rt().memoizedState}function yc(t,i,a,l){var h=wn();Ie.flags|=t,h.memoizedState=ro(1|i,{destroy:void 0},a,l===void 0?null:l)}function vc(t,i,a,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;it!==null&&l!==null&&Jf(l,it.memoizedState.deps)?h.memoizedState=ro(i,d,a,l):(Ie.flags|=t,h.memoizedState=ro(1|i,d,a,l))}function wy(t,i){yc(8390656,8,t,i)}function od(t,i){vc(2048,8,t,i)}function vS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=mc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ry(t){var i=Rt().memoizedState;return vS({ref:i,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Cy(t,i){return vc(4,2,t,i)}function Iy(t,i){return vc(4,4,t,i)}function xy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Dy(t,i,a){a=a!=null?a.concat([t]):null,vc(4,4,xy.bind(null,i,t),a)}function ld(){}function Ny(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Jf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Oy(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Jf(i,l[1]))return l[0];if(l=t(),ca){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l}function ud(t,i,a){return a===void 0||(pr&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Mv(),Ie.lanes|=t,as|=t,a)}function My(t,i,a,l){return Yn(a,i)?a:to.current!==null?(t=ud(t,a,l),Yn(t,i)||(kt=!0),t):(pr&42)===0||(pr&1073741824)!==0&&(ke&261930)===0?(kt=!0,t.memoizedState=a):(t=Mv(),Ie.lanes|=t,as|=t,i)}function Vy(t,i,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,fd(t,!1,i,a);try{var O=h(),j=K.S;if(j!==null&&j(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=dS(O,l);bl(t,i,$,Wn(t))}else bl(t,i,l,Wn(t))}catch(Z){bl(t,i,{then:function(){},status:"rejected",reason:Z},Wn())}finally{ie.p=d,v!==null&&T.types!==null&&(v.types=T.types),K.T=v}}function _S(){}function cd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ky(t).queue;Vy(t,h,i,ge,a===null?_S:function(){return Ly(t),a(l)})}function ky(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ly(t){var i=ky(t);i.next===null&&(i=t.alternate.memoizedState),bl(t,i.next.queue,{},Wn())}function hd(){return sn(Pl)}function Uy(){return Rt().memoizedState}function Py(){return Rt().memoizedState}function ES(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Wn();t=es(a);var l=ts(i,t,a);l!==null&&(kn(l,i,a),pl(l,i,a)),i={cache:jf()},t.payload=i;return}i=i.return}}function bS(t,i,a){var l=Wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?jy(i,a):(a=xf(t,i,a,l),a!==null&&(kn(a,t,l),By(a,i,l)))}function zy(t,i,a){var l=Wn();bl(t,i,a,l)}function bl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))jy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,Yn(T,v))return Wu(t,i,h,0),at===null&&Zu(),!1}catch{}finally{}if(a=xf(t,i,h,l),a!==null)return kn(a,t,l),By(a,i,l),!0}return!1}function fd(t,i,a,l){if(l={lane:2,revertLane:Fd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=xf(t,a,l,2),i!==null&&kn(i,t,2)}function _c(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function jy(t,i){no=fc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function By(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mn(t,a)}}var Tl={readContext:sn,use:gc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Tl.useEffectEvent=Et;var qy={readContext:sn,use:gc,useCallback:function(t,i){return wn().memoizedState=[t,i===void 0?null:i],t},useContext:sn,useEffect:wy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,xy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=wn();i=i===void 0?null:i;var l=t();if(ca){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=wn();if(a!==void 0){var h=a(i);if(ca){hn(!0);try{a(i)}finally{hn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=bS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=wn();return t={current:t},i.memoizedState=t},useState:function(t){t=sd(t);var i=t.queue,a=zy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ld,useDeferredValue:function(t,i){var a=wn();return ud(a,t,i)},useTransition:function(){var t=sd(!1);return t=Vy.bind(null,Ie,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=wn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),at===null)throw Error(s(349));(ke&127)!==0||uy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,wy(hy.bind(null,l,d,t),[t]),l.flags|=2048,ro(9,{destroy:void 0},cy.bind(null,l,d,a,i),null),a},useId:function(){var t=wn(),i=at.identifierPrefix;if(qe){var a=Ki,l=Yi;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=mS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:hd,useFormState:Ey,useActionState:Ey,useOptimistic:function(t){var i=wn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=fd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:nd,useCacheRefresh:function(){return wn().memoizedState=ES.bind(null,Ie)},useEffectEvent:function(t){var i=wn(),a={impl:t};return i.memoizedState=a,function(){if((Xe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},dd={readContext:sn,use:gc,useCallback:Ny,useContext:sn,useEffect:od,useImperativeHandle:Dy,useInsertionEffect:Cy,useLayoutEffect:Iy,useMemo:Oy,useReducer:pc,useRef:Ay,useState:function(){return pc(yr)},useDebugValue:ld,useDeferredValue:function(t,i){var a=Rt();return My(a,it.memoizedState,t,i)},useTransition:function(){var t=pc(yr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:ly,useId:Uy,useHostTransitionStatus:hd,useFormState:by,useActionState:by,useOptimistic:function(t,i){var a=Rt();return my(a,it,t,i)},useMemoCache:nd,useCacheRefresh:Py};dd.useEffectEvent=Ry;var Hy={readContext:sn,use:gc,useCallback:Ny,useContext:sn,useEffect:od,useImperativeHandle:Dy,useInsertionEffect:Cy,useLayoutEffect:Iy,useMemo:Oy,useReducer:rd,useRef:Ay,useState:function(){return rd(yr)},useDebugValue:ld,useDeferredValue:function(t,i){var a=Rt();return it===null?ud(a,t,i):My(a,it.memoizedState,t,i)},useTransition:function(){var t=rd(yr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:ly,useId:Uy,useHostTransitionStatus:hd,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,i){var a=Rt();return it!==null?my(a,it,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nd,useCacheRefresh:Py};Hy.useEffectEvent=Ry;function md(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Wn(),h=es(l);h.payload=i,a!=null&&(h.callback=a),i=ts(t,h,l),i!==null&&(kn(i,t,l),pl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Wn(),h=es(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ts(t,h,l),i!==null&&(kn(i,t,l),pl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Wn(),l=es(a);l.tag=2,i!=null&&(l.callback=i),i=ts(t,l,a),i!==null&&(kn(i,t,a),pl(i,t,a))}};function Fy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(h,d):!0}function Gy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&gd.enqueueReplaceState(i,i.state,null)}function ha(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Qy(t){Ju(t)}function Yy(t){console.error(t)}function Ky(t){Ju(t)}function Ec(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pd(t,i,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,i)},a}function $y(t){return t=es(t),t.tag=3,t}function Jy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Xy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Xy(i,a,l),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function TS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&$a(i,a,h,!0),a=Xn.current,a!==null){switch(a.tag){case 31:case 13:return mi===null?Oc():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Bd(t,l,h)),!1;case 22:return a.flags|=65536,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Bd(t,l,h)),!1}throw Error(s(435,a.tag))}return Bd(t,l,h),Oc(),!1}if(qe)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==kf&&(t=Error(s(422),{cause:l}),hl(ci(t,a)))):(l!==kf&&(i=Error(s(423),{cause:l}),hl(ci(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ci(l,a),h=pd(t.stateNode,l,h),Qf(t,h),bt!==4&&(bt=2)),!1;var d=Error(s(520),{cause:l});if(d=ci(d,a),Dl===null?Dl=[d]:Dl.push(d),bt!==4&&(bt=2),i===null)return!0;l=ci(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=pd(a.stateNode,l,t),Qf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(os===null||!os.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$y(h),Jy(h,t,a,l),Qf(a,h),!1}a=a.return}while(a!==null);return!1}var yd=Error(s(461)),kt=!1;function an(t,i,a,l){i.child=t===null?ty(i,null,a,l):ua(i,t.child,a,l)}function Zy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return sa(i),l=Zf(t,i,a,v,d,h),T=Wf(),t!==null&&!kt?(ed(t,i,h),vr(t,i,h)):(qe&&T&&Mf(i),i.flags|=1,an(t,i,l,h),i.child)}function Wy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ev(t,i,d,l,h)):(t=tc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!wd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(v,l)&&t.ref===i.ref)return vr(t,i,h)}return i.flags|=1,t=fr(d,l),t.ref=i.ref,t.return=i,i.child=t}function ev(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(ll(d,l)&&t.ref===i.ref)if(kt=!1,i.pendingProps=l=d,wd(t,h))(t.flags&131072)!==0&&(kt=!0);else return i.lanes=t.lanes,vr(t,i,h)}return vd(t,i,a,l,h)}function tv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return nv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(i,d!==null?d.cachePool:null),d!==null?ry(i,d):Kf(),sy(i);else return l=i.lanes=536870912,nv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(sc(i,d.cachePool),ry(i,d),is(),i.memoizedState=null):(t!==null&&sc(i,null),Kf(),is());return an(t,i,h,a),i.child}function Sl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function nv(t,i,a,l,h){var d=qf();return d=d===null?null:{parent:Mt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&sc(i,null),Kf(),sy(i),t!==null&&$a(t,i,l,!0),i.childLanes=h,null}function bc(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function iv(t,i,a){return ua(i,t.child,null,a),t=bc(i,i.pendingProps),t.flags|=2,$n(i),i.memoizedState=null,t}function SS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=bc(i,l),i.lanes=536870912,Sl(null,t);if($f(i),(t=ut)?(t=g_(t,di),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=jp(t),a.return=i,i.child=a,rn=i,ut=null)):t=null,t===null)throw Jr(i);return i.lanes=536870912,null}return bc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if($f(i),h)if(i.flags&256)i.flags&=-257,i=iv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(kt||$a(t,i,a,!1),h=(a&t.childLanes)!==0,kt||h){if(l=at,l!==null&&(v=bn(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ta(t,v),kn(l,t,v),yd;Oc(),i=iv(t,i,a)}else t=d.treeContext,ut=gi(v.nextSibling),rn=i,qe=!0,$r=null,di=!1,t!==null&&Hp(i,t),i=bc(i,l),i.flags|=4096;return i}return t=fr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function vd(t,i,a,l,h){return sa(i),a=Zf(t,i,a,l,void 0,h),l=Wf(),t!==null&&!kt?(ed(t,i,h),vr(t,i,h)):(qe&&l&&Mf(i),i.flags|=1,an(t,i,a,h),i.child)}function rv(t,i,a,l,h,d){return sa(i),i.updateQueue=null,a=oy(i,l,a,h),ay(t),l=Wf(),t!==null&&!kt?(ed(t,i,d),vr(t,i,d)):(qe&&l&&Mf(i),i.flags|=1,an(t,i,a,d),i.child)}function sv(t,i,a,l,h){if(sa(i),i.stateNode===null){var d=Qa,v=a.contextType;typeof v=="object"&&v!==null&&(d=sn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ff(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?sn(v):Qa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(md(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&gd.enqueueReplaceState(d,d.state,null),vl(i,l,d,h),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,O=ha(a,T);d.props=O;var j=d.context,$=a.contextType;v=Qa,typeof $=="object"&&$!==null&&(v=sn($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&Gy(i,d,l,v),Wr=!1;var H=i.memoizedState;d.state=H,vl(i,l,d,h),yl(),j=i.memoizedState,T||H!==j||Wr?(typeof Z=="function"&&(md(i,a,Z,l),j=i.memoizedState),(O=Wr||Fy(i,a,O,l,H,j,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Gf(t,i),v=i.memoizedProps,$=ha(a,v),d.props=$,Z=i.pendingProps,H=d.context,j=a.contextType,O=Qa,typeof j=="object"&&j!==null&&(O=sn(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==O)&&Gy(i,d,l,O),Wr=!1,H=i.memoizedState,d.state=H,vl(i,l,d,h),yl();var Y=i.memoizedState;v!==Z||H!==Y||Wr||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof T=="function"&&(md(i,a,T,l),Y=i.memoizedState),($=Wr||Fy(i,a,$,l,H,Y,O)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ua(i,t.child,null,h),i.child=ua(i,null,a,h)):an(t,i,a,h),i.memoizedState=d.state,t=i.child):t=vr(t,i,h),t}function av(t,i,a,l){return ia(),i.flags|=256,an(t,i,a,l),i.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:Xp()}}function bd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Zn),t}function ov(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?ns(i):is(),(t=ut)?(t=g_(t,di),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=jp(t),a.return=i,i.child=a,rn=i,ut=null)):t=null,t===null)throw Jr(i);return im(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(is(),h=i.mode,T=Sc({mode:"hidden",children:T},h),l=na(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Ed(a),l.childLanes=bd(t,v,a),i.memoizedState=_d,Sl(null,l)):(ns(i),Td(i,T))}var O=t.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(d)i.flags&256?(ns(i),i.flags&=-257,i=Sd(t,i,a)):i.memoizedState!==null?(is(),i.child=t.child,i.flags|=128,i=null):(is(),T=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),T=na(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ua(i,t.child,null,a),l=i.child,l.memoizedState=Ed(a),l.childLanes=bd(t,v,a),i.memoizedState=_d,i=Sl(null,l));else if(ns(i),im(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,hl({value:l,source:null,stack:null}),i=Sd(t,i,a)}else if(kt||$a(t,i,a,!1),v=(a&t.childLanes)!==0,kt||v){if(v=at,v!==null&&(l=bn(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,ta(t,l),kn(v,t,l),yd;nm(T)||Oc(),i=Sd(t,i,a)}else nm(T)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,ut=gi(T.nextSibling),rn=i,qe=!0,$r=null,di=!1,t!==null&&Hp(i,t),i=Td(i,l.children),i.flags|=4096);return i}return h?(is(),T=l.fallback,h=i.mode,O=t.child,j=O.sibling,l=fr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,j!==null?T=fr(j,T):(T=na(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Sl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Ed(a):(h=T.cachePool,h!==null?(O=Mt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Xp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=bd(t,v,a),i.memoizedState=_d,Sl(t.child,l)):(ns(i),a=t.child,t=a.sibling,a=fr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Td(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=Kn(22,t,null,i),t.lanes=0,t}function Sd(t,i,a){return ua(i,t.child,null,a),t=Td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function lv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Pf(t.return,i,a)}function Ad(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function uv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=wt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,se(wt,v),an(t,i,l,a),l=qe?cl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lv(t,a,i);else if(t.tag===19)lv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ad(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ad(i,!0,a,null,d,l);break;case"together":Ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function vr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),as|=i.lanes,(a&i.childLanes)===0)if(t!==null){if($a(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=fr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=fr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function wd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function AS(t,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),Zr(i,Mt,t.memoizedState.cache),ia();break;case 27:case 5:Ve(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:Zr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$f(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ov(t,i,a):(ns(i),t=vr(t,i,a),t!==null?t.sibling:null);ns(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||($a(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return uv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(wt,wt.current),l)break;return null;case 22:return i.lanes=0,tv(t,i,a,i.pendingProps);case 24:Zr(i,Mt,t.memoizedState.cache)}return vr(t,i,a)}function cv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)kt=!0;else{if(!wd(t,a)&&(i.flags&128)===0)return kt=!1,AS(t,i,a);kt=(t.flags&131072)!==0}else kt=!1,qe&&(i.flags&1048576)!==0&&qp(i,cl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=oa(i.elementType),i.type=t,typeof t=="function")Df(t)?(l=ha(t,l),i.tag=1,i=sv(null,i,t,l,a)):(i.tag=0,i=vd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===fe){i.tag=11,i=Zy(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=Wy(null,i,t,l,a);break e}}throw i=je(t)||t,Error(s(306,i,""))}}return i;case 0:return vd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ha(l,i.pendingProps),sv(t,i,l,h,a);case 3:e:{if(et(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Gf(t,i),vl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Zr(i,Mt,l),l!==d.cache&&zf(i,[Mt],a,!0),yl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=av(t,i,l,a);break e}else if(l!==h){h=ci(Error(s(424)),i),hl(h),i=av(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=gi(t.firstChild),rn=i,qe=!0,$r=null,di=!0,a=ty(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ia(),l===h){i=vr(t,i,a);break e}an(t,i,l,a)}i=i.child}return i;case 26:return Tc(t,i),t===null?(a=b_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=zc(ve.current).createElement(a),l[Dt]=i,l[Kt]=t,on(l,a,t),Nt(l),i.stateNode=l):i.memoizedState=b_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ve(i),t===null&&qe&&(l=i.stateNode=v_(i.type,i.pendingProps,ve.current),rn=i,di=!0,h=ut,hs(i.type)?(rm=h,ut=gi(l.firstChild)):ut=h),an(t,i,i.pendingProps.children,a),Tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=eA(l,i.type,i.pendingProps,di),l!==null?(i.stateNode=l,rn=i,ut=gi(l.firstChild),di=!1,h=!0):h=!1),h||Jr(i)),Ve(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Wd(h,d)?l=null:v!==null&&Wd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Zf(t,i,gS,null,null,a),Pl._currentValue=h),Tc(t,i),an(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=tA(a,i.pendingProps,di),a!==null?(i.stateNode=a,rn=i,ut=null,t=!0):t=!1),t||Jr(i)),null;case 13:return ov(t,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ua(i,null,l,a):an(t,i,l,a),i.child;case 11:return Zy(t,i,i.type,i.pendingProps,a);case 7:return an(t,i,i.pendingProps,a),i.child;case 8:return an(t,i,i.pendingProps.children,a),i.child;case 12:return an(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Zr(i,i.type,l.value),an(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,sa(i),h=sn(h),l=l(h),i.flags|=1,an(t,i,l,a),i.child;case 14:return Wy(t,i,i.type,i.pendingProps,a);case 15:return ev(t,i,i.type,i.pendingProps,a);case 19:return uv(t,i,a);case 31:return SS(t,i,a);case 22:return tv(t,i,a,i.pendingProps);case 24:return sa(i),l=sn(Mt),t===null?(h=qf(),h===null&&(h=at,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ff(i),Zr(i,Mt,h)):((t.lanes&a)!==0&&(Gf(t,i),vl(i,null,null,a),yl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zr(i,Mt,l)):(l=d.cache,Zr(i,Mt,l),l!==h.cache&&zf(i,[Mt],a,!0))),an(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function _r(t){t.flags|=4}function Rd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uv())t.flags|=8192;else throw la=oc,Hf}else t.flags&=-16777217}function hv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R_(i))if(Uv())t.flags|=8192;else throw la=oc,Hf}function Ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Yt():536870912,t.lanes|=i,lo|=i)}function Al(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function wS(t,i,a){var l=i.pendingProps;switch(Vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),gr(Mt),Fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xa(i)?_r(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),ct(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(_r(i),d!==null?(ct(i),hv(i,d)):(ct(i),Rd(i,h,null,l,a))):d?d!==t.memoizedState?(_r(i),ct(i),hv(i,d)):(ct(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&_r(i),ct(i),Rd(i,h,t,l,a)),null;case 27:if(ti(i),a=ve.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}t=ue.current,Xa(i)?Fp(i):(t=v_(h,l,a),i.stateNode=t,_r(i))}return ct(i),null;case 5:if(ti(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(d=ue.current,Xa(i))Fp(i);else{var v=zc(ve.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Dt]=i,d[Kt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(on(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_r(i)}}return ct(i),Rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ve.current,Xa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||o_(t.nodeValue,a)),t||Jr(i,!0)}else t=zc(t).createTextNode(l),t[Dt]=i,i.stateNode=t}return ct(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Xa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Dt]=i}else ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),t=!1}else a=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?($n(i),i):($n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=i}else ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),h=!1}else h=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?($n(i),i):($n(i),null)}return $n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),ct(i),null);case 4:return Fe(),t===null&&Kd(i.stateNode.containerInfo),ct(i),null;case 10:return gr(i.type),ct(i),null;case 19:if(X(wt),l=i.memoizedState,l===null)return ct(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Al(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=hc(t),d!==null){for(i.flags|=128,Al(l,!1),t=d.updateQueue,i.updateQueue=t,Ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)zp(a,t),a=a.sibling;return se(wt,wt.current&1|2),qe&&dr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Qt()>xc&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304)}else{if(!h)if(t=hc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ac(i,t),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qe)return ct(i),null}else 2*Qt()-l.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Qt(),t.sibling=null,a=wt.current,se(wt,h?a&1|2:a&1),qe&&dr(i,l.treeForkCount),t):(ct(i),null);case 22:case 23:return $n(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X(aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),gr(Mt),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function RS(t,i){switch(Vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return gr(Mt),Fe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ti(i),null;case 31:if(i.memoizedState!==null){if($n(i),i.alternate===null)throw Error(s(340));ia()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if($n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ia()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(wt),null;case 4:return Fe(),null;case 10:return gr(i.type),null;case 22:case 23:return $n(i),Xf(),t!==null&&X(aa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return gr(Mt),null;case 25:return null;default:return null}}function fv(t,i){switch(Vf(i),i.tag){case 3:gr(Mt),Fe();break;case 26:case 27:case 5:ti(i);break;case 4:Fe();break;case 31:i.memoizedState!==null&&$n(i);break;case 13:$n(i);break;case 19:X(wt);break;case 10:gr(i.type);break;case 22:case 23:$n(i),Xf(),t!==null&&X(aa);break;case 24:gr(Mt)}}function wl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function rs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var O=a,j=T;try{j()}catch($){We(h,O,$)}}}l=l.next}while(l!==d)}}catch($){We(i,i.return,$)}}function dv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{iy(i,a)}catch(l){We(t,t.return,l)}}}function mv(t,i,a){a.props=ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Xi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function gv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Cd(t,i,a){try{var l=t.stateNode;KS(l,t.type,a,i),l[Kt]=i}catch(h){We(t,t.return,h)}}function pv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hs(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_i));else if(l!==4&&(l===27&&hs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xd(t,i,a),t=t.sibling;t!==null;)xd(t,i,a),t=t.sibling}function wc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,i,a),t=t.sibling;t!==null;)wc(t,i,a),t=t.sibling}function yv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);on(i,l,a),i[Dt]=t,i[Kt]=a}catch(d){We(t,t.return,d)}}var Er=!1,Lt=!1,Dd=!1,vv=typeof WeakSet=="function"?WeakSet:Set,$t=null;function CS(t,i){if(t=t.containerInfo,Jd=Qc,t=Dp(t),Sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,O=-1,j=0,$=0,Z=t,H=null;t:for(;;){for(var Y;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(O=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)H=Z,Z=Y;for(;;){if(Z===t)break t;if(H===a&&++j===h&&(T=v),H===d&&++$===l&&(O=v),(Y=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Y}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zd={focusedElem:t,selectionRange:a},Qc=!1,$t=i;$t!==null;)if(i=$t,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,$t=t;else for(;$t!==null;){switch(i=$t,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ha(a.type,h);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){We(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)tm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,$t=t;break}$t=i.return}}function _v(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(t,a),l&4&&wl(5,a);break;case 1:if(Tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=ha(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&dv(a),l&512&&Rl(a,a.return);break;case 3:if(Tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{iy(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&yv(a);case 26:case 5:Tr(t,a),i===null&&l&4&&gv(a),l&512&&Rl(a,a.return);break;case 12:Tr(t,a);break;case 31:Tr(t,a),l&4&&Tv(t,a);break;case 13:Tr(t,a),l&4&&Sv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=LS.bind(null,a),nA(t,a))));break;case 22:if(l=a.memoizedState!==null||Er,!l){i=i!==null&&i.memoizedState!==null||Lt,h=Er;var d=Lt;Er=l,(Lt=i)&&!d?Sr(t,a,(a.subtreeFlags&8772)!==0):Tr(t,a),Er=h,Lt=d}break;case 30:break;default:Tr(t,a)}}function Ev(t){var i=t.alternate;i!==null&&(t.alternate=null,Ev(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Oa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,Nn=!1;function br(t,i,a){for(a=a.child;a!==null;)bv(t,i,a),a=a.sibling}function bv(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Lt||Xi(a,i),br(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Xi(a,i);var l=yt,h=Nn;hs(a.type)&&(yt=a.stateNode,Nn=!1),br(t,i,a),kl(a.stateNode),yt=l,Nn=h;break;case 5:Lt||Xi(a,i);case 6:if(l=yt,h=Nn,yt=null,br(t,i,a),yt=l,Nn=h,yt!==null)if(Nn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{yt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:yt!==null&&(Nn?(t=yt,d_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yo(t)):d_(yt,a.stateNode));break;case 4:l=yt,h=Nn,yt=a.stateNode.containerInfo,Nn=!0,br(t,i,a),yt=l,Nn=h;break;case 0:case 11:case 14:case 15:rs(2,a,i),Lt||rs(4,a,i),br(t,i,a);break;case 1:Lt||(Xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&mv(a,i,l)),br(t,i,a);break;case 21:br(t,i,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,br(t,i,a),Lt=l;break;default:br(t,i,a)}}function Tv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(a){We(i,i.return,a)}}}function Sv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(a){We(i,i.return,a)}}function IS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new vv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new vv),i;default:throw Error(s(435,t.tag))}}function Rc(t,i){var a=IS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=US.bind(null,t,l);l.then(h,h)}})}function On(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(hs(T.type)){yt=T.stateNode,Nn=!1;break e}break;case 5:yt=T.stateNode,Nn=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(yt===null)throw Error(s(160));bv(d,v,h),yt=null,Nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Av(i,t),i=i.sibling}var wi=null;function Av(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(i,t),Mn(t),l&4&&(rs(3,t,t.return),wl(3,t),rs(5,t,t.return));break;case 1:On(i,t),Mn(t),l&512&&(Lt||a===null||Xi(a,a.return)),l&64&&Er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=wi;if(On(i,t),Mn(t),l&512&&(Lt||a===null||Xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ki]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),on(d,l,a),d[Dt]=t,Nt(d),l=d;break e;case"link":var v=A_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),on(d,l,a),h.head.appendChild(d);break;case"meta":if(v=A_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),on(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Dt]=t,Nt(d),l=d}t.stateNode=l}else w_(h,t.type,t.stateNode);else t.stateNode=S_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?w_(h,t.type,t.stateNode):S_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:On(i,t),Mn(t),l&512&&(Lt||a===null||Xi(a,a.return)),a!==null&&l&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(On(i,t),Mn(t),l&512&&(Lt||a===null||Xi(a,a.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(de){We(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Dd=!0);break;case 6:if(On(i,t),Mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){We(t,t.return,de)}}break;case 3:if(qc=null,h=wi,wi=jc(i.containerInfo),On(i,t),wi=h,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(i.containerInfo)}catch(de){We(t,t.return,de)}Dd&&(Dd=!1,wv(t));break;case 4:l=wi,wi=jc(t.stateNode.containerInfo),On(i,t),Mn(t),wi=l;break;case 12:On(i,t),Mn(t);break;case 31:On(i,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 13:On(i,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=Qt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,j=Er,$=Lt;if(Er=j||h,Lt=$||O,On(i,t),Lt=$,Er=j,Mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Er||Lt||fa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=O.stateNode;var Z=O.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){We(O,O.return,de)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(de){We(O,O.return,de)}}}else if(i.tag===18){if(a===null){O=i;try{var Y=O.stateNode;h?m_(Y,!0):m_(O.stateNode,!1)}catch(de){We(O,O.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(t,a))));break;case 19:On(i,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 30:break;case 21:break;default:On(i,t),Mn(t)}}function Mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(pv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Id(t);wc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Dn(v,""),a.flags&=-33);var T=Id(t);wc(t,T,v);break;case 3:case 4:var O=a.stateNode.containerInfo,j=Id(t);xd(t,j,O);break;default:throw Error(s(161))}}catch($){We(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function wv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;wv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_v(t,i.alternate,i),i=i.sibling}function fa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:rs(4,i,i.return),fa(i);break;case 1:Xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&mv(i,i.return,a),fa(i);break;case 27:kl(i.stateNode);case 26:case 5:Xi(i,i.return),fa(i);break;case 22:i.memoizedState===null&&fa(i);break;case 30:fa(i);break;default:fa(i)}t=t.sibling}}function Sr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(h,d,a),wl(4,d);break;case 1:if(Sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){We(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)ny(O[h],T)}catch(j){We(l,l.return,j)}}a&&v&64&&dv(d),Rl(d,d.return);break;case 27:yv(d);case 26:case 5:Sr(h,d,a),a&&l===null&&v&4&&gv(d),Rl(d,d.return);break;case 12:Sr(h,d,a);break;case 31:Sr(h,d,a),a&&v&4&&Tv(h,d);break;case 13:Sr(h,d,a),a&&v&4&&Sv(h,d);break;case 22:d.memoizedState===null&&Sr(h,d,a),Rl(d,d.return);break;case 30:break;default:Sr(h,d,a)}i=i.sibling}}function Nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function Ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(t,i,a,l),i=i.sibling}function Rv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ri(t,i,a,l),h&2048&&wl(9,i);break;case 1:Ri(t,i,a,l);break;case 3:Ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(h&2048){Ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){We(i,i.return,O)}}else Ri(t,i,a,l);break;case 31:Ri(t,i,a,l);break;case 13:Ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ri(t,i,a,l):Cl(t,i):d._visibility&2?Ri(t,i,a,l):(d._visibility|=2,so(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(v,i);break;case 24:Ri(t,i,a,l),h&2048&&Od(i.alternate,i);break;default:Ri(t,i,a,l)}}function so(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,T=a,O=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:so(d,v,T,O,h),wl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?so(d,v,T,O,h):Cl(d,v):($._visibility|=2,so(d,v,T,O,h)),h&&j&2048&&Nd(v.alternate,v);break;case 24:so(d,v,T,O,h),h&&j&2048&&Od(v.alternate,v);break;default:so(d,v,T,O,h)}i=i.sibling}}function Cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Cl(a,l),h&2048&&Nd(l.alternate,l);break;case 24:Cl(a,l),h&2048&&Od(l.alternate,l);break;default:Cl(a,l)}i=i.sibling}}var Il=8192;function ao(t,i,a){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)Cv(t,i,a),t=t.sibling}function Cv(t,i,a){switch(t.tag){case 26:ao(t,i,a),t.flags&Il&&t.memoizedState!==null&&mA(a,wi,t.memoizedState,t.memoizedProps);break;case 5:ao(t,i,a);break;case 3:case 4:var l=wi;wi=jc(t.stateNode.containerInfo),ao(t,i,a),wi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,ao(t,i,a),Il=l):ao(t,i,a));break;default:ao(t,i,a)}}function Iv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,Dv(l,t)}Iv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xv(t),t=t.sibling}function xv(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&rs(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Cc(t)):xl(t);break;default:xl(t)}}function Cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,Dv(l,t)}Iv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:rs(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}t=t.sibling}}function Dv(t,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:rs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var h=l.sibling,d=l.return;if(Ev(l),l===a){$t=null;break e}if(h!==null){h.return=d,$t=h;break e}$t=d}}}var xS={getCacheForType:function(t){var i=sn(Mt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return sn(Mt).controller.signal}},DS=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Oe=null,ke=0,Ze=0,Jn=null,ss=!1,oo=!1,Md=!1,Ar=0,bt=0,as=0,da=0,Vd=0,Zn=0,lo=0,Dl=null,Vn=null,kd=!1,Ic=0,Nv=0,xc=1/0,Dc=null,os=null,Ht=0,ls=null,uo=null,wr=0,Ld=0,Ud=null,Ov=null,Nl=0,Pd=null;function Wn(){return(Xe&2)!==0&&ke!==0?ke&-ke:K.T!==null?Fd():Fn()}function Mv(){if(Zn===0)if((ke&536870912)===0||qe){var t=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),Zn=t}else Zn=536870912;return t=Xn.current,t!==null&&(t.flags|=32),Zn}function kn(t,i,a){(t===at&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(co(t,0),us(t,ke,Zn,!1)),In(t,a),((Xe&2)===0||t!==at)&&(t===at&&((Xe&2)===0&&(da|=a),bt===4&&us(t,ke,Zn,!1)),$i(t))}function Vv(t,i,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||xt(t,i),h=l?MS(t,i):jd(t,i,!0),d=l;do{if(h===0){oo&&!l&&us(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!NS(a)){h=jd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Dl;var O=T.current.memoizedState.isDehydrated;if(O&&(co(T,v).flags|=256),v=jd(T,v,!1),v!==2){if(Md&&!O){T.errorRecoveryDisabledLanes|=d,da|=d,h=4;break e}d=Vn,Vn=h,d!==null&&(Vn===null?Vn=d:Vn.push.apply(Vn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){co(t,0),us(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:us(l,i,Zn,!ss);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ic+300-Qt(),10<h)){if(us(l,i,Zn,!ss),gt(l,0,!0)!==0)break e;wr=i,l.timeoutHandle=h_(kv.bind(null,l,a,Vn,Dc,kd,i,Zn,da,lo,ss,d,"Throttled",-0,0),h);break e}kv(l,a,Vn,Dc,kd,i,Zn,da,lo,ss,d,null,-0,0)}}break}while(!0);$i(t)}function kv(t,i,a,l,h,d,v,T,O,j,$,Z,H,Y){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Cv(i,d,Z);var de=(d&62914560)===d?Ic-Qt():(d&4194048)===d?Nv-Qt():0;if(de=gA(Z,de),de!==null){wr=d,t.cancelPendingCommit=de(Hv.bind(null,t,i,d,a,l,h,v,T,O,$,Z,null,H,Y)),us(t,d,v,!j);return}}Hv(t,i,d,a,l,h,v,T,O)}function NS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function us(t,i,a,l){i&=~Vd,i&=~da,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&dn(t,a,i)}function Nc(){return(Xe&6)===0?(Ol(0),!1):!0}function zd(){if(Oe!==null){if(Ze===0)var t=Oe.return;else t=Oe,mr=ra=null,td(t),eo=null,ml=0,t=Oe;for(;t!==null;)fv(t.alternate,t),t=t.return;Oe=null}}function co(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,JS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),wr=0,zd(),at=t,Oe=a=fr(t.current,null),ke=i,Ze=0,Jn=null,ss=!1,oo=xt(t,i),Md=!1,lo=Zn=Vd=da=as=bt=0,Vn=Dl=null,kd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return Ar=i,Zu(),a}function Lv(t,i){Ie=null,K.H=Tl,i===Wa||i===ac?(i=Zp(),Ze=3):i===Hf?(i=Zp(),Ze=4):Ze=i===yd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Jn=i,Oe===null&&(bt=1,Ec(t,ci(i,t.current)))}function Uv(){var t=Xn.current;return t===null?!0:(ke&4194048)===ke?mi===null:(ke&62914560)===ke||(ke&536870912)!==0?t===mi:!1}function Pv(){var t=K.H;return K.H=Tl,t===null?Tl:t}function zv(){var t=K.A;return K.A=xS,t}function Oc(){bt=4,ss||(ke&4194048)!==ke&&Xn.current!==null||(oo=!0),(as&134217727)===0&&(da&134217727)===0||at===null||us(at,ke,Zn,!1)}function jd(t,i,a){var l=Xe;Xe|=2;var h=Pv(),d=zv();(at!==t||ke!==i)&&(Dc=null,co(t,i)),i=!1;var v=bt;e:do try{if(Ze!==0&&Oe!==null){var T=Oe,O=Jn;switch(Ze){case 8:zd(),v=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var j=Ze;if(Ze=0,Jn=null,ho(t,T,O,j),a&&oo){v=0;break e}break;default:j=Ze,Ze=0,Jn=null,ho(t,T,O,j)}}OS(),v=bt;break}catch($){Lv(t,$)}while(!0);return i&&t.shellSuspendCounter++,mr=ra=null,Xe=l,K.H=h,K.A=d,Oe===null&&(at=null,ke=0,Zu()),v}function OS(){for(;Oe!==null;)jv(Oe)}function MS(t,i){var a=Xe;Xe|=2;var l=Pv(),h=zv();at!==t||ke!==i?(Dc=null,xc=Qt()+500,co(t,i)):oo=xt(t,i);e:do try{if(Ze!==0&&Oe!==null){i=Oe;var d=Jn;t:switch(Ze){case 1:Ze=0,Jn=null,ho(t,i,d,1);break;case 2:case 9:if($p(d)){Ze=0,Jn=null,Bv(i);break}i=function(){Ze!==2&&Ze!==9||at!==t||(Ze=7),$i(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:$p(d)?(Ze=0,Jn=null,Bv(i)):(Ze=0,Jn=null,ho(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(v?R_(v):T.stateNode.complete){Ze=0,Jn=null;var O=T.sibling;if(O!==null)Oe=O;else{var j=T.return;j!==null?(Oe=j,Mc(j)):Oe=null}break t}}Ze=0,Jn=null,ho(t,i,d,5);break;case 6:Ze=0,Jn=null,ho(t,i,d,6);break;case 8:zd(),bt=6;break e;default:throw Error(s(462))}}VS();break}catch($){Lv(t,$)}while(!0);return mr=ra=null,K.H=l,K.A=h,Xe=a,Oe!==null?0:(at=null,ke=0,Zu(),bt)}function VS(){for(;Oe!==null&&!zr();)jv(Oe)}function jv(t){var i=cv(t.alternate,t,Ar);t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function Bv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=rv(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=rv(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:td(i);default:fv(a,i),i=Oe=zp(i,Ar),i=cv(a,i,Ar)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function ho(t,i,a,l){mr=ra=null,td(i),eo=null,ml=0;var h=i.return;try{if(TS(t,h,i,a,ke)){bt=1,Ec(t,ci(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;bt=1,Ec(t,ci(a,t.current)),Oe=null;return}i.flags&32768?(qe||l===1?t=!0:oo||(ke&536870912)!==0?t=!1:(ss=t=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),qv(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){qv(i,ss);return}t=i.return;var a=wS(i.alternate,i,Ar);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);bt===0&&(bt=5)}function qv(t,i){do{var a=RS(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);bt=6,Oe=null}function Hv(t,i,a,l,h,d,v,T,O){t.cancelPendingCommit=null;do Vc();while(Ht!==0);if((Xe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=If,St(t,a,d,v,T,O),t===at&&(Oe=at=null,ke=0),uo=i,ls=t,wr=a,Ld=d,Ud=h,Ov=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,PS(En,function(){return Kv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ie.p,ie.p=2,v=Xe,Xe|=4;try{CS(t,i,a)}finally{Xe=v,ie.p=h,K.T=l}}Ht=1,Fv(),Gv(),Qv()}}function Fv(){if(Ht===1){Ht=0;var t=ls,i=uo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Xe;Xe|=4;try{Av(i,t);var d=Zd,v=Dp(t.containerInfo),T=d.focusedElem,O=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&xp(T.ownerDocument.documentElement,T)){if(O!==null&&Sf(T)){var j=O.start,$=O.end;if($===void 0&&($=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min($,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Y=H.getSelection(),de=T.textContent.length,Ee=Math.min(O.start,de),st=O.end===void 0?Ee:Math.min(O.end,de);!Y.extend&&Ee>st&&(v=st,st=Ee,Ee=v);var U=Ip(T,Ee),k=Ip(T,st);if(U&&k&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var z=Z.createRange();z.setStart(U.node,U.offset),Y.removeAllRanges(),Ee>st?(Y.addRange(z),Y.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),Y.addRange(z))}}}}for(Z=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Qc=!!Jd,Zd=Jd=null}finally{Xe=h,ie.p=l,K.T=a}}t.current=i,Ht=2}}function Gv(){if(Ht===2){Ht=0;var t=ls,i=uo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Xe;Xe|=4;try{_v(t,i.alternate,i)}finally{Xe=h,ie.p=l,K.T=a}}Ht=3}}function Qv(){if(Ht===4||Ht===3){Ht=0,js();var t=ls,i=uo,a=wr,l=Ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,uo=ls=null,Yv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(os=null),Tn(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ie.p=h}}(wr&3)!==0&&Vc(),$i(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Pd?Nl++:(Nl=0,Pd=t):Nl=0,Ol(0)}}function Yv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function Vc(){return Fv(),Gv(),Qv(),Kv()}function Kv(){if(Ht!==5)return!1;var t=ls,i=Ld;Ld=0;var a=Tn(wr),l=K.T,h=ie.p;try{ie.p=32>a?32:a,K.T=null,a=Ud,Ud=null;var d=ls,v=wr;if(Ht=0,uo=ls=null,wr=0,(Xe&6)!==0)throw Error(s(331));var T=Xe;if(Xe|=4,xv(d.current),Rv(d,d.current,v,a),Xe=T,Ol(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{ie.p=h,K.T=l,Yv(t,i)}}function Xv(t,i,a){i=ci(a,i),i=pd(t.stateNode,i,2),t=ts(t,i,2),t!==null&&(In(t,2),$i(t))}function We(t,i,a){if(t.tag===3)Xv(t,t,a);else for(;i!==null;){if(i.tag===3){Xv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){t=ci(a,t),a=$y(2),l=ts(i,a,2),l!==null&&(Jy(a,l,i,t),In(l,2),$i(l));break}}i=i.return}}function Bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new DS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Md=!0,h.add(a),t=kS.bind(null,t,i,a),i.then(t,t))}function kS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(ke&a)===a&&(bt===4||bt===3&&(ke&62914560)===ke&&300>Qt()-Ic?(Xe&2)===0&&co(t,0):Vd|=a,lo===ke&&(lo=0)),$i(t)}function $v(t,i){i===0&&(i=Yt()),t=ta(t,i),t!==null&&(In(t,i),$i(t))}function LS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),$v(t,a)}function US(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),$v(t,a)}function PS(t,i){return tt(t,i)}var kc=null,fo=null,qd=!1,Lc=!1,Hd=!1,cs=0;function $i(t){t!==fo&&t.next===null&&(fo===null?kc=fo=t:fo=fo.next=t),Lc=!0,qd||(qd=!0,jS())}function Ol(t,i){if(!Hd&&Lc){Hd=!0;do for(var a=!1,l=kc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,e_(l,d))}else d=ke,d=gt(l,l===at?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xt(l,d)||(a=!0,e_(l,d));l=l.next}while(a);Hd=!1}}function zS(){Jv()}function Jv(){Lc=qd=!1;var t=0;cs!==0&&$S()&&(t=cs);for(var i=Qt(),a=null,l=kc;l!==null;){var h=l.next,d=Zv(l,i);d===0?(l.next=null,a===null?kc=h:a.next=h,h===null&&(fo=a)):(a=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=h}Ht!==0&&Ht!==5||Ol(t),cs!==0&&(cs=0)}function Zv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),T=1<<v,O=h[v];O===-1?((T&a)===0||(T&l)!==0)&&(h[v]=fn(T,i)):O<=i&&(t.expiredLanes|=T),d&=~T}if(i=at,a=ke,a=gt(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&jn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xt(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&jn(l),Tn(a)){case 2:case 8:a=ii;break;case 32:a=En;break;case 268435456:a=qs;break;default:a=En}return l=Wv.bind(null,t),a=tt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&jn(l),t.callbackPriority=2,t.callbackNode=null,2}function Wv(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=ke;return l=gt(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Vv(t,l,i),Zv(t,Qt()),t.callbackNode!=null&&t.callbackNode===a?Wv.bind(null,t):null)}function e_(t,i){if(Vc())return null;Vv(t,i,!0)}function jS(){ZS(function(){(Xe&6)!==0?tt(Bs,zS):Jv()})}function Fd(){if(cs===0){var t=Ja;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),cs=t}return cs}function t_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:La(""+t)}function n_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function BS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=t_((h[Kt]||null).action),v=l.submitter;v&&(i=(i=v[Kt]||null)?t_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Hi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var O=v?n_(h,v):new FormData(h);cd(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=v?n_(h,v):new FormData(h),cd(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Gd=0;Gd<Cf.length;Gd++){var Qd=Cf[Gd],qS=Qd.toLowerCase(),HS=Qd[0].toUpperCase()+Qd.slice(1);Ai(qS,"on"+HS)}Ai(Mp,"onAnimationEnd"),Ai(Vp,"onAnimationIteration"),Ai(kp,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(sS,"onTransitionRun"),Ai(aS,"onTransitionStart"),Ai(oS,"onTransitionCancel"),Ai(Lp,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function i_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],O=T.instance,j=T.currentTarget;if(T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(T=l[v],O=T.instance,j=T.currentTarget,T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=O}}}}function Me(t,i){var a=i[Na];a===void 0&&(a=i[Na]=new Set);var l=t+"__bubble";a.has(l)||(r_(i,t,2,!1),a.add(l))}function Yd(t,i,a){var l=0;i&&(l|=4),r_(a,t,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[Uc]){t[Uc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(FS.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Yd("selectionchange",!1,i))}}function r_(t,i,a,l){switch(M_(i)){case 2:var h=vA;break;case 8:h=_A;break;default:h=um}a=h.bind(null,i,a,t),h=void 0,!Ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Xd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Li(T),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Gr(function(){var j=d,$=ai(a),Z=[];e:{var H=Up.get(t);if(H!==void 0){var Y=Hi,de=t;switch(t){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":Y=Ku;break;case"focusin":de="focus",Y=Js;break;case"focusout":de="blur",Y=Js;break;case"beforeblur":case"afterblur":Y=Js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Mp:case Vp:case kp:Y=Bu;break;case Lp:Y=S;break;case"scroll":case"scrollend":Y=il;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=hr;break;case"toggle":case"beforetoggle":Y=Ce}var Ee=(i&4)!==0,st=!Ee&&(t==="scroll"||t==="scrollend"),U=Ee?H!==null?H+"Capture":null:H;Ee=[];for(var k=j,z;k!==null;){var J=k;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||U===null||(J=Ei(k,U),J!=null&&Ee.push(Vl(k,J,z))),st)break;k=k.return}0<Ee.length&&(H=new Y(H,de,null,a,$),Z.push({event:H,listeners:Ee}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==el&&(de=a.relatedTarget||a.fromElement)&&(Li(de)||de[Vi]))break e;if((Y||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(de=a.relatedTarget||a.toElement,Y=j,de=de?Li(de):null,de!==null&&(st=u(de),Ee=de.tag,de!==st||Ee!==5&&Ee!==27&&Ee!==6)&&(de=null)):(Y=null,de=j),Y!==de)){if(Ee=rl,J="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=hr,J="onPointerLeave",U="onPointerEnter",k="pointer"),st=Y==null?H:Gn(Y),z=de==null?H:Gn(de),H=new Ee(J,k+"leave",Y,a,$),H.target=st,H.relatedTarget=z,J=null,Li($)===j&&(Ee=new Ee(U,k+"enter",de,a,$),Ee.target=z,Ee.relatedTarget=st,J=Ee),st=J,Y&&de)t:{for(Ee=GS,U=Y,k=de,z=0,J=U;J;J=Ee(J))z++;J=0;for(var pe=k;pe;pe=Ee(pe))J++;for(;0<z-J;)U=Ee(U),z--;for(;0<J-z;)k=Ee(k),J--;for(;z--;){if(U===k||k!==null&&U===k.alternate){Ee=U;break t}U=Ee(U),k=Ee(k)}Ee=null}else Ee=null;Y!==null&&s_(Z,H,Y,Ee,!1),de!==null&&st!==null&&s_(Z,st,de,Ee,!0)}}e:{if(H=j?Gn(j):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Qe=Tp;else if(Ep(H))if(Sp)Qe=nS;else{Qe=eS;var me=W1}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&ka(j.elementType)&&(Qe=Tp):Qe=tS;if(Qe&&(Qe=Qe(t,j))){bp(Z,Qe,a,$);break e}me&&me(t,H,j),t==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&Jo(H,"number",H.value)}switch(me=j?Gn(j):window,t){case"focusin":(Ep(me)||me.contentEditable==="true")&&(Ha=me,Af=j,ul=null);break;case"focusout":ul=Af=Ha=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Np(Z,a,$);break;case"selectionchange":if(rS)break;case"keydown":case"keyup":Np(Z,a,$)}var xe;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else qa?Zs(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Qi&&a.locale!=="ko"&&(qa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&qa&&(xe=nl()):(qi=$,tl="value"in qi?qi.value:qi.textContent,qa=!0)),me=Pc(j,Le),0<me.length&&(Le=new Gi(Le,t,null,a,$),Z.push({event:Le,listeners:me}),xe?Le.data=xe:(xe=Ba(a),xe!==null&&(Le.data=xe)))),(xe=li?X1(t,a):$1(t,a))&&(Le=Pc(j,"onBeforeInput"),0<Le.length&&(me=new Gi("onBeforeInput","beforeinput",null,a,$),Z.push({event:me,listeners:Le}),me.data=xe)),BS(Z,t,j,a,$)}i_(Z,i)})}function Vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ei(t,a),h!=null&&l.unshift(Vl(t,h,d)),h=Ei(t,i),h!=null&&l.push(Vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function GS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,O=T.alternate,j=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||j===null||(O=j,h?(j=Ei(a,d),j!=null&&v.unshift(Vl(a,j,O))):h||(j=Ei(a,d),j!=null&&v.push(Vl(a,j,O)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var QS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function a_(t){return(typeof t=="string"?t:""+t).replace(QS,`
`).replace(YS,"")}function o_(t,i){return i=a_(i),a_(t)===i}function rt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(t,""+l);break;case"className":Qn(t,"class",l);break;case"tabIndex":Qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(t,a,l);break;case"style":Wo(t,l,d);break;case"data":if(i!=="object"){Qn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=La(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&rt(t,i,"name",h.name,h,null),rt(t,i,"formEncType",h.formEncType,h,null),rt(t,i,"formMethod",h.formMethod,h,null),rt(t,i,"formTarget",h.formTarget,h,null)):(rt(t,i,"encType",h.encType,h,null),rt(t,i,"method",h.method,h,null),rt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=La(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_i);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=La(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Ma(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,Ma(t,a,l))}}function $d(t,i,a,l,h,d){switch(a){case"style":Wo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ma(t,a,l)}}}function on(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(t,i,d,v,a,null)}}h&&rt(t,i,"srcSet",a.srcSet,a,null),l&&rt(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,O=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":O=$;break;case"defaultChecked":j=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:rt(t,i,l,$,a,null)}}ku(t,d,T,O,j,v,h,!1);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:rt(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Br(t,!!l,i,!1):a!=null&&Br(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:rt(t,i,v,T,a,null)}qr(t,l,h,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,i,O,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Me(Ml[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(t,i,j,l,a,null)}return;default:if(ka(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&$d(t,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&rt(t,i,T,l,a,null))}function KS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,O=null,j=null,$=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=Z;default:l.hasOwnProperty(Y)||rt(t,i,Y,null,l,Z)}}for(var H in l){var Y=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(Y!=null||Z!=null))switch(H){case"type":d=Y;break;case"name":h=Y;break;case"checked":j=Y;break;case"defaultChecked":$=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==Z&&rt(t,i,H,Y,l,Z)}}Va(t,v,T,O,j,$,d,h);return;case"select":Y=v=T=H=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||rt(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==O&&rt(t,i,h,d,l,O)}i=T,a=v,l=Y,H!=null?Br(t,!!a,H,!1):!!l!=!!a&&(i!=null?Br(t,!!a,i,!0):Br(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&rt(t,i,v,h,l,d)}Lu(t,H,Y);return;case"option":for(var de in a)if(H=a[de],a.hasOwnProperty(de)&&H!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:rt(t,i,de,null,l,H)}for(O in l)if(H=l[O],Y=a[O],l.hasOwnProperty(O)&&H!==Y&&(H!=null||Y!=null))switch(O){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:rt(t,i,O,H,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee)&&rt(t,i,Ee,null,l,H);for(j in l)if(H=l[j],Y=a[j],l.hasOwnProperty(j)&&H!==Y&&(H!=null||Y!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:rt(t,i,j,H,l,Y)}return;default:if(ka(i)){for(var st in a)H=a[st],a.hasOwnProperty(st)&&H!==void 0&&!l.hasOwnProperty(st)&&$d(t,i,st,void 0,l,H);for($ in l)H=l[$],Y=a[$],!l.hasOwnProperty($)||H===Y||H===void 0&&Y===void 0||$d(t,i,$,H,l,Y);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&rt(t,i,U,null,l,H);for(Z in l)H=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||H===Y||H==null&&Y==null||rt(t,i,Z,H,l,Y)}function l_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&l_(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],j=O.startTime;if(j>T)break;var $=O.transferSize,Z=O.initiatorType;$&&l_(Z)&&(O=O.responseEnd,v+=$*(O<T?1:(T-j)/(O-j)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jd=null,Zd=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function u_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function $S(){var t=window.event;return t&&t.type==="popstate"?t===em?!1:(em=t,!0):(em=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,ZS=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(t){return f_.resolve(null).then(t).catch(WS)}:h_;function WS(t){setTimeout(function(){throw t})}function hs(t){return t==="head"}function d_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),yo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[ki]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&kl(t.ownerDocument.body);a=h}while(a);yo(i)}function m_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function tm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tm(a),Oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function eA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ki])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=gi(t.nextSibling),t===null)break}return null}function tA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=gi(t.nextSibling),t===null))return null;return t}function g_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=gi(t.nextSibling),t===null))return null;return t}function nm(t){return t.data==="$?"||t.data==="$~"}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function gi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var rm=null;function p_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return gi(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function y_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function v_(t,i,a){switch(i=zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Oa(t)}var pi=new Map,__=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rr=ie.d;ie.d={f:iA,r:rA,D:sA,C:aA,L:oA,m:lA,X:cA,S:uA,M:hA};function iA(){var t=Rr.f(),i=Nc();return t||i}function rA(t){var i=si(t);i!==null&&i.tag===5&&i.type==="form"?Ly(i):Rr.r(t)}var mo=typeof document>"u"?null:document;function E_(t,i,a){var l=mo;if(l&&typeof i=="string"&&i){var h=xn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),__.has(h)||(__.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),on(i,"link",t),Nt(i),l.head.appendChild(i)))}}function sA(t){Rr.D(t),E_("dns-prefetch",t,null)}function aA(t,i){Rr.C(t,i),E_("preconnect",t,i)}function oA(t,i,a){Rr.L(t,i,a);var l=mo;if(l&&t&&i){var h='link[rel="preload"][as="'+xn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+xn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+xn(a.imageSizes)+'"]')):h+='[href="'+xn(t)+'"]';var d=h;switch(i){case"style":d=go(t);break;case"script":d=po(t)}pi.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),pi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ll(d))||i==="script"&&l.querySelector(Ul(d))||(i=l.createElement("link"),on(i,"link",t),Nt(i),l.head.appendChild(i)))}}function lA(t,i){Rr.m(t,i);var a=mo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+xn(l)+'"][href="'+xn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=po(t)}if(!pi.has(d)&&(t=b({rel:"modulepreload",href:t},i),pi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),on(l,"link",t),Nt(l),a.head.appendChild(l)}}}function uA(t,i,a){Rr.S(t,i,a);var l=mo;if(l&&t){var h=Ui(l).hoistableStyles,d=go(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ll(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=pi.get(d))&&sm(t,a);var O=v=l.createElement("link");Nt(O),on(O,"link",t),O._p=new Promise(function(j,$){O.onload=j,O.onerror=$}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Bc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function cA(t,i){Rr.X(t,i);var a=mo;if(a&&t){var l=Ui(a).hoistableScripts,h=po(t),d=l.get(h);d||(d=a.querySelector(Ul(h)),d||(t=b({src:t,async:!0},i),(i=pi.get(h))&&am(t,i),d=a.createElement("script"),Nt(d),on(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function hA(t,i){Rr.M(t,i);var a=mo;if(a&&t){var l=Ui(a).hoistableScripts,h=po(t),d=l.get(h);d||(d=a.querySelector(Ul(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=pi.get(h))&&am(t,i),d=a.createElement("script"),Nt(d),on(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function b_(t,i,a,l){var h=(h=ve.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=go(a.href),a=Ui(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=go(a.href);var d=Ui(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ll(t)))&&!d._p&&(v.instance=d,v.state.loading=5),pi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pi.set(t,a),d||fA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=po(a),a=Ui(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function go(t){return'href="'+xn(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function T_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function fA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),on(i,"link",a),Nt(i),t.head.appendChild(i))}function po(t){return'[src="'+xn(t)+'"]'}function Ul(t){return"script[async]"+t}function S_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+xn(a.href)+'"]');if(l)return i.instance=l,Nt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),on(l,"style",h),Bc(l,a.precedence,t),i.instance=l;case"stylesheet":h=go(a.href);var d=t.querySelector(Ll(h));if(d)return i.state.loading|=4,i.instance=d,Nt(d),d;l=T_(a),(h=pi.get(h))&&sm(l,h),d=(t.ownerDocument||t).createElement("link"),Nt(d);var v=d;return v._p=new Promise(function(T,O){v.onload=T,v.onerror=O}),on(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,t),i.instance=d;case"script":return d=po(a.src),(h=t.querySelector(Ul(d)))?(i.instance=h,Nt(h),h):(l=a,(h=pi.get(d))&&(l=b({},a),am(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),on(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,t));return i.instance}function Bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function A_(t,i,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ki]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function w_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function dA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function R_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=go(l.href),d=i.querySelector(Ll(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Hc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Nt(d);return}d=i.ownerDocument||i,l=T_(l),(h=pi.get(h))&&sm(l,h),d=d.createElement("link"),Nt(d);var v=d;v._p=new Promise(function(T,O){v.onload=T,v.onerror=O}),on(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var om=0;function gA(t,i){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&om===0&&(om=62500*XS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>om?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function Gc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,i.forEach(pA,t),Fc=null,Hc.call(t))}function pA(t,i){if(!(i.state.loading&4)){var a=Fc.get(t);if(a)var l=a.get(null);else{a=new Map,Fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function yA(t,i,a,l,h,d,v,T,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.hiddenUpdates=Tt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function C_(t,i,a,l,h,d,v,T,O,j,$,Z){return t=new yA(t,i,a,v,O,j,$,Z,T),i=1,d===!0&&(i|=24),d=Kn(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ff(d),t}function I_(t){return t?(t=Qa,t):Qa}function x_(t,i,a,l,h,d){h=I_(h),l.context===null?l.context=h:l.pendingContext=h,l=es(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ts(t,l,i),a!==null&&(kn(a,t,i),pl(a,t,i))}function D_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function lm(t,i){D_(t,i),(t=t.alternate)&&D_(t,i)}function N_(t){if(t.tag===13||t.tag===31){var i=ta(t,67108864);i!==null&&kn(i,t,67108864),lm(t,67108864)}}function O_(t){if(t.tag===13||t.tag===31){var i=Wn();i=Hn(i);var a=ta(t,i);a!==null&&kn(a,t,i),lm(t,i)}}var Qc=!0;function vA(t,i,a,l){var h=K.T;K.T=null;var d=ie.p;try{ie.p=2,um(t,i,a,l)}finally{ie.p=d,K.T=h}}function _A(t,i,a,l){var h=K.T;K.T=null;var d=ie.p;try{ie.p=8,um(t,i,a,l)}finally{ie.p=d,K.T=h}}function um(t,i,a,l){if(Qc){var h=cm(l);if(h===null)Xd(t,i,l,Yc,a),V_(t,l);else if(bA(h,t,i,a,l))l.stopPropagation();else if(V_(t,l),i&4&&-1<EA.indexOf(t)){for(;h!==null;){var d=si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=mt(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var O=1<<31-dt(v);T.entanglements[1]|=O,v&=~O}$i(d),(Xe&6)===0&&(xc=Qt()+500,Ol(0))}}break;case 31:case 13:T=ta(d,2),T!==null&&kn(T,d,2),Nc(),lm(d,2)}if(d=cm(l),d===null&&Xd(t,i,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,i,l,null,a)}}function cm(t){return t=ai(t),hm(t)}var Yc=null;function hm(t){if(Yc=null,t=Li(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Yc=t,null}function M_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case Bs:return 2;case ii:return 8;case En:case ar:return 32;case qs:return 268435456;default:return 32}default:return 32}}var fm=!1,fs=null,ds=null,ms=null,zl=new Map,jl=new Map,gs=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(t,i){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(i.pointerId)}}function Bl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=si(i),i!==null&&N_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function bA(t,i,a,l,h){switch(i){case"focusin":return fs=Bl(fs,t,i,a,l,h),!0;case"dragenter":return ds=Bl(ds,t,i,a,l,h),!0;case"mouseover":return ms=Bl(ms,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,Bl(zl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,jl.set(d,Bl(jl.get(d)||null,t,i,a,l,h)),!0}return!1}function k_(t){var i=Li(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,tn(t.priority,function(){O_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,tn(t.priority,function(){O_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return i=si(a),i!==null&&N_(i),t.blockedOn=a,!1;i.shift()}return!0}function L_(t,i,a){Kc(t)&&a.delete(i)}function TA(){fm=!1,fs!==null&&Kc(fs)&&(fs=null),ds!==null&&Kc(ds)&&(ds=null),ms!==null&&Kc(ms)&&(ms=null),zl.forEach(L_),jl.forEach(L_)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,fm||(fm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,TA)))}var $c=null;function U_(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(hm(l||a)===null)continue;break}var d=si(a);d!==null&&(t.splice(i,3),i-=3,cd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function yo(t){function i(O){return Xc(O,t)}fs!==null&&Xc(fs,t),ds!==null&&Xc(ds,t),ms!==null&&Xc(ms,t),zl.forEach(i),jl.forEach(i);for(var a=0;a<gs.length;a++){var l=gs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gs.length&&(a=gs[0],a.blockedOn===null);)k_(a),a.blockedOn===null&&gs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Kt]||null;if(typeof d=="function")v||U_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Kt]||null)T=v.formAction;else if(hm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),U_(a)}}}function P_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function dm(t){this._internalRoot=t}Jc.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Wn();x_(a,l,t,i,null,null)},Jc.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;x_(t.current,2,null,t,null,null),Nc(),i[Vi]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Fn();t={blockedOn:null,target:t,priority:i};for(var a=0;a<gs.length&&i!==0&&i<gs[a].priority;a++);gs.splice(a,0,t),a===0&&k_(t)}};var z_=e.version;if(z_!=="19.2.0")throw Error(s(527,z_,"19.2.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var SA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{qn=Zc.inject(SA),qt=Zc}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Qy,d=Yy,v=Ky;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=C_(t,1,!1,null,null,a,l,null,h,d,v,P_),t[Vi]=i.current,Kd(t),new dm(i)},Hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Qy,v=Yy,T=Ky,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=C_(t,1,!0,i,a??null,l,h,O,d,v,T,P_),i.context=I_(null),a=i.current,l=Wn(),l=Hn(l),h=es(l),h.callback=null,ts(a,h,l),a=l,i.current.lanes=a,In(i,a),$i(i),t[Vi]=i.current,Kd(t),new Jc(i)},Hl.version="19.2.0",Hl}var X_;function MA(){if(X_)return pm.exports;X_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=OA(),pm.exports}var VA=MA();const kA=()=>{};var $_={};const jE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},LA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,N=p&63;g||(N=64,f||(A=64)),s.push(n[E],n[b],n[A],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(jE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):LA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new UA;const A=u<<2|m>>4;if(s.push(A),p!==64){const N=m<<4&240|p>>2;if(s.push(N),b!==64){const q=p<<6&192|b;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class UA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PA=function(r){const e=jE(r);return BE.encodeByteArray(e,!0)},_h=function(r){return PA(r).replace(/\./g,"")},qE=function(r){try{return BE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jA=()=>zA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof $_>"u")return;const r=$_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qE(r[1]);return e&&JSON.parse(e)},Gh=()=>{try{return kA()||jA()||BA()||qA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},HE=r=>Gh()?.emulatorHosts?.[r],HA=r=>{const e=HE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},FE=()=>Gh()?.config,GE=r=>Gh()?.[`_${r}`];class FA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QE(r){return(await fetch(r,{credentials:"include"})).ok}function GA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}const Xl={};function QA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?r.emulator.push(e):r.prod.push(e);return r}function YA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let J_=!1;function YE(r,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||Xl[r]===e||Xl[r]||J_)return;Xl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=QA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{J_=!0,f()},A}function E(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=YA(s),N=n("text"),q=document.getElementById(N)||document.createElement("span"),Q=n("learnmore"),F=document.getElementById(Q)||document.createElement("a"),ee=n("preprendIcon"),re=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;m(ne),E(F,Q);const fe=p();g(re,ee),ne.append(re,q,F,fe),document.body.appendChild(ne)}u?(q.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function XA(){const r=Gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ZA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WA(){const r=_n();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ew(){return!XA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tw(){try{return typeof indexedDB=="object"}catch{return!1}}function nw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const iw="FirebaseError";class Lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=iw,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?rw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Lr(o,m,s)}}function rw(r,e){return r.replace(sw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const sw=/\{\$([^}]+)}/g;function aw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ba(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Z_(u)&&Z_(f)){if(!ba(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Z_(r){return r!==null&&typeof r=="object"}function pu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ow(r,e){const n=new lw(r,e);return n.subscribe.bind(n)}class lw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Em(){}function Bt(r){return r&&r._delegate?r._delegate:r}class Ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ma="[DEFAULT]";class cw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new FA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fw(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hw(r){return r===ma?void 0:r}function fw(r){return r.instantiationMode==="EAGER"}class dw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const mw={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},gw=Ue.INFO,pw={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},yw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=pw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=gw,this._logHandler=yw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const vw=(r,e)=>e.some(n=>r instanceof n);let W_,e0;function _w(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ew(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,Um=new WeakMap,XE=new WeakMap,bm=new WeakMap,vg=new WeakMap;function bw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(As(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,r)}).catch(()=>{}),vg.set(e,r),e}function Tw(r){if(Um.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Um.set(r,e)}let Pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||XE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Sw(r){Pm=r(Pm)}function Aw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Tm(this),e,...n);return XE.set(s,e.sort?e.sort():[e]),As(s)}:Ew().includes(r)?function(...e){return r.apply(Tm(this),e),As(KE.get(this))}:function(...e){return As(r.apply(Tm(this),e))}}function ww(r){return typeof r=="function"?Aw(r):(r instanceof IDBTransaction&&Tw(r),vw(r,_w())?new Proxy(r,Pm):r)}function As(r){if(r instanceof IDBRequest)return bw(r);if(bm.has(r))return bm.get(r);const e=ww(r);return e!==r&&(bm.set(r,e),vg.set(e,r)),e}const Tm=r=>vg.get(r);function Rw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=As(f);return s&&f.addEventListener("upgradeneeded",g=>{s(As(f.result),g.oldVersion,g.newVersion,As(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Cw=["get","getKey","getAll","getAllKeys","count"],Iw=["put","add","delete","clear"],Sm=new Map;function t0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Iw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Cw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Sm.set(e,u),u}Sw(r=>({...r,get:(e,n,s)=>t0(e,n)||r.get(e,n,s),has:(e,n)=>!!t0(e,n)||r.has(e,n)}));class xw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Dw(r){return r.getComponent()?.type==="VERSION"}const zm="@firebase/app",n0="0.14.6";const Or=new yg("@firebase/app"),Nw="@firebase/app-compat",Ow="@firebase/analytics-compat",Mw="@firebase/analytics",Vw="@firebase/app-check-compat",kw="@firebase/app-check",Lw="@firebase/auth",Uw="@firebase/auth-compat",Pw="@firebase/database",zw="@firebase/data-connect",jw="@firebase/database-compat",Bw="@firebase/functions",qw="@firebase/functions-compat",Hw="@firebase/installations",Fw="@firebase/installations-compat",Gw="@firebase/messaging",Qw="@firebase/messaging-compat",Yw="@firebase/performance",Kw="@firebase/performance-compat",Xw="@firebase/remote-config",$w="@firebase/remote-config-compat",Jw="@firebase/storage",Zw="@firebase/storage-compat",Ww="@firebase/firestore",eR="@firebase/ai",tR="@firebase/firestore-compat",nR="firebase",iR="12.6.0";const jm="[DEFAULT]",rR={[zm]:"fire-core",[Nw]:"fire-core-compat",[Mw]:"fire-analytics",[Ow]:"fire-analytics-compat",[kw]:"fire-app-check",[Vw]:"fire-app-check-compat",[Lw]:"fire-auth",[Uw]:"fire-auth-compat",[Pw]:"fire-rtdb",[zw]:"fire-data-connect",[jw]:"fire-rtdb-compat",[Bw]:"fire-fn",[qw]:"fire-fn-compat",[Hw]:"fire-iid",[Fw]:"fire-iid-compat",[Gw]:"fire-fcm",[Qw]:"fire-fcm-compat",[Yw]:"fire-perf",[Kw]:"fire-perf-compat",[Xw]:"fire-rc",[$w]:"fire-rc-compat",[Jw]:"fire-gcs",[Zw]:"fire-gcs-compat",[Ww]:"fire-fst",[tR]:"fire-fst-compat",[eR]:"fire-vertex","fire-js":"fire-js",[nR]:"fire-js-all"};const Eh=new Map,sR=new Map,Bm=new Map;function i0(r,e){try{r.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Co(r){const e=r.name;if(Bm.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,r);for(const n of Eh.values())i0(n,r);for(const n of sR.values())i0(n,r);return!0}function _g(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ci(r){return r==null?!1:r.settings!==void 0}const aR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new gu("app","Firebase",aR);class oR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}const Lo=iR;function $E(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:jm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ws.create("bad-app-name",{appName:String(o)});if(n||(n=FE()),!n)throw ws.create("no-options");const u=Eh.get(o);if(u){if(ba(n,u.options)&&ba(s,u.config))return u;throw ws.create("duplicate-app",{appName:o})}const f=new dw(o);for(const g of Bm.values())f.addComponent(g);const m=new oR(n,s,f);return Eh.set(o,m),m}function JE(r=jm){const e=Eh.get(r);if(!e&&r===jm&&FE())return $E();if(!e)throw ws.create("no-app",{appName:r});return e}function Rs(r,e,n){let s=rR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(f.join(" "));return}Co(new Ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const lR="firebase-heartbeat-database",uR=1,ru="firebase-heartbeat-store";let Am=null;function ZE(){return Am||(Am=Rw(lR,uR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw ws.create("idb-open",{originalErrorMessage:r.message})})),Am}async function cR(r){try{const n=(await ZE()).transaction(ru),s=await n.objectStore(ru).get(WE(r));return await n.done,s}catch(e){if(e instanceof Lr)Or.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e?.message});Or.warn(n.message)}}}async function r0(r,e){try{const s=(await ZE()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,WE(r)),await s.done}catch(n){if(n instanceof Lr)Or.warn(n.message);else{const s=ws.create("idb-set",{originalErrorMessage:n?.message});Or.warn(s.message)}}}function WE(r){return`${r.name}!${r.options.appId}`}const hR=1024,fR=30;class dR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>fR){const o=pR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s0(),{heartbeatsToSend:n,unsentEntries:s}=mR(this._heartbeatsCache.heartbeats),o=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Or.warn(e),""}}}function s0(){return new Date().toISOString().substring(0,10)}function mR(r,e=hR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),a0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),a0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class gR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tw()?nw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a0(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function pR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function yR(r){Co(new Ta("platform-logger",e=>new xw(e),"PRIVATE")),Co(new Ta("heartbeat",e=>new dR(e),"PRIVATE")),Rs(zm,n0,r),Rs(zm,n0,"esm2020"),Rs("fire-js","")}yR("");function eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vR=eb,tb=new gu("auth","Firebase",eb());const bh=new yg("@firebase/auth");function _R(r,...e){bh.logLevel<=Ue.WARN&&bh.warn(`Auth (${Lo}): ${r}`,...e)}function oh(r,...e){bh.logLevel<=Ue.ERROR&&bh.error(`Auth (${Lo}): ${r}`,...e)}function ir(r,...e){throw bg(r,...e)}function xi(r,...e){return bg(r,...e)}function Eg(r,e,n){const s={...vR(),[e]:n};return new gu("auth","Firebase",s).create(e,{appName:r.name})}function ya(r){return Eg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ER(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ir(r,"argument-error"),Eg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return tb.create(r,...e)}function Te(r,e,...n){if(!r)throw bg(e,...n)}function Ir(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function Mr(r,e){r||Ir(e)}function qm(){return typeof self<"u"&&self.location?.href||""}function bR(){return o0()==="http:"||o0()==="https:"}function o0(){return typeof self<"u"&&self.location?.protocol||null}function TR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bR()||JA()||"connection"in navigator)?navigator.onLine:!0}function SR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=KA()||ZA()}get(){return TR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tg(r,e){Mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class nb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RR=new yu(3e4,6e4);function Sg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Uo(r,e,n,s,o={}){return ib(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=pu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return $A()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(p.credentials="include"),nb.fetch()(await rb(r,r.config.apiHost,n,m),p)})}async function ib(r,e,n){r._canInitEmulator=!1;const s={...AR,...e};try{const o=new IR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Eg(r,E,p);ir(r,E)}}catch(o){if(o instanceof Lr)throw o;ir(r,"network-request-failed",{message:String(o)})}}async function CR(r,e,n,s,o={}){const u=await Uo(r,e,n,s,o);return"mfaPendingCredential"in u&&ir(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function rb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Tg(r.config,o):`${r.config.apiScheme}://${o}`;return wR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class IR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),RR.get())})}}function Wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=xi(r,e,s);return o.customData._tokenResponse=n,o}async function xR(r,e){return Uo(r,"POST","/v1/accounts:delete",e)}async function Th(r,e){return Uo(r,"POST","/v1/accounts:lookup",e)}function $l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DR(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),o=Ag(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:$l(wm(o.auth_time)),issuedAtTime:$l(wm(o.iat)),expirationTime:$l(wm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(r){return Number(r)*1e3}function Ag(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=qE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function l0(r){const e=Ag(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function su(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Lr&&NR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function NR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class OR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sh(r){const e=r.auth,n=await r.getIdToken(),s=await su(r,Th(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?sb(o.providerUserInfo):[],f=VR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function MR(r){const e=Bt(r);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function kR(r,e){const n=await ib(r,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await rb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(g.credentials="include"),nb.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LR(r,e){return Uo(r,"POST","/v2/accounts:revokeToken",Sg(r,e))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=l0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await kR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new To;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function ys(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new OR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DR(this,e)}reload(){return MR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(ya(this.auth));const e=await this.getIdToken();return await su(this,xR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:N,providerData:q,stsTokenManager:Q}=n;Te(b&&Q,e,"internal-error");const F=To.fromJSON(this.name,Q);Te(typeof b=="string",e,"internal-error"),ys(s,e.name),ys(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof N=="boolean",e,"internal-error"),ys(u,e.name),ys(f,e.name),ys(m,e.name),ys(g,e.name),ys(p,e.name),ys(E,e.name);const ee=new Ii({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:N,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:p,lastLoginAt:E});return q&&Array.isArray(q)&&(ee.providerData=q.map(re=>({...re}))),g&&(ee._redirectEventId=g),ee}static async _fromIdTokenResponse(e,n,s=!1){const o=new To;o.updateFromServerResponse(n);const u=new Ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new To;m.updateFromIdToken(s);const g=new Ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const u0=new Map;function xr(r){Mr(r instanceof Function,"Expected a class definition");let e=u0.get(r);return e?(Mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,u0.set(r,e),e)}class ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ab.type="NONE";const c0=ab;function lh(r,e,n){return`firebase:${r}:${e}:${n}`}class So{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?Ii._fromGetAccountInfoResponse(this.auth,n,e):null}return Ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new So(xr(c0),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||xr(c0);const f=lh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let b;if(typeof E=="string"){const A=await Th(e,{idToken:E}).catch(()=>{});if(!A)break;b=await Ii._fromGetAccountInfoResponse(e,A,E)}else b=Ii._fromJSON(e,E);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new So(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new So(u,e,s))}}function h0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ob(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fb(e))return"Blackberry";if(db(e))return"Webos";if(lb(e))return"Safari";if((e.includes("chrome/")||ub(e))&&!e.includes("edge/"))return"Chrome";if(hb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function ob(r=_n()){return/firefox\//i.test(r)}function lb(r=_n()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ub(r=_n()){return/crios\//i.test(r)}function cb(r=_n()){return/iemobile/i.test(r)}function hb(r=_n()){return/android/i.test(r)}function fb(r=_n()){return/blackberry/i.test(r)}function db(r=_n()){return/webos/i.test(r)}function wg(r=_n()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UR(r=_n()){return wg(r)&&!!window.navigator?.standalone}function PR(){return WA()&&document.documentMode===10}function mb(r=_n()){return wg(r)||hb(r)||db(r)||fb(r)||/windows phone/i.test(r)||cb(r)}function gb(r,e=[]){let n;switch(r){case"Browser":n=h0(_n());break;case"Worker":n=`${h0(_n())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${s}`}class zR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function jR(r,e={}){return Uo(r,"GET","/v2/passwordPolicy",Sg(r,e))}const BR=6;class qR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class HR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new zR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),s=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ci(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(ya(this));const n=e?Bt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jR(this),n=new qR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await LR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_R(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qh(r){return Bt(r)}class f0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ow(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FR(r){Rg=r}function GR(r){return Rg.loadJS(r)}function QR(){return Rg.gapiScript}function YR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function KR(r,e){const n=_g(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ba(u,e??{}))return o;ir(o,"already-initialized")}return n.initialize({options:e})}function XR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(xr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function $R(r,e,n){const s=Qh(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=pb(e),{host:f,port:m}=JR(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ba(p,s.config.emulator)&&ba(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ko(f)?(QE(`${u}//${f}${g}`),YE("Auth",!0)):ZR()}function pb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function JR(r){const e=pb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:d0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:d0(f)}}}function d0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ZR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class yb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function Ao(r,e){return CR(r,"POST","/v1/accounts:signInWithIdp",Sg(r,e))}const WR="http://localhost";class Sa extends yb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:WR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}class Cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vu extends Cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _s extends vu{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";class Cr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sa._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";class Es extends vu{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";class bs extends vu{constructor(){super("twitter.com")}static credential(e,n){return Sa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return bs.credential(n,s)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ii._fromIdTokenResponse(e,s,o),f=m0(s);return new Io({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=m0(s);return new Io({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function m0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ah extends Lr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ah(e,n,s,o)}}function vb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,e,s):u})}async function e2(r,e,n=!1){const s=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Io._forOperation(r,"link",s)}async function t2(r,e,n=!1){const{auth:s}=r;if(Ci(s.app))return Promise.reject(ya(s));const o="reauthenticate";try{const u=await su(r,vb(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=Ag(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),Io._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ir(s,"user-mismatch"),u}}async function n2(r,e,n=!1){if(Ci(r.app))return Promise.reject(ya(r));const s="signIn",o=await vb(r,s,e),u=await Io._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function i2(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function r2(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}function s2(r,e,n,s){return Bt(r).onAuthStateChanged(e,n,s)}function _b(r){return Bt(r).signOut()}const wh="__sak";class Eb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const a2=1e3,o2=10;class bb extends Eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);PR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,o2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const l2=bb;class Tb extends Eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tb.type="SESSION";const Sb=Tb;function u2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await u2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function Ig(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class c2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Ig("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Zi(){return window}function h2(r){Zi().location.href=r}function Ab(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function f2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d2(){return navigator?.serviceWorker?.controller||null}function m2(){return Ab()?self:null}const wb="firebaseLocalStorageDb",g2=1,Rh="firebaseLocalStorage",Rb="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,e){return r.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function p2(){const r=indexedDB.deleteDatabase(wb);return new _u(r).toPromise()}function Fm(){const r=indexedDB.open(wb,g2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Rh,{keyPath:Rb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await p2(),e(await Fm()))})})}async function g0(r,e,n){const s=Kh(r,!0).put({[Rb]:e,value:n});return new _u(s).toPromise()}async function y2(r,e){const n=Kh(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function p0(r,e){const n=Kh(r,!0).delete(e);return new _u(n).toPromise()}const v2=800,_2=3;class Cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ab()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(m2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await f2(),!this.activeServiceWorker)return;this.sender=new c2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await g0(e,wh,"1"),await p0(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>g0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>y2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cb.type="LOCAL";const E2=Cb;new yu(3e4,6e4);function Ib(r,e){return e?xr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xg extends yb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function b2(r){return n2(r.auth,new xg(r),r.bypassAuthState)}function T2(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),t2(n,new xg(r),r.bypassAuthState)}async function S2(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),e2(n,new xg(r),r.bypassAuthState)}class xb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b2;case"linkViaPopup":case"linkViaRedirect":return S2;case"reauthViaPopup":case"reauthViaRedirect":return T2;default:ir(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const A2=new yu(2e3,1e4);async function w2(r,e,n){if(Ci(r.app))return Promise.reject(xi(r,"operation-not-supported-in-this-environment"));const s=Qh(r);ER(r,e,Cg);const o=Ib(s,n);return new ga(s,"signInViaPopup",e,o).executeNotNull()}class ga extends xb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=Ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A2.get())};e()}}ga.currentPopupAction=null;const R2="pendingRedirect",uh=new Map;class C2 extends xb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await I2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(r,e){const n=N2(e),s=D2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function x2(r,e){uh.set(r._key(),e)}function D2(r){return xr(r._redirectPersistence)}function N2(r){return lh(R2,r.config.apiKey,r.name)}async function O2(r,e,n=!1){if(Ci(r.app))return Promise.reject(ya(r));const s=Qh(r),o=Ib(s,e),f=await new C2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const M2=600*1e3;class V2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Db(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(xi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M2&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(e))}saveEventToCache(e){this.cachedEventUids.add(y0(e)),this.lastProcessedEventTime=Date.now()}}function y0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Db({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function k2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Db(r);default:return!1}}async function L2(r,e={}){return Uo(r,"GET","/v1/projects",e)}const U2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function z2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await L2(r);for(const n of e)try{if(j2(n))return}catch{}ir(r,"unauthorized-domain")}function j2(r){const e=qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!P2.test(n))return!1;if(U2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const B2=new yu(3e4,6e4);function v0(){const r=Zi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function q2(r){return new Promise((e,n)=>{function s(){v0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v0(),n(xi(r,"network-request-failed"))},timeout:B2.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)s();else{const o=YR("iframefcb");return Zi()[o]=()=>{gapi.load?s():n(xi(r,"network-request-failed"))},GR(`${QR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function H2(r){return ch=ch||q2(r),ch}const F2=new yu(5e3,15e3),G2="__/auth/iframe",Q2="emulator/auth/iframe",Y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X2(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Tg(e,Q2):`https://${r.config.authDomain}/${G2}`,s={apiKey:e.apiKey,appName:r.name,v:Lo},o=K2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function $2(r){const e=await H2(r),n=Zi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:X2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=xi(r,"network-request-failed"),m=Zi().setTimeout(()=>{u(f)},F2.get());function g(){Zi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const J2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z2=500,W2=600,eC="_blank",tC="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nC(r,e,n,s=Z2,o=W2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...J2,width:s.toString(),height:o.toString(),top:u,left:f},p=_n().toLowerCase();n&&(m=ub(p)?eC:n),ob(p)&&(e=e||tC,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[N,q])=>`${A}${N}=${q},`,"");if(UR(p)&&m!=="_self")return iC(e||"",m),new _0(null);const b=window.open(e||"",m,E);Te(b,r,"popup-blocked");try{b.focus()}catch{}return new _0(b)}function iC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const rC="__/auth/handler",sC="emulator/auth/handler",aC=encodeURIComponent("fac");async function E0(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Lo,eventId:o};if(e instanceof Cg){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",aw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof vu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${aC}=${encodeURIComponent(g)}`:"";return`${oC(r)}?${pu(m).slice(1)}${p}`}function oC({config:r}){return r.emulator?Tg(r,sC):`https://${r.authDomain}/${rC}`}const Rm="webStorageSupport";class lC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sb,this._completeRedirectFn=O2,this._overrideRedirectResult=x2}async _openPopup(e,n,s,o){Mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await E0(e,n,s,qm(),o);return nC(e,u,Ig())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await E0(e,n,s,qm(),o);return h2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await $2(e),s=new V2(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mb()||lb()||wg()}}const uC=lC;var b0="@firebase/auth",T0="1.11.1";class cC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fC(r){Co(new Ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gb(r)},p=new HR(s,o,u,g);return XR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Co(new Ta("auth-internal",e=>{const n=Qh(e.getProvider("auth").getImmediate());return(s=>new cC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(b0,T0,hC(r)),Rs(b0,T0,"esm2020")}const dC=300,mC=GE("authIdTokenMaxAge")||dC;let S0=null;const gC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mC)return;const o=n?.token;S0!==o&&(S0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pC(r=JE()){const e=_g(r,"auth");if(e.isInitialized())return e.getImmediate();const n=KR(r,{popupRedirectResolver:uC,persistence:[E2,l2,Sb]}),s=GE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=gC(u.toString());r2(n,f,()=>f(n.currentUser)),i2(n,m=>f(m))}}const o=HE("auth");return o&&$R(n,`http://${o}`),n}function yC(){return document.getElementsByTagName("head")?.[0]??document}FR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=xi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",yC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fC("Browser");var vC="firebase",_C="12.6.0";Rs(vC,_C,"app");var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Cs,Nb;(function(){var r;function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(M,D,L){for(var I=Array(arguments.length-2),je=2;je<arguments.length;je++)I[je-2]=arguments[je];return w.prototype[D].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],D=R.g[2];let L=R.g[3],I;I=w+(L^C&(D^L))+M[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(D^w&(C^D))+M[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(C^L&(w^C))+M[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(w^D&(L^w))+M[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(L^C&(D^L))+M[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(D^w&(C^D))+M[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(C^L&(w^C))+M[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(w^D&(L^w))+M[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(L^C&(D^L))+M[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(D^w&(C^D))+M[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(C^L&(w^C))+M[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(w^D&(L^w))+M[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(L^C&(D^L))+M[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(D^w&(C^D))+M[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(C^L&(w^C))+M[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(w^D&(L^w))+M[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(D^L&(C^D))+M[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(w^C))+M[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(L^w))+M[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(D^L))+M[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^L&(C^D))+M[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(w^C))+M[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(L^w))+M[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(D^L))+M[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^L&(C^D))+M[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(w^C))+M[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(L^w))+M[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(D^L))+M[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^L&(C^D))+M[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(w^C))+M[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(L^w))+M[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(D^L))+M[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(C^D^L)+M[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^D)+M[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^C)+M[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^w)+M[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^L)+M[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^D)+M[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^C)+M[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^w)+M[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^L)+M[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^D)+M[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^C)+M[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^w)+M[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^L)+M[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^D)+M[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^C)+M[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^w)+M[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(D^(C|~L))+M[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~D))+M[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~C))+M[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~w))+M[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~L))+M[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~D))+M[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~C))+M[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~w))+M[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~L))+M[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~D))+M[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~C))+M[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~w))+M[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~L))+M[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~D))+M[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~C))+M[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~w))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,M=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(M[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,M),D=0;break}}else for(;L<w;)if(M[D++]=R[L++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)R[w++]=this.g[C]>>>M&255;return R};function u(R,w){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function f(R,w){this.h=w;const C=[];let M=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;M&&L==w||(C[D]=L,M=!1)}this.g=C}var m={};function g(R){return-128<=R&&R<128?u(R,function(w){return new f([w|0],w<0?-1:0)}):new f([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return F(p(-R));const w=[];let C=1;for(let M=0;R>=C;M++)w[M]=R/C|0,C*=4294967296;return new f(w,0)}function E(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return F(E(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(w,8));let M=b;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const I=parseInt(R.substring(L,L+D),w);D<8?(D=p(Math.pow(w,D)),M=M.j(D).add(p(I))):(M=M.j(C),M=M.add(p(I)))}return M}var b=g(0),A=g(1),N=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-F(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);R+=(M>=0?M:4294967296+M)*w,w*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(q(this))return"0";if(Q(this))return"-"+F(this).toString(R);const w=p(Math.pow(R,6));var C=this;let M="";for(;;){const D=fe(C,w).g;C=ee(C,D.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,q(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function q(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function Q(R){return R.h==-1}r.l=function(R){return R=ee(this,R),Q(R)?-1:q(R)?0:1};function F(R){const w=R.g.length,C=[];for(let M=0;M<w;M++)C[M]=~R.g[M];return new f(C,~R.h).add(A)}r.abs=function(){return Q(this)?F(this):this},r.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let M=0;for(let D=0;D<=w;D++){let L=M+(this.i(D)&65535)+(R.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);M=I>>>16,L&=65535,I&=65535,C[D]=I<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ee(R,w){return R.add(F(w))}r.j=function(R){if(q(this)||q(R))return b;if(Q(this))return Q(R)?F(this).j(F(R)):F(F(this).j(R));if(Q(R))return F(this.j(F(R)));if(this.l(N)<0&&R.l(N)<0)return p(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<R.g.length;D++){const L=this.i(M)>>>16,I=this.i(M)&65535,je=R.i(D)>>>16,lt=R.i(D)&65535;C[2*M+2*D]+=I*lt,re(C,2*M+2*D),C[2*M+2*D+1]+=L*lt,re(C,2*M+2*D+1),C[2*M+2*D+1]+=I*je,re(C,2*M+2*D+1),C[2*M+2*D+2]+=L*je,re(C,2*M+2*D+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new f(C,0)};function re(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function ne(R,w){this.g=R,this.h=w}function fe(R,w){if(q(w))throw Error("division by zero");if(q(R))return new ne(b,b);if(Q(R))return w=fe(F(R),w),new ne(F(w.g),F(w.h));if(Q(w))return w=fe(R,F(w)),new ne(F(w.g),w.h);if(R.g.length>30){if(Q(R)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=w;M.l(R)<=0;)C=le(C),M=le(M);var D=oe(C,1),L=oe(M,1);for(M=oe(M,2),C=oe(C,2);!q(M);){var I=L.add(M);I.l(R)<=0&&(D=D.add(C),L=I),M=oe(M,1),C=oe(C,1)}return w=ee(R,D.j(w)),new ne(D,w)}for(D=b;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=p(C),I=L.j(w);Q(I)||I.l(R)>0;)C-=M,L=p(C),I=L.j(w);q(L)&&(L=A),D=D.add(L),R=ee(R,I)}return new ne(D,R)}r.B=function(R){return fe(this,R).h},r.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)&R.i(M);return new f(C,this.h&R.h)},r.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)|R.i(M);return new f(C,this.h|R.h)},r.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)^R.i(M);return new f(C,this.h^R.h)};function le(R){const w=R.g.length+1,C=[];for(let M=0;M<w;M++)C[M]=R.i(M)<<1|R.i(M-1)>>>31;return new f(C,R.h)}function oe(R,w){const C=w>>5;w%=32;const M=R.g.length-C,D=[];for(let L=0;L<M;L++)D[L]=w>0?R.i(L+C)>>>w|R.i(L+C+1)<<32-w:R.i(L+C);return new f(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Nb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Cs=f}).apply(typeof A0<"u"?A0:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ob,Fl,Mb,hh,Gm,Vb,kb,Lb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in _))break e;_=_[P]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,P,G){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return y.prototype[P].apply(S,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const y=c.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function q(c,y){for(let S=1;S<arguments.length;S++){const P=arguments[S];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=c.length||0;const G=P.length||0;c.length=_+G;for(let ae=0;ae<G;ae++)c[_+ae]=P[ae]}else c.push(P)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function ee(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,_){const S=ne.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new Q(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,oe=!1,R=new re,w=()=>{const c=Promise.resolve(void 0);le=()=>{c.then(C)}};function C(){for(var c;c=ee();){try{c.h.call(c.g)}catch(_){F(_)}var y=ne;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}oe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function je(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(je,D),je.prototype.init=function(c,y){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),K=0;function ie(c,y,_,S,P){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=P,this.key=++K,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Re(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function Be(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function V(c){const y={};for(const _ in c)y[_]=c[_];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let _,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(_ in S)c[_]=S[_];for(let G=0;G<X.length;G++)_=X[G],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,_,S,P){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ae=ve(c,y,S,P);return ae>-1?(y=c[ae],_||(y.fa=!1)):(y=new ie(y,this.src,G,!!S,P),y.fa=_,c.push(y)),y};function _e(c,y){const _=y.type;if(_ in c.g){var S=c.g[_],P=Array.prototype.indexOf.call(S,y,void 0),G;(G=P>=0)&&Array.prototype.splice.call(S,P,1),G&&(ge(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ve(c,y,_,S){for(let P=0;P<c.length;++P){const G=c[P];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==S)return P}return-1}var De="closure_lm_"+(Math.random()*1e6|0),et={};function Fe(c,y,_,S,P){if(Array.isArray(y)){for(let G=0;G<y.length;G++)Fe(c,y[G],_,S,P);return null}return _=Pr(_),c&&c[lt]?c.J(y,_,m(S)?!!S.capture:!1,P):Ve(c,y,_,!1,S,P)}function Ve(c,y,_,S,P,G){if(!y)throw Error("Invalid event type");const ae=m(P)?!!P.capture:!!P;let Ce=Cn(c);if(Ce||(c[De]=Ce=new ue(c)),_=Ce.add(y,_,S,ae,G),_.proxy)return _;if(S=ti(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)L||(P=ae),P===void 0&&(P=!1),c.addEventListener(y.toString(),S,P);else if(c.attachEvent)c.attachEvent(It(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ti(){function c(_){return y.call(c.src,c.listener,_)}const y=ni;return c}function en(c,y,_,S,P){if(Array.isArray(y))for(var G=0;G<y.length;G++)en(c,y[G],_,S,P);else S=m(S)?!!S.capture:!!S,_=Pr(_),c&&c[lt]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],_=ve(y,_,S,P),_>-1&&(ge(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Cn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ve(y,_,S,P)),(_=c>-1?y[c]:null)&&zn(_))}function zn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[lt])_e(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(It(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Cn(y))?(_e(_,c),_.h==0&&(_.src=null,y[De]=null)):ge(c)}}}function It(c){return c in et?et[c]:et[c]="on"+c}function ni(c,y){if(c.da)c=!0;else{y=new je(y,this);const _=c.listener,S=c.ha||c.src;c.fa&&zn(c),c=_.call(S,y)}return c}function Cn(c){return c=c[De],c instanceof ue?c:null}var Ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pr(c){return typeof c=="function"?c:(c[Ur]||(c[Ur]=function(y){return c.handleEvent(y)}),c[Ur])}function ft(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}b(ft,M),ft.prototype[lt]=!0,ft.prototype.removeEventListener=function(c,y,_,S){en(this,c,y,_,S)};function tt(c,y){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var P=y;y=new D(S,c),se(y,P)}P=!0;let G,ae;if(_)for(ae=_.length-1;ae>=0;ae--)G=y.g=_[ae],P=jn(G,S,!0,y)&&P;if(G=y.g=c,P=jn(G,S,!0,y)&&P,P=jn(G,S,!1,y)&&P,_)for(ae=0;ae<_.length;ae++)G=y.g=_[ae],P=jn(G,S,!1,y)&&P}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let S=0;S<_.length;S++)ge(_[S]);delete c.g[y],c.h--}}this.G=null},ft.prototype.J=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},ft.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function jn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let P=!0;for(let G=0;G<y.length;++G){const ae=y[G];if(ae&&!ae.da&&ae.capture==_){const Ce=ae.listener,At=ae.ha||ae.src;ae.fa&&_e(c.i,ae),P=Ce.call(At,S)!==!1&&P}}return P&&!S.defaultPrevented}function zr(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function js(c){c.g=zr(()=>{c.g=null,c.i&&(c.i=!1,js(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Qt extends M{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:js(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(c){M.call(this),this.h=c,this.g={}}b(sr,M);var Bs=[];function ii(c){Re(c.g,function(y,_){this.g.hasOwnProperty(_)&&zn(y)},c),c.g={}}sr.prototype.N=function(){sr.Z.N.call(this),ii(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=f.JSON.stringify,ar=f.JSON.parse,qs=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Bn(){}function Hs(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}b(qt,D);function hn(){D.call(this,"c")}b(hn,D);var dt={},xa=null;function or(){return xa=xa||new ft}dt.Ia="serverreachability";function Da(c){D.call(this,dt.Ia,c)}b(Da,D);function ri(c){const y=or();tt(y,new Da(y))}dt.STAT_EVENT="statevent";function lr(c,y){D.call(this,dt.STAT_EVENT,c),this.stat=y}b(lr,D);function Ne(c){const y=or();tt(y,new lr(y,c))}dt.Ja="timingevent";function mt(c,y){D.call(this,dt.Ja,c),this.size=y}b(mt,D);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function xt(){this.g=!0}xt.prototype.ua=function(){this.g=!1};function fn(c,y,_,S,P,G){c.info(function(){if(c.g)if(G){var ae="",Ce=G.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var At=Ce[Ke].split("=");if(At.length>1){const pt=At[0];At=At[1];const li=pt.split("_");ae=li.length>=2&&li[1]=="type"?ae+(pt+"="+At+"&"):ae+(pt+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+y+`
`+_+`
`+ae})}function Yt(c,y,_,S,P,G,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+y+`
`+_+`
`+G+" "+ae})}function Tt(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+St(c,_)+(S?" "+S:"")})}function In(c,y){c.info(function(){return"TIMEOUT: "+y})}xt.prototype.info=function(){};function St(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var _=G[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ae=1;ae<S.length;ae++)S[ae]=""}}}}return En(G)}catch{return y}}var dn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bn;function Hn(){}b(Hn,Bn),Hn.prototype.g=function(){return new XMLHttpRequest},bn=new Hn;function Tn(c){return encodeURIComponent(String(c))}function Fn(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function tn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.S=S||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}var Dt={},Kt={};function Vi(c,y,_){c.M=1,c.A=Fs(Ot(y)),c.u=_,c.R=!0,Na(c,null)}function Na(c,y){c.F=Date.now(),ki(c),c.B=Ot(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ka(_.i,"t",S),c.C=0,_=c.j.L,c.h=new Sn,c.g=Qu(c.j,_?y:null,!c.u),c.P>0&&(c.O=new Qt(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Bs[0]=P.toString()),P=Bs);for(let G=0;G<P.length;G++){const ae=Fe(_,P[G],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ri(),fn(c.i,c.v,c.B,c.l,c.S,c.u)}tn.prototype.ba=function(c){c=c.target;const y=this.O;y&&bi(c)==3?y.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=bi(this.g),At=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Ce!=4||At==7||(At==8||Ke<=0?ri(3):ri(2)),Li(this);var y=this.g.ca();this.X=y;var _=Ef(this);if(this.o=y==200,Yt(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var G=S;break t}}G=null}if(c=G)Tt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,c);else{this.o=!1,this.m=3,Ne(12),Gn(this),si(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<_.length;)if(pt=Mu(this,_),pt==Kt){Ce==4&&(this.m=4,Ne(14),c=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Dt){this.m=4,Ne(15),Tt(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Tt(this.i,this.l,pt,null),Ui(this,pt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||_.length!=0||this.h.h||(this.m=1,Ne(16),c=!1),this.o=this.o&&c,!c)Tt(this.i,this.l,_,"[Invalid Chunked Response]"),Gn(this),si(this);else if(_.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),sl(ae),ae.P=!0,Ne(11))}}else Tt(this.i,this.l,_,null),Ui(this,_);Ce==4&&Gn(this),this.o&&!this.K&&(Ce==4?qu(this.j,this):(this.o=!1,ki(this)))}else cr(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),Gn(this),si(this)}}}catch{}finally{}};function Ef(c){if(!Ou(c))return c.g.la();const y=nn(c.g);if(y==="")return"";let _="";const S=y.length,P=bi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Gn(c),si(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,_+=c.h.i.decode(y[G],{stream:!(P&&G==S-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Kt:(_=Number(y.substring(_,S)),isNaN(_)?Dt:(S+=1,S+_>y.length?Kt:(y=y.slice(S,S+_),c.C=S+_,y)))}tn.prototype.cancel=function(){this.K=!0,Gn(this)};function ki(c){c.T=Date.now()+c.H,Oa(c,c.H)}function Oa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gt(p(c.aa,c),y)}function Li(c){c.D&&(f.clearTimeout(c.D),c.D=null)}tn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(In(this.i,this.B),this.M!=2&&(ri(),Ne(17)),Gn(this),this.m=2,si(this)):Oa(this,this.T-c)};function si(c){c.j.I==0||c.K||qu(c.j,c)}function Gn(c){Li(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ii(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ui(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||zi(_.h,c))){if(!c.L&&zi(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ja(_),Yr(_);else break e;Js(_),Ne(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=gt(p(_.Va,_),6e3));Pi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Gi(_,11)}else if((c.L||_.g==c)&&ja(_),!I(y))for(P=_.Ba.g.parse(y),y=0;y<P.length;y++){let Ke=P[y];const pt=Ke[0];if(!(pt<=_.K))if(_.K=pt,Ke=Ke[1],_.I==2)if(Ke[0]=="c"){_.M=Ke[1],_.ba=Ke[2];const li=Ke[3];li!=null&&(_.ka=li,_.j.info("VER="+_.ka));const Qi=Ke[4];Qi!=null&&(_.za=Qi,_.j.info("SVER="+_.za));const Ti=Ke[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(S=1.5*Ti,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Si=c.g;if(Si){const Zs=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var G=S.h;G.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Yo(G,G.h),G.h=null))}if(S.G){const Ba=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(S.wa=Ba,Je(S.J,S.G,Ba))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var ae=c;if(S.na=Gu(S,S.L?S.ba:null,S.W),ae.L){Ko(S.h,ae);var Ce=ae,At=S.O;At&&(Ce.H=At),Ce.D&&(Li(Ce),ki(Ce)),S.g=ae}else ju(S);_.i.length>0&&Fi(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Gi(_,7);else _.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Gi(_,7):il(_):Ke[0]!="noop"&&_.l&&_.l.qa(Ke),_.A=0)}}ri(4)}catch{}}var Nt=class{constructor(c,y){this.g=c,this.map=y}};function Go(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pi(c){return c.h?1:c.g?c.g.size:0}function zi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Yo(c,y){c.g?c.g.add(y):c.h=y}function Ko(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Go.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return N(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let P,G=null;S>=0?(P=c[_].substring(0,S),G=c[_].substring(S+1)):P=c[_],y(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Qn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Qn?(this.l=c.l,Xt(this,c.j),this.o=c.o,this.g=c.g,jr(this,c.u),this.h=c.h,$o(this,Pu(c.i)),this.m=c.m):c&&(y=String(c).match(Vu))?(this.l=!1,Xt(this,y[1]||"",!0),this.o=ji(y[2]||""),this.g=ji(y[3]||"",!0),jr(this,y[4]),this.h=ji(y[5]||"",!0),$o(this,y[6]||"",!0),this.m=ji(y[7]||"")):(this.l=!1,this.i=new qr(null,this.l))}Qn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Gs(y,Va,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Gs(y,Va,!0),"@"),c.push(Tn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Gs(_,_.charAt(0)=="/"?Jo:ku,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Gs(_,Lu)),c.join("")},Qn.prototype.resolve=function(c){const y=Ot(this);let _=!!c.j;_?Xt(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var S=c.h;if(_)jr(y,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=y.h.lastIndexOf("/");P!=-1&&(S=y.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let ae=0;ae<P.length;){const Ce=P[ae++];Ce=="."?S&&ae==P.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&ae==P.length&&G.push("")):(G.push(Ce),S=!0)}S=G.join("/")}else S=P}return _?y.h=S:_=c.i.toString()!=="",_?$o(y,Pu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function Ot(c){return new Qn(c)}function Xt(c,y,_){c.j=_?ji(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function jr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function $o(c,y,_){y instanceof qr?(c.i=y,La(c.i,c.l)):(_||(y=Gs(y,Br)),c.i=new qr(y,c.l))}function Je(c,y,_){c.i.set(y,_)}function Fs(c){return Je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ji(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,xn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Va=/[#\/\?@]/g,ku=/[#\?:]/g,Jo=/[#\?]/g,Br=/[#\?@]/g,Lu=/#/g;function qr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ma(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=qr.prototype,r.add=function(c,y){Dn(this),this.i=null,c=Hr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Uu(c,y){Dn(c),y=Hr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Zo(c,y){return Dn(c),y=Hr(c,y),c.g.has(y)}r.forEach=function(c,y){Dn(this),this.g.forEach(function(_,S){_.forEach(function(P){c.call(y,P,S,this)},this)},this)};function Wo(c,y){Dn(c);let _=[];if(typeof y=="string")Zo(c,y)&&(_=_.concat(c.g.get(Hr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}r.set=function(c,y){return Dn(this),this.i=null,c=Hr(this,c),Zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Wo(this,c),c.length>0?String(c[0]):y):y};function ka(c,y,_){Uu(c,y),_.length>0&&(c.i=null,c.g.set(Hr(c,y),N(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const P=Tn(_);_=Wo(this,_);for(let G=0;G<_.length;G++){let ae=P;_[G]!==""&&(ae+="="+Tn(_[G])),c.push(ae)}}return this.i=c.join("&")};function Pu(c){const y=new qr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Hr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function La(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,S){const P=S.toLowerCase();S!=P&&(Uu(this,S),ka(this,P,_))},c)),c.j=y}function _i(c,y){const _=new xt;if(f.Image){const S=new Image;S.onload=E(ai,_,"TestLoadImage: loaded",!0,y,S),S.onerror=E(ai,_,"TestLoadImage: error",!1,y,S),S.onabort=E(ai,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(ai,_,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function el(c,y){const _=new xt,S=new AbortController,P=setTimeout(()=>{S.abort(),ai(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(P),G.ok?ai(_,"TestPingServer: ok",!0,y):ai(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(P),ai(_,"TestPingServer: error",!1,y)})}function ai(c,y,_,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(_)}catch{}}function Fr(){this.g=new qs}function Bi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Bi,Bn),Bi.prototype.g=function(){return new Qs(this.i,this.h)};function Qs(c,y){ft.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Qs,ft),r=Qs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Gr(this):Ei(this),this.readyState==3&&Ua(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Gr(this))},r.Na=function(c){this.g&&(this.response=c,Gr(this))},r.ga=function(){this.g&&Gr(this)};function Gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ei(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function oi(c){let y="";return Re(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ys(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=oi(_),typeof c=="string"?_!=null&&Tn(_):Je(c,y,_))}function nt(c){ft.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(nt,ft);var qi=/^https?$/i,tl=["POST","PUT"];r=nt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bn.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ks(this,G);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)_.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())_.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(tl,y,void 0)>=0)||S||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of _)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ks(this,G)}};function Ks(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,nl(c),ur(c)}function nl(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,tt(this,"complete"),tt(this,"abort"),ur(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},r.Xa=function(){Xs(this)};function Xs(c){if(c.h&&typeof u<"u"){if(c.v&&bi(c)==4)setTimeout(c.Ca.bind(c),0);else if(tt(c,"readystatechange"),bi(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=G===0){let ae=String(c.D).match(Vu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),S=!qi.test(ae?ae.toLowerCase():"")}_=S}if(_)tt(c,"complete"),tt(c,"success");else{c.o=6;try{var P=bi(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",nl(c)}}finally{ur(c)}}}}function ur(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||tt(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function bi(c){return c.g?c.g.readyState:0}r.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ar(y)}};function nn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cr(c){const y={};c=(c.g&&bi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var _=Fn(c[S]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[P]||[];y[P]=G,G.push(_)}Be(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Qr(c){this.za=0,this.i=[],this.j=new xt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,c),this.Za=Hi("retryDelaySeedMs",1e4,c),this.Ta=Hi("forwardChannelMaxRetries",2,c),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(c&&c.concurrentRequestLimit),this.Ba=new Fr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Qr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,_,S){Ne(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Gu(this,null,this.W),Fi(this)};function il(c){if(Pa(c),c.I==3){var y=c.V++,_=Ot(c.J);if(Je(_,"SID",c.M),Je(_,"RID",y),Je(_,"TYPE","terminate"),$s(c,_),y=new tn(c,c.j,y),y.M=2,y.A=Fs(Ot(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ki(y)}Fu(c)}function Yr(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function Pa(c){Yr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ja(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Fi(c){if(!Qo(c.h)&&!c.m){c.m=!0;var y=c.Ea;le||w(),oe||(le(),oe=!0),R.add(y,c),c.D=0}}function za(c,y){return Pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gt(p(c.Ea,c,y),Hu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new tn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),se(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=zu(this,P,y),_=Ot(this.J),Je(_,"RID",c),Je(_,"CVER",22),this.G&&Je(_,"X-HTTP-Session-Id",this.G),$s(this,_),G&&(this.R?y="headers="+Tn(oi(G))+"&"+y:this.u&&Ys(_,this.u,G)),Yo(this.h,P),this.Ra&&Je(_,"TYPE","init"),this.S?(Je(_,"$req",y),Je(_,"SID","null"),P.U=!0,Vi(P,_,null)):Vi(P,_,y),this.I=2}}else this.I==3&&(c?rl(this,c):this.i.length==0||Qo(this.h)||rl(this))};function rl(c,y){var _;y?_=y.l:_=c.V++;const S=Ot(c.J);Je(S,"SID",c.M),Je(S,"RID",_),Je(S,"AID",c.K),$s(c,S),c.u&&c.o&&Ys(S,c.u,c.o),_=new tn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=zu(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yo(c.h,_),Vi(_,S,y)}function $s(c,y){c.H&&Re(c.H,function(_,S){Je(y,S,_)}),c.l&&Re({},function(_,S){Je(y,S,_)})}function zu(c,y,_){_=Math.min(c.i.length,_);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ce=-1;for(;;){const At=["count="+_];Ce==-1?_>0?(Ce=P[0].g,At.push("ofs="+Ce)):Ce=0:At.push("ofs="+Ce);let Ke=!0;for(let pt=0;pt<_;pt++){var G=P[pt].g;const li=P[pt].map;if(G-=Ce,G<0)Ce=Math.max(0,P[pt].g-100),Ke=!1;else try{G="req"+G+"_"||"";try{var ae=li instanceof Map?li:Object.entries(li);for(const[Qi,Ti]of ae){let Si=Ti;m(Ti)&&(Si=En(Ti)),At.push(G+Qi+"="+encodeURIComponent(Si))}}catch(Qi){throw At.push(G+"type="+encodeURIComponent("_badmap")),Qi}}catch{S&&S(li)}}if(Ke){ae=At.join("&");break e}}ae=void 0}return c=c.i.splice(0,_),y.G=c,ae}function ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;le||w(),oe||(le(),oe=!0),R.add(y,c),c.A=0}}function Js(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gt(p(c.Da,c),Hu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gt(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),Yr(this),Bu(this))};function sl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Bu(c){c.g=new tn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ot(c.na);Je(y,"RID","rpc"),Je(y,"SID",c.M),Je(y,"AID",c.K),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Je(y,"TO",c.ia),Je(y,"TYPE","xmlhttp"),$s(c,y),c.u&&c.o&&Ys(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Fs(Ot(y)),_.u=null,_.R=!0,Na(_,c)}r.Va=function(){this.C!=null&&(this.C=null,Yr(this),Js(this),Ne(19))};function ja(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qu(c,y){var _=null;if(c.g==y){ja(c),sl(c),c.g=null;var S=2}else if(zi(c.h,y))_=y.G,Ko(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var P=c.D;S=or(),tt(S,new mt(S,_)),Fi(c)}else ju(c);else if(P=y.m,P==3||P==0&&y.X>0||!(S==1&&za(c,y)||S==2&&Js(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),P){case 1:Gi(c,5);break;case 4:Gi(c,10);break;case 3:Gi(c,6);break;default:Gi(c,2)}}}function Hu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Gi(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),S=c.Ua;const P=!S;S=new Qn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xt(S,"https"),Fs(S),P?_i(S.toString(),_):el(S.toString(),_)}else Ne(2);c.I=0,c.l&&c.l.pa(y),Fu(c),Pa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Fu(c){if(c.I=0,c.ja=[],c.l){const y=Xo(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ja,y),q(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function Gu(c,y,_){var S=_ instanceof Qn?Ot(_):new Qn(_);if(S.g!="")y&&(S.g=y+"."+S.g),jr(S,S.u);else{var P=f.location;S=P.protocol,y=y?y+"."+P.hostname:P.hostname,P=+P.port;const G=new Qn(null);S&&Xt(G,S),y&&(G.g=y),P&&jr(G,P),_&&(G.h=_),S=G}return _=c.G,y=c.wa,_&&y&&Je(S,_,y),Je(S,"VER",c.ka),$s(c,S),S}function Qu(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new nt(new Bi({ab:_})):new nt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Kr(){}Kr.prototype.g=function(c,y){return new An(c,y)};function An(c,y){ft.call(this),this.g=new Qr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new hr(this)}b(An,ft),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){il(this.g)},An.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=En(c),c=_);y.i.push(new Nt(y.Ya++,c)),y.I==3&&Fi(y)},An.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,An.Z.N.call(this)};function Ku(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Ku,qt);function Xu(){hn.call(this),this.status=1}b(Xu,hn);function hr(c){this.g=c}b(hr,Yu),hr.prototype.ra=function(){tt(this.g,"a")},hr.prototype.qa=function(c){tt(this.g,new Ku(c))},hr.prototype.pa=function(c){tt(this.g,new Xu)},hr.prototype.oa=function(){tt(this.g,"b")},Kr.prototype.createWebChannel=Kr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,Lb=function(){return new Kr},kb=function(){return or()},Vb=dt,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dn.NO_ERROR=0,dn.TIMEOUT=8,dn.HTTP_ERROR=6,hh=dn,mn.COMPLETE="complete",Mb=mn,Hs.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,Fl=Hs,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,Ob=nt}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const w0="@firebase/firestore",R0="4.9.2";class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Po="12.3.0";const Aa=new yg("@firebase/firestore");function vo(){return Aa.logLevel}function he(r,...e){if(Aa.logLevel<=Ue.DEBUG){const n=e.map(Dg);Aa.debug(`Firestore (${Po}): ${r}`,...n)}}function Vr(r,...e){if(Aa.logLevel<=Ue.ERROR){const n=e.map(Dg);Aa.error(`Firestore (${Po}): ${r}`,...n)}}function xo(r,...e){if(Aa.logLevel<=Ue.WARN){const n=e.map(Dg);Aa.warn(`Firestore (${Po}): ${r}`,...n)}}function Dg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ub(r,s,n)}function Ub(r,e,n){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vr(s),new Error(s)}function $e(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Ub(e,o,s)}function we(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Pb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(yn.UNAUTHENTICATED)))}shutdown(){}}class bC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class TC{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Is,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Is)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new Pb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class SC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new SC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=RC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Qm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Cm(o)===Cm(u)?Pe(o,u):Cm(o)?1:-1}return Pe(r.length,e.length)}const CC=55296,IC=57343;function Cm(r){const e=r.charCodeAt(0);return e>=CC&&e<=IC}function Do(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const I0="__name__";class Ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ji.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Ji.isNumericId(e),o=Ji.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):Qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class ot extends Ji{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const xC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Ji{construct(e,n,s){return new un(e,n,s)}static isValidIdentifier(e){return xC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I0}static keyField(){return new un([I0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ot.fromString(e))}static fromName(e){return new ye(ot.fromString(e).popFirst(5))}static empty(){return new ye(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ot(e.slice()))}}function zb(r,e,n){if(!n)throw new ce(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function DC(r,e,n,s){if(e===!0&&s===!0)throw new ce(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function x0(r){if(!ye.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function D0(r){if(ye.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Xh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function Di(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(r);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function zt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Eu(r,e){if(!jb(r))throw new ce(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(W.INVALID_ARGUMENT,n);return!0}const N0=-62135596800,O0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*O0);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N0)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:zt("string",ht._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ht(0,0))}static max(){return new Se(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function NC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new Ds(o,ye.empty(),e)}function OC(r){return new Ds(r.readTime,r.key,au)}class Ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ds(Se.min(),ye.empty(),au)}static max(){return new Ds(Se.max(),ye.empty(),au)}}function MC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const VC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==VC)throw r;he("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function LC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(r){return r.name==="IndexedDbTransactionError"}class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;const Og=-1;function Jh(r){return r==null}function Ch(r){return r===0&&1/r==-1/0}function UC(r){return typeof r=="number"&&Number.isInteger(r)&&!Ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Bb="";function PC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=M0(e)),e=zC(r.get(n),e);return M0(e)}function zC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Bb:n+="";break;default:n+=u}}return n}function M0(r){return r+Bb+""}function V0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ps(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function qb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new ln(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new ei([])}unionWith(e){let n=new Gt(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Hb("Invalid base64 string: "+u):u}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const jC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=jC.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Os(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}const Fb="server_timestamp",Gb="__type__",Qb="__previous_value__",Yb="__local_write_time__";function Mg(r){return(r?.mapValue?.fields||{})[Gb]?.stringValue===Fb}function Zh(r){const e=r.mapValue.fields[Qb];return Mg(e)?Zh(e):e}function ou(r){const e=Ns(r.mapValue.fields[Yb].timestampValue);return new ht(e.seconds,e.nanos)}class BC{constructor(e,n,s,o,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const Ih="(default)";class lu{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}const Kb="__type__",qC="__max__",nh={mapValue:{}},Xb="__vector__",xh="value";function Ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mg(r)?4:FC(r)?9007199254740991:HC(r)?10:11:be(28295,{value:r})}function rr(r,e){if(r===e)return!0;const n=Ms(r);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ou(r).isEqual(ou(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ns(o.timestampValue),m=Ns(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Os(o.bytesValue).isEqual(Os(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ct(o.doubleValue),m=Ct(u.doubleValue);return f===m?Ch(f)===Ch(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Do(r.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(V0(f)!==V0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!rr(f[g],m[g])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function uu(r,e){return(r.values||[]).find((n=>rr(n,e)))!==void 0}function No(r,e){if(r===e)return 0;const n=Ms(r),s=Ms(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Ct(u.integerValue||u.doubleValue),g=Ct(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return L0(r.timestampValue,e.timestampValue);case 4:return L0(ou(r),ou(e));case 5:return Qm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Os(u),g=Os(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Pe(m[p],g[p]);if(E!==0)return E}return Pe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Pe(Ct(u.latitude),Ct(f.latitude));return m!==0?m:Pe(Ct(u.longitude),Ct(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return U0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[xh]?.arrayValue,E=g[xh]?.arrayValue,b=Pe(p?.values?.length||0,E?.values?.length||0);return b!==0?b:U0(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const A=Qm(g[b],E[b]);if(A!==0)return A;const N=No(m[g[b]],p[E[b]]);if(N!==0)return N}return Pe(g.length,E.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function L0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=Ns(r),s=Ns(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function U0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=No(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function Oo(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ns(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Os(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ym(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Ym(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function fh(r){switch(Ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return Os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ps(s.fields,((u,f)=>{o+=u.length+fh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function P0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Km(r){return!!r&&"integerValue"in r}function Vg(r){return!!r&&"arrayValue"in r}function z0(r){return!!r&&"nullValue"in r}function j0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function HC(r){return(r?.mapValue?.fields||{})[Kb]?.stringValue===Xb}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ps(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(r.arrayValue.values[n]);return e}return{...r}}function FC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qC}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=un.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Jl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ps(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Un(Jl(this.value))}}function $b(r){const e=[];return Ps(r.fields,((n,s)=>{const o=new un([n]);if(dh(s)){const u=$b(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ei(e)}class vn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new vn(e,0,Se.min(),Se.min(),Se.min(),Un.empty(),0)}static newFoundDocument(e,n,s,o){return new vn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new vn(e,2,n,Se.min(),Se.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Se.min(),Se.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function B0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=No(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function q0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!rr(r.position[n],e.position[n]))return!1;return!0}class Nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function GC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Jb{}class Pt extends Jb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new YC(e,n,s):n==="array-contains"?new $C(e,s):n==="in"?new JC(e,s):n==="not-in"?new ZC(e,s):n==="array-contains-any"?new WC(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new KC(e,s):new XC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends Jb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ni(e,n)}matches(e){return Zb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zb(r){return r.op==="and"}function Wb(r){return QC(r)&&Zb(r)}function QC(r){for(const e of r.filters)if(e instanceof Ni)return!1;return!0}function Xm(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(Wb(r))return r.filters.map((e=>Xm(e))).join(",");{const e=r.filters.map((n=>Xm(n))).join(",");return`${r.op}(${e})`}}function eT(r,e){return r instanceof Pt?(function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)})(r,e):r instanceof Ni?(function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&eT(f,o.filters[m])),!0):!1})(r,e):void be(19439)}function tT(r){return r instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(r):r instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(tT).join(" ,")+"}"})(r):"Filter"}class YC extends Pt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class KC extends Pt{constructor(e,n){super(e,"in",n),this.keys=nT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XC extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=nT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nT(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class $C extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vg(n)&&uu(n.arrayValue,this.value)}}class JC extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class ZC extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class WC extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>uu(this.value.arrayValue,s)))}}class eI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function H0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new eI(r,e,n,s,o,u,f)}function kg(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Xm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Oo(s))).join(",")),e.Te=n}return e.Te}function Lg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!GC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!q0(r.startAt,e.startAt)&&q0(r.endAt,e.endAt)}function $m(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class bu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tI(r,e,n,s,o,u,f,m){return new bu(r,e,n,s,o,u,f,m)}function Ug(r){return new bu(r)}function F0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iT(r){return r.collectionGroup!==null}function Zl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Gt(un.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Nh(u,s))})),n.has(un.keyField().canonicalString())||e.Ie.push(new Nh(un.keyField(),s))}return e.Ie}function Wi(r){const e=we(r);return e.Ee||(e.Ee=nI(e,Zl(r))),e.Ee}function nI(r,e){if(r.limitType==="F")return H0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Nh(o.field,u)}));const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return H0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Jm(r,e){const n=r.filters.concat([e]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zm(r,e,n){return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Wh(r,e){return Lg(Wi(r),Wi(e))&&r.limitType===e.limitType}function rT(r){return`${kg(Wi(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tT(o))).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(Wi(r))}; limitType=${r.limitType})`}function ef(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=B0(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(f,m,g){const p=B0(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Zl(s),o))})(r,e)}function iI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sT(r){return(e,n)=>{let s=!1;for(const o of Zl(r)){const u=rI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rI(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?No(g,p):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class Ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return qb(this.inner)}size(){return this.innerSize}}const sI=new _t(ye.comparator);function kr(){return sI}const aT=new _t(ye.comparator);function Gl(...r){let e=aT;for(const n of r)e=e.insert(n.key,n);return e}function oT(r){let e=aT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function pa(){return Wl()}function lT(){return Wl()}function Wl(){return new Ra((r=>r.toString()),((r,e)=>r.isEqual(e)))}const aI=new _t(ye.comparator),oI=new Gt(ye.comparator);function ze(...r){let e=oI;for(const n of r)e=e.add(n);return e}const lI=new Gt(Pe);function uI(){return lI}function Pg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function uT(r){return{integerValue:""+r}}function cI(r,e){return UC(e)?uT(e):Pg(r,e)}class tf{constructor(){this._=void 0}}function hI(r,e,n){return r instanceof Oh?(function(o,u){const f={fields:{[Gb]:{stringValue:Fb},[Yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mg(u)&&(u=Zh(u)),u&&(f.fields[Qb]=u),{mapValue:f}})(n,e):r instanceof cu?hT(r,e):r instanceof hu?fT(r,e):(function(o,u){const f=cT(o,u),m=G0(f)+G0(o.Ae);return Km(f)&&Km(o.Ae)?uT(m):Pg(o.serializer,m)})(r,e)}function fI(r,e,n){return r instanceof cu?hT(r,e):r instanceof hu?fT(r,e):n}function cT(r,e){return r instanceof Mh?(function(s){return Km(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Oh extends tf{}class cu extends tf{constructor(e){super(),this.elements=e}}function hT(r,e){const n=dT(e);for(const s of r.elements)n.some((o=>rr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class hu extends tf{constructor(e){super(),this.elements=e}}function fT(r,e){let n=dT(e);for(const s of r.elements)n=n.filter((o=>!rr(o,s)));return{arrayValue:{values:n}}}class Mh extends tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function G0(r){return Ct(r.integerValue||r.doubleValue)}function dT(r){return Vg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof cu&&o instanceof cu||s instanceof hu&&o instanceof hu?Do(s.elements,o.elements,rr):s instanceof Mh&&o instanceof Mh?rr(s.Ae,o.Ae):s instanceof Oh&&o instanceof Oh})(r.transform,e.transform)}class mI{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class nf{}function mT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new rf(r.key,Pn.none()):new Tu(r.key,r.data,Pn.none());{const n=r.data,s=Un.empty();let o=new Gt(un.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new zs(r.key,s,new ei(o.toArray()),Pn.none())}}function gI(r,e,n){r instanceof Tu?(function(o,u,f){const m=o.value.clone(),g=Y0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof zs?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Y0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(gT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function eu(r,e,n,s){return r instanceof Tu?(function(u,f,m,g){if(!mh(u.precondition,f))return m;const p=u.value.clone(),E=K0(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof zs?(function(u,f,m,g){if(!mh(u.precondition,f))return m;const p=K0(u.fieldTransforms,g,f),E=f.data;return E.setAll(gT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function pI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=cT(s.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(s.field,u))}return n||null}function Q0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Do(s,o,((u,f)=>dI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends nf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends nf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Y0(r,e,n){const s=new Map;$e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,fI(f,m,n[o]))}return s}function K0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,hI(u,f,e))}return s}class rf extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yI extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&gI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=mT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((n,s)=>Q0(n,s)))&&Do(this.baseMutations,e.baseMutations,((n,s)=>Q0(n,s)))}}class zg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return aI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new zg(e,n,s,o)}}class _I{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Ge;function bI(r){switch(r){case W.OK:return be(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function pT(r){if(r===void 0)return Vr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ut.OK:return W.OK;case Ut.CANCELLED:return W.CANCELLED;case Ut.UNKNOWN:return W.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return W.INTERNAL;case Ut.UNAVAILABLE:return W.UNAVAILABLE;case Ut.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ut.NOT_FOUND:return W.NOT_FOUND;case Ut.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ut.ABORTED:return W.ABORTED;case Ut.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ut.DATA_LOSS:return W.DATA_LOSS;default:return be(39323,{code:r})}}(Ge=Ut||(Ut={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function TI(){return new TextEncoder}const SI=new Cs([4294967295,4294967295],0);function X0(r){const e=TI().encode(r),n=new Nb;return n.update(e),new Uint8Array(n.digest())}function $0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Cs([n,s],0),new Cs([o,u],0)]}class jg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Cs.fromNumber(s)));return o.compare(SI)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=X0(e),[s,o]=$0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new jg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=X0(e),[s,o]=$0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new sf(Se.min(),o,new _t(Pe),kr(),ze())}}class Su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Su(s,n,ze(),ze(),ze())}}class gh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class yT{constructor(e,n){this.targetId=e,this.Ce=n}}class vT{constructor(e,n,s=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class J0{constructor(){this.ve=0,this.Fe=Z0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new Su(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Z0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AI{constructor(e){this.Ge=e,this.ze=new Map,this.je=kr(),this.Je=ih(),this.He=ih(),this.Ye=new _t(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if($m(u))if(s===0){const f=new ye(u.path);this.et(n,f,vn.newNoDocument(f,Se.min()))}else $e(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Os(s).toUint8Array()}catch(g){if(g instanceof Hb)return xo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new jg(f,o,u)}catch(g){return xo(g instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&$m(m.target)){const g=new ye(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,vn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ze();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new sf(e,n,this.Ye,this.je,s);return this.je=kr(),this.Je=ih(),this.He=ih(),this.Ye=new _t(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new J0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new _t(ye.comparator)}function Z0(){return new _t(ye.comparator)}const wI={asc:"ASCENDING",desc:"DESCENDING"},RI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CI={and:"AND",or:"OR"};class II{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function Vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _T(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function xI(r,e){return Vh(r,e.toTimestamp())}function er(r){return $e(!!r,49232),Se.fromTimestamp((function(n){const s=Ns(n);return new ht(s.seconds,s.nanos)})(r))}function Bg(r,e){return eg(r,e).canonicalString()}function eg(r,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function ET(r){const e=ot.fromString(r);return $e(wT(e),10190,{key:e.toString()}),e}function tg(r,e){return Bg(r.databaseId,e.path)}function Im(r,e){const n=ET(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(TT(n))}function bT(r,e){return Bg(r.databaseId,e)}function DI(r){const e=ET(r);return e.length===4?ot.emptyPath():TT(e)}function ng(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TT(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function W0(r,e,n){return{name:tg(r,e),fields:n.value.mapValue.fields}}function NI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?($e(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?W.UNKNOWN:pT(p.code);return new ce(E,p.message||"")})(f);n=new vT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(r,s.document.name),u=er(s.document.updateTime),f=s.document.createTime?er(s.document.createTime):Se.min(),m=new Un({mapValue:{fields:s.document.fields}}),g=vn.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new gh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(r,s.document),u=s.readTime?er(s.readTime):Se.min(),f=vn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(r,s.document),u=s.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new EI(o,u),m=s.targetId;n=new yT(m,f)}}return n}function OI(r,e){let n;if(e instanceof Tu)n={update:W0(r,e.key,e.value)};else if(e instanceof rf)n={delete:tg(r,e.key)};else if(e instanceof zs)n={update:W0(r,e.key,e.data),updateMask:BI(e.fieldMask)};else{if(!(e instanceof yI))return be(16599,{Vt:e.type});n={verify:tg(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:xI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function MI(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?er(o.updateTime):er(u);return f.isEqual(Se.min())&&(f=er(u)),new mI(f,o.transformResults||[])})(n,e)))):[]}function VI(r,e){return{documents:[bT(r,e.path)]}}function kI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bT(r,o);const u=(function(p){if(p.length!==0)return AT(Ni.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(A){return{field:Eo(A.field),direction:PI(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Wm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function LI(r){let e=DI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const A=ST(b);return A instanceof Ni&&Wb(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((A=>(function(q){return new Nh(bo(q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,Jh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(b){const A=!!b.before,N=b.values||[];return new Dh(N,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const A=!b.before,N=b.values||[];return new Dh(N,A)})(n.endAt)),tI(e,o,f,u,m,"F",g,p)}function UI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bo(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bo(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=bo(n.unaryFilter.field);return Pt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pt.create(bo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((s=>ST(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function PI(r){return wI[r]}function zI(r){return RI[r]}function jI(r){return CI[r]}function Eo(r){return{fieldPath:r.canonicalString()}}function bo(r){return un.fromServerFormat(r.fieldPath)}function AT(r){return r instanceof Pt?(function(n){if(n.op==="=="){if(j0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(z0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(z0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:zI(n.op),value:n.value}}})(r):r instanceof Ni?(function(n){const s=n.getFilters().map((o=>AT(o)));return s.length===1?s[0]:{compositeFilter:{op:jI(n.op),filters:s}}})(r):be(54877,{filter:r})}function BI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function wT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ts{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qI{constructor(e){this.yt=e}}function HI(r){const e=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zm(e,e.limit,"L"):e}class FI{constructor(){this.Cn=new GI}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ds.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class GI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Gt(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Gt(ot.comparator)).toArray()}}const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RT=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(RT,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}const tE="LruGarbageCollector",QI=1048576;function nE([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class YI{constructor(e){this.Ir=e,this.buffer=new Gt(nE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(tE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?he(tE,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Vr(3e5)}))}}class XI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve($h.ce);const s=new YI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(eE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),vo()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function $I(r,e){return new XI(r,e)}class JI{constructor(){this.changes=new Ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class WI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&eu(s.mutation,o,ei.empty(),ht.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=pa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Gl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=pa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=kr();const f=Wl(),m=(function(){return Wl()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof zs)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),eu(E.mutation,p,E.mutation.getFieldMask(),ht.now())):f.set(p.key,ei.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new ZI(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new _t(((f,m)=>f-m)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||ei.empty();E=m.applyToLocalView(p,E),s.set(g,E);const b=(o.get(m.batchId)||ze()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=lT();E.forEach((A=>{if(!u.has(A)){const N=mT(n.get(A),s.get(A));N!==null&&b.set(A,N),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,b))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(pa());let m=au,g=u;return f.next((p=>te.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{g=g.insert(E,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,ze()))).next((E=>({batchId:m,changes:oT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const p=(function(b,A){return new bu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((b,A)=>{f=f.insert(b,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,vn.newInvalidDocument(E)))}));let m=Gl();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&eu(E.mutation,p,ei.empty(),ht.now()),ef(n,p)&&(m=m.insert(g,p))})),m}))}}class ex{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:er(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:HI(o.bundledQuery),readTime:er(o.readTime)}})(n)),te.resolve()}}class tx{constructor(){this.overlays=new _t(ye.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=pa();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=pa(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new _t(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=pa(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=pa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new _I(n,s));let u=this.qr.get(n);u===void 0&&(u=ze(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class nx{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class qg{constructor(){this.Qr=new Gt(Jt.$r),this.Ur=new Gt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new ot([])),s=new Jt(n,e),o=new Jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new ot([])),s=new Jt(n,e),o=new Jt(n,e+1);let u=ze();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class ix{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new vI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Jt(n,0),o=new Jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt(Pe);return n.forEach((o=>{const u=new Jt(o,0),f=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Jt(new ye(u),0);let m=new Gt(Pe);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Jt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rx{constructor(e){this.ri=e,this.docs=(function(){return new _t(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let s=kr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=kr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||MC(OC(E),s)<=0||(o.has(E.key)||ef(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new sx(this)}getSize(e){return te.resolve(this.size)}}class sx extends JI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class ax{constructor(e){this.persistence=e,this.si=new Ra((n=>kg(n)),Lg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new qg,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class CT{constructor(e,n){this.ui={},this.overlays={},this.ci=new $h(0),this.li=!1,this.li=!0,this.hi=new nx,this.referenceDelegate=e(this),this.Pi=new ax(this),this.indexManager=new FI,this.remoteDocumentCache=(function(o){return new rx(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new qI(n),this.Ii=new ex(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new ix(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new ox(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class ox extends kC{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Ri=new qg,this.Vi=null}static mi(e){return new Hg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.pi=new Ra((s=>PC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=$I(this,n)}static mi(e,n){return new kh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fg(e,n.fromCache,s,o)}}class lx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ux{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ew()?8:LC(_n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new lx;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(vo()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(vo()<=Ue.DEBUG&&he("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vo()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):te.resolve())}ys(e,n){if(F0(n))return te.resolve(null);let s=Wi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ze(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,Zm(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return F0(n)||o.isEqual(Se.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(vo()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,f,n,NC(o,au)).next((m=>m)))}))}Ds(e,n){let s=new Gt(sT(e));return n.forEach(((o,u)=>{ef(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return vo()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,Ds.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Gg="LocalStore",cx=3e8;class hx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new _t(Pe),this.xs=new Ra((u=>kg(u)),Lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function fx(r,e,n,s){return new hx(r,e,n,s)}async function IT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ze();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function dx(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const b=p.batch,A=b.keys();let N=te.resolve();return A.forEach((q=>{N=N.next((()=>E.getEntry(g,q))).next((Q=>{const F=p.docVersions.get(q);$e(F!==null,48541),Q.version.compareTo(F)<0&&(b.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),E.addEntry(Q)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ze();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function xT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function mx(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,b)=>{const A=o.get(b);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let N=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(cn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(b,N),(function(Q,F,ee){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=cx?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(A,N,E)&&m.push(n.Pi.updateTargetData(u,N))}));let g=kr(),p=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(gx(u,f,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function gx(r,e,n){let s=ze(),o=ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=kr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):he(Gg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function px(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Og),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function yx(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ig(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!jo(f))throw f;he(Gg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function iE(r,e,n){const s=we(r);let o=Se.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const b=we(g),A=b.xs.get(E);return A!==void 0?te.resolve(b.Ms.get(A)):b.Pi.getTargetData(p,E)})(s,f,Wi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:ze()))).next((m=>(vx(s,iI(e),m),{documents:m,Qs:u})))))}function vx(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class rE{constructor(){this.activeTargetIds=uI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _x{constructor(){this.Mo=new rE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ex{Oo(e){}shutdown(){}}const sE="ConnectivityMonitor";class aE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(sE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(sE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function rg(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const xm="RestConnection",bx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=rg(),m=this.zo(e,n.toUriEncodedString());he(xm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=ko(p);return this.Jo(e,m,g,s,E).then((b=>(he(xm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw xo(xm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=bx[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class Sx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class Ax extends Tx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=rg();return new Promise(((m,g)=>{const p=new Ob;p.setWithCredentials(!0),p.listenOnce(Mb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const b=p.getResponseJson();he(pn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case hh.TIMEOUT:he(pn,`RPC '${e}' ${f} timed out`),g(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const A=p.getStatus();if(he(pn,`RPC '${e}' ${f} failed with status:`,A,"response text:",p.getResponseText()),A>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const q=N?.error;if(q&&q.status&&q.message){const Q=(function(ee){const re=ee.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(re)>=0?re:W.UNKNOWN})(q.status);g(new ce(Q,q.message))}else g(new ce(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ce(W.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(pn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);he(pn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=rg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Lb(),m=kb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");he(pn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);this.I_(b);let A=!1,N=!1;const q=new Sx({Yo:F=>{N?he(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(he(pn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),he(pn,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Zo:()=>b.close()}),Q=(F,ee,re)=>{F.listen(ee,(ne=>{try{re(ne)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return Q(b,Fl.EventType.OPEN,(()=>{N||(he(pn,`RPC '${e}' stream ${o} transport opened.`),q.o_())})),Q(b,Fl.EventType.CLOSE,(()=>{N||(N=!0,he(pn,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(b))})),Q(b,Fl.EventType.ERROR,(F=>{N||(N=!0,xo(pn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),q.a_(new ce(W.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Fl.EventType.MESSAGE,(F=>{if(!N){const ee=F.data[0];$e(!!ee,16349);const re=ee,ne=re?.error||re[0]?.error;if(ne){he(pn,`RPC '${e}' stream ${o} received error:`,ne);const fe=ne.status;let le=(function(w){const C=Ut[w];if(C!==void 0)return pT(C)})(fe),oe=ne.message;le===void 0&&(le=W.INTERNAL,oe="Unknown error status: "+fe+" with message "+ne.message),N=!0,q.a_(new ce(le,oe)),b.close()}else he(pn,`RPC '${e}' stream ${o} received:`,ee),q.u_(ee)}})),Q(m,Vb.STAT_EVENT,(F=>{F.stat===Gm.PROXY?he(pn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Gm.NOPROXY&&he(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dm(){return typeof document<"u"?document:null}function af(r){return new II(r,!0)}class DT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const oE="PersistentStream";class NT{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(oE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(oE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wx extends NT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=NI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?er(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ng(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=$m(g)?{documents:VI(u,g)}:{query:kI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_T(u,f.resumeToken);const p=Wm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const p=Wm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=UI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ng(this.serializer),n.removeTarget=e,this.q_(n)}}class Rx extends NT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=MI(e.writeResults,e.commitTime),s=er(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ng(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>OI(this.serializer,s)))};this.q_(n)}}class Cx{}class Ix extends Cx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,eg(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,eg(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class Dx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ca(this)&&(he(wa,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await Au(p),p.Ra.set("Unknown"),p.Ea.delete(4),await of(p)})(this))}))})),this.Ra=new xx(s,o)}}async function of(r){if(Ca(r))for(const e of r.da)await e(!0)}async function Au(r){for(const e of r.da)await e(!1)}function OT(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xg(n)?Kg(n):Bo(n).O_()&&Yg(n,e))}function Qg(r,e){const n=we(r),s=Bo(n);n.Ia.delete(e),s.O_()&&MT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ca(n)&&n.Ra.set("Unknown"))}function Yg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(r).Y_(e)}function MT(r,e){r.Va.Ue(e),Bo(r).Z_(e)}function Kg(r){r.Va=new AI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Bo(r).start(),r.Ra.ua()}function Xg(r){return Ca(r)&&!Bo(r).x_()&&r.Ia.size>0}function Ca(r){return we(r).Ea.size===0}function VT(r){r.Va=void 0}async function Nx(r){r.Ra.set("Online")}async function Ox(r){r.Ia.forEach(((e,n)=>{Yg(r,e)}))}async function Mx(r,e){VT(r),Xg(r)?(r.Ra.ha(e),Kg(r)):r.Ra.set("Unknown")}async function Vx(r,e,n){if(r.Ra.set("Online"),e instanceof vT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(r,s)}else if(e instanceof gh?r.Va.Ze(e):e instanceof yT?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await xT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),MT(u,g);const b=new Ts(E.target,g,p,E.sequenceNumber);Yg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(wa,"Failed to raise snapshot:",s),await Lh(r,s)}}async function Lh(r,e,n){if(!jo(e))throw e;r.Ea.add(1),await Au(r),r.Ra.set("Offline"),n||(n=()=>xT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(wa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await of(r)}))}function kT(r,e){return e().catch((n=>Lh(r,n,e)))}async function lf(r){const e=we(r),n=Vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Og;for(;kx(e);)try{const o=await px(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Lx(e,o)}catch(o){await Lh(e,o)}LT(e)&&UT(e)}function kx(r){return Ca(r)&&r.Ta.length<10}function Lx(r,e){r.Ta.push(e);const n=Vs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function LT(r){return Ca(r)&&!Vs(r).x_()&&r.Ta.length>0}function UT(r){Vs(r).start()}async function Ux(r){Vs(r).ra()}async function Px(r){const e=Vs(r);for(const n of r.Ta)e.ea(n.mutations)}async function zx(r,e,n){const s=r.Ta.shift(),o=zg.from(s,e,n);await kT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await lf(r)}async function jx(r,e){e&&Vs(r).X_&&await(async function(s,o){if((function(f){return bI(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();Vs(s).B_(),await kT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(s)}})(r,e),LT(r)&&UT(r)}async function lE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),he(wa,"RemoteStore received new credentials");const s=Ca(n);n.Ea.add(3),await Au(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await of(n)}async function Bx(r,e){const n=we(r);e?(n.Ea.delete(2),await of(n)):e||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function Bo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new wx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Nx.bind(null,r),t_:Ox.bind(null,r),r_:Mx.bind(null,r),H_:Vx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Xg(r)?Kg(r):r.Ra.set("Unknown")):(await r.ma.stop(),VT(r))}))),r.ma}function Vs(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new Rx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ux.bind(null,r),r_:jx.bind(null,r),ta:Px.bind(null,r),na:zx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await lf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(wa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class $g{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new $g(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(r,e){if(Vr("AsyncQueue",`${e}: ${r}`),jo(r))return new ce(W.UNAVAILABLE,`${e}: ${r}`);throw r}class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class uE{constructor(){this.ga=new _t(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Vo{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Vo(e,n,wo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class qx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Hx{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=cE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ce(W.ABORTED,"Firestore shutting down"))}}function cE(){return new Ra((r=>rT(r)),Wh)}async function PT(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new qx,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Jg(f,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Zg(n)}async function zT(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Fx(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Zg(n)}function Gx(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Zg(r){r.Ca.forEach((e=>{e.next()}))}var sg,hE;(hE=sg||(sg={})).Ma="default",hE.Cache="cache";class jT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sg.Cache}}class BT{constructor(e){this.key=e}}class qT{constructor(e){this.key=e}}class Qx{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=sT(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new uE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const A=o.get(E),N=ef(this.query,b)?b:null,q=!!A&&this.mutatedKeys.has(A.key),Q=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let F=!1;A&&N?A.data.isEqual(N.data)?q!==Q&&(s.track({type:3,doc:N}),F=!0):this.su(A,N)||(s.track({type:2,doc:N}),F=!0,(g&&this.eu(N,g)>0||p&&this.eu(N,p)<0)&&(m=!0)):!A&&N?(s.track({type:0,doc:N}),F=!0):A&&!N&&(s.track({type:1,doc:A}),F=!0,(g||p)&&(m=!0)),F&&(N?(f=f.add(N),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(N,q){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:F})}};return Q(N)-Q(q)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new Vo(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new qT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new BT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wg="SyncEngine";class Yx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Kx{constructor(e){this.key=e,this.hu=!1}}class Xx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ra((m=>rT(m)),Wh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(ye.comparator),this.Au=new Map,this.Ru=new qg,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $x(r,e,n=!0){const s=KT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await HT(s,e,n,!0),o}async function Jx(r,e){const n=KT(r);await HT(n,e,!0,!1)}async function HT(r,e,n,s){const o=await yx(r.localStore,Wi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await Zx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&OT(r.remoteStore,o),m}async function Zx(r,e,n,s,o){r.pu=(b,A,N)=>(async function(Q,F,ee,re){let ne=F.view.ru(ee);ne.Cs&&(ne=await iE(Q.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,ne))));const fe=re&&re.targetChanges.get(F.targetId),le=re&&re.targetMismatches.get(F.targetId)!=null,oe=F.view.applyChanges(ne,Q.isPrimaryClient,fe,le);return dE(Q,F.targetId,oe.au),oe.snapshot})(r,b,A,N);const u=await iE(r.localStore,e,!0),f=new Qx(e,u.Qs),m=f.ru(u.documents),g=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);dE(r,n,p.au);const E=new Yx(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function Wx(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Wh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ig(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Qg(s.remoteStore,o.targetId),ag(s,o.targetId)})).catch(zo)):(ag(s,o.targetId),await ig(s.localStore,o.targetId,!0))}async function eD(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qg(n.remoteStore,s.targetId))}async function tD(r,e,n){const s=lD(r);try{const o=await(function(f,m){const g=we(f),p=ht.now(),E=m.reduce(((N,q)=>N.add(q.key)),ze());let b,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let q=kr(),Q=ze();return g.Ns.getEntries(N,E).next((F=>{q=F,q.forEach(((ee,re)=>{re.isValidDocument()||(Q=Q.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,q))).next((F=>{b=F;const ee=[];for(const re of m){const ne=pI(re,b.get(re.key).overlayedDocument);ne!=null&&ee.push(new zs(re.key,ne,$b(ne.value.mapValue),Pn.exists(!0)))}return g.mutationQueue.addMutationBatch(N,p,ee,m)})).next((F=>{A=F;const ee=F.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(N,F.batchId,ee)}))})).then((()=>({batchId:A.batchId,changes:oT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new _t(Pe)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await wu(s,o.changes),await lf(s.remoteStore)}catch(o){const u=Jg(o,"Failed to persist write");n.reject(u)}}async function FT(r,e){const n=we(r);try{const s=await mx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?$e(f.hu,14607):o.removedDocuments.size>0&&($e(f.hu,42227),f.hu=!1))})),await wu(n,s,e)}catch(s){await zo(s)}}function fE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=we(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,b)=>{for(const A of b.Sa)A.va(m)&&(p=!0)})),p&&Zg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function nD(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new _t(ye.comparator);f=f.insert(u,vn.newNoDocument(u,Se.min()));const m=ze().add(u),g=new sf(Se.min(),new Map,new _t(Pe),f,m);await FT(s,g),s.du=s.du.remove(u),s.Au.delete(e),ep(s)}else await ig(s.localStore,e,!1).then((()=>ag(s,e,n))).catch(zo)}async function iD(r,e){const n=we(r),s=e.batch.batchId;try{const o=await dx(n.localStore,e);QT(n,s,null),GT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await zo(o)}}async function rD(r,e,n){const s=we(r);try{const o=await(function(f,m){const g=we(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>($e(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);QT(s,e,n),GT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wu(s,o)}catch(o){await zo(o)}}function GT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function QT(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ag(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||YT(r,s)}))}function YT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Qg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ep(r))}function dE(r,e,n){for(const s of n)s instanceof BT?(r.Ru.addReference(s.key,e),sD(r,s)):s instanceof qT?(he(Wg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||YT(r,s.key)):be(19791,{wu:s})}function sD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(Wg,"New document in limbo: "+n),r.Eu.add(s),ep(r))}function ep(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new Kx(n)),r.du=r.du.insert(n,s),OT(r.remoteStore,new Ts(Wi(Ug(n.path)),s,"TargetPurposeLimboResolution",$h.ce))}}async function wu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Fg.As(g.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,p){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(p,(A=>te.forEach(A.Es,(N=>E.persistence.referenceDelegate.addReference(b,A.targetId,N))).next((()=>te.forEach(A.ds,(N=>E.persistence.referenceDelegate.removeReference(b,A.targetId,N)))))))))}catch(b){if(!jo(b))throw b;he(Gg,"Failed to update sequence numbers: "+b)}for(const b of p){const A=b.targetId;if(!b.fromCache){const N=E.Ms.get(A),q=N.snapshotVersion,Q=N.withLastLimboFreeSnapshotVersion(q);E.Ms=E.Ms.insert(A,Q)}}})(s.localStore,u))}async function aD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){he(Wg,"User change. New user:",e.toKey());const s=await IT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ce(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Ls)}}function oD(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function KT(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nD.bind(null,e),e.Pu.H_=Fx.bind(null,e.eventManager),e.Pu.yu=Gx.bind(null,e.eventManager),e}function lD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rD.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return fx(this.persistence,new ux,e.initialUser,this.serializer)}Cu(e){return new CT(Hg.mi,this.serializer)}Du(e){return new _x}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class uD extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new KI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new CT((s=>kh.mi(s,n)),this.serializer)}}class og{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aD.bind(null,this.syncEngine),await Bx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Hx})()}createDatastore(e){const n=af(e.databaseInfo.databaseId),s=(function(u){return new Ax(u)})(e.databaseInfo);return(function(u,f,m,g){return new Ix(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new Dx(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>fE(this.syncEngine,n,0)),(function(){return aE.v()?new aE:new Ex})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,E){const b=new Xx(o,u,f,m,g,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);he(wa,"RemoteStore shutting down."),s.Ea.add(5),await Au(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}og.provider={build:()=>new og};class XT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ks="FirestoreClient";class cD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(ks,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(ks,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Jg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),he(ks,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await IT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function mE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await hD(r);he(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>lE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>lE(e.remoteStore,o))),r._onlineComponents=e}async function hD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ks,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Nm(r,new Uh)}}else he(ks,"Using default OfflineComponentProvider"),await Nm(r,new uD(void 0));return r._offlineComponents}async function $T(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ks,"Using user provided OnlineComponentProvider"),await mE(r,r._uninitializedComponentsProvider._online)):(he(ks,"Using default OnlineComponentProvider"),await mE(r,new og))),r._onlineComponents}function fD(r){return $T(r).then((e=>e.syncEngine))}async function lg(r){const e=await $T(r),n=e.eventManager;return n.onListen=$x.bind(null,e.syncEngine),n.onUnlisten=Wx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eD.bind(null,e.syncEngine),n}function dD(r,e,n={}){const s=new Is;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new XT({next:A=>{E.Nu(),f.enqueueAndForget((()=>zT(u,b))),A.fromCache&&g.source==="server"?p.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new jT(m,E,{includeMetadataChanges:!0,qa:!0});return PT(u,b)})(await lg(r),r.asyncQueue,e,n,s))),s.promise}function JT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const gE=new Map;const ZT="firestore.googleapis.com",pE=!0;class yE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZT,this.ssl=pE}else this.host=e.host,this.ssl=e.ssl??pE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QI)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new EC;switch(s.type){case"firstParty":return new AC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=gE.get(n);s&&(he("ComponentProvider","Removing Datastore"),gE.delete(n),s.terminate())})(this),Promise.resolve()}}function mD(r,e,n,s={}){r=Di(r,uf);const o=ko(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(QE(`https://${m}`),YE("Firestore",!0)),u.host!==ZT&&u.host!==m&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ba(g,f)&&(r._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=yn.MOCK_USER;else{p=GA(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(b)}r._authCredentials=new bC(new Pb(p,E))}}class Ia{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Eu(n,jt._jsonSchema))return new jt(e,s||null,new ye(ot.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:zt("string",jt._jsonSchemaVersion),referencePath:zt("string")};class xs extends Ia{constructor(e,n,s){super(e,n,Ug(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ye(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function tp(r,e,...n){if(r=Bt(r),zb("collection","path",e),r instanceof uf){const s=ot.fromString(e,...n);return D0(s),new xs(r,null,s)}{if(!(r instanceof jt||r instanceof xs))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return D0(s),new xs(r.firestore,null,s)}}function va(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=Ng.newId()),zb("doc","path",e),r instanceof uf){const s=ot.fromString(e,...n);return x0(s),new jt(r,null,new ye(s))}{if(!(r instanceof jt||r instanceof xs))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return x0(s),new jt(r.firestore,r instanceof xs?r.converter:null,new ye(s))}}const vE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DT(this,"async_queue_retry"),this._c=()=>{const s=Dm();s&&he(vE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;he(vE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Vr("INTERNAL UNHANDLED ERROR: ",EE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$g.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:EE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function EE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function bE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ls extends uf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new _E,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function gD(r,e){const n=typeof r=="object"?r:JE(),s=typeof r=="string"?r:Ih,o=_g(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=HA("firestore");u&&mD(o,...u)}return o}function cf(r){if(r._terminated)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pD(r),r._firestoreClient}function pD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new BC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,JT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new cD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(cn.fromBase64String(e))}catch(n){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:zt("string",vi._jsonSchemaVersion),bytes:zt("string")};class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class np{constructor(e){this._methodName=e}}class tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,tr._jsonSchema))return new tr(e.latitude,e.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:zt("string",tr._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class nr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new nr(e.vectorValues);throw new ce(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:zt("string",nr._jsonSchemaVersion),vectorValues:zt("object")};const yD=/^__.*__$/;class vD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class WT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function e1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class ip{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ip({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(e1(this.Ac)&&yD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _D{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||af(e)}Cc(e,n,s,o=!1){return new ip({Ac:e,methodName:n,Dc:s,path:un.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(r){const e=r._freezeSettings(),n=af(r._databaseId);return new _D(r._databaseId,!!e.ignoreUndefinedProperties,n)}function t1(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);rp("Data must be an object, but it was:",f,s);const m=r1(s,f);let g,p;if(u.merge)g=new ei(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const A=ug(e,b,n);if(!f.contains(A))throw new ce(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);a1(E,A)||E.push(A)}g=new ei(E),p=f.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=f.fieldTransforms;return new vD(new Un(m),g,p)}class ff extends np{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function n1(r,e,n,s){const o=r.Cc(1,e,n);rp("Data must be an object, but it was:",o,s);const u=[],f=Un.empty();Ps(s,((g,p)=>{const E=sp(e,g,n);p=Bt(p);const b=o.yc(E);if(p instanceof ff)u.push(E);else{const A=Cu(p,b);A!=null&&(u.push(E),f.set(E,A))}}));const m=new ei(u);return new WT(f,m,o.fieldTransforms)}function i1(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[ug(e,s,n)],g=[o];if(u.length%2!=0)throw new ce(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(ug(e,u[A])),g.push(u[A+1]);const p=[],E=Un.empty();for(let A=m.length-1;A>=0;--A)if(!a1(p,m[A])){const N=m[A];let q=g[A];q=Bt(q);const Q=f.yc(N);if(q instanceof ff)p.push(N);else{const F=Cu(q,Q);F!=null&&(p.push(N),E.set(N,F))}}const b=new ei(p);return new WT(E,b,f.fieldTransforms)}function ED(r,e,n,s=!1){return Cu(n,r.Cc(s?4:3,e))}function Cu(r,e){if(s1(r=Bt(r)))return rp("Unsupported field value:",e,r),r1(r,e);if(r instanceof np)return(function(s,o){if(!e1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Cu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ht.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof ht){const u=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof tr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vi)return{bytesValue:_T(o.serializer,s._byteString)};if(s instanceof jt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof nr)return(function(f,m){return{mapValue:{fields:{[Kb]:{stringValue:Xb},[xh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pg(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Xh(s)}`)})(r,e)}function r1(r,e){const n={};return qb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(r,((s,o)=>{const u=Cu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function s1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ht||r instanceof tr||r instanceof vi||r instanceof jt||r instanceof np||r instanceof nr)}function rp(r,e,n){if(!s1(n)||!jb(n)){const s=Xh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ug(r,e,n){if((e=Bt(e))instanceof Ru)return e._internalPath;if(typeof e=="string")return sp(r,e);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const bD=new RegExp("[~\\*/\\[\\]]");function sp(r,e,n){if(e.search(bD)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ce(W.INVALID_ARGUMENT,m+r+g)}function a1(r,e){return r.some((n=>n.isEqual(e)))}class o1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(l1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TD extends o1{data(){return super.data()}}function l1(r,e){return typeof e=="string"?sp(r,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}function u1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ap{}class SD extends ap{}function c1(r,e,...n){let s=[];e instanceof ap&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof lp)).length,m=u.filter((g=>g instanceof op)).length;if(f>1||f>0&&m>0)throw new ce(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class op extends SD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new op(e,n,s)}_apply(e){const n=this._parse(e);return h1(e._query,n),new Ia(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=hf(e.firestore);return(function(u,f,m,g,p,E,b){let A;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){SE(b,E);const q=[];for(const Q of b)q.push(TE(g,u,Q));A={arrayValue:{values:q}}}else A=TE(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||SE(b,E),A=ED(m,f,b,E==="in"||E==="not-in");return Pt.create(p,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class lp extends ap{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)h1(f,g),f=Jm(f,g)})(e._query,n),new Ia(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function TE(r,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new ce(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iT(e)&&n.indexOf("/")!==-1)throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ot.fromString(n));if(!ye.isDocumentKey(s))throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return P0(r,new ye(s))}if(n instanceof jt)return P0(r,n._key);throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function SE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h1(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AD{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ps(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[xh].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new nr(n)}convertGeoPoint(e){return new tr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);$e(wT(s),9688,{name:e});const o=new lu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function f1(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends o1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(l1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:zt("string",_a._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class ph extends _a{data(e={}){return super.data(e)}}class Ea{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ph(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:wD(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:zt("string",Ea._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class up extends AD{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function RD(r){r=Di(r,Ia);const e=Di(r.firestore,Ls),n=cf(e),s=new up(e);return u1(r._query),dD(n,r._query).then((o=>new Ea(e,s,r,o)))}function yh(r,e,n,...s){r=Di(r,jt);const o=Di(r.firestore,Ls),u=hf(o);let f;return f=typeof(e=Bt(e))=="string"||e instanceof Ru?i1(u,"updateDoc",r._key,e,n,s):n1(u,"updateDoc",r._key,e),df(o,[f.toMutation(r._key,Pn.exists(!0))])}function CD(r){return df(Di(r.firestore,Ls),[new rf(r._key,Pn.none())])}function ID(r,e){const n=Di(r.firestore,Ls),s=va(r),o=f1(r.converter,e);return df(n,[t1(hf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Pn.exists(!1))]).then((()=>s))}function xD(r,...e){r=Bt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||bE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bE(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof jt)f=Di(r.firestore,Ls),m=Ug(r._key.path),u={next:g=>{e[s]&&e[s](DD(f,r,g))},error:e[s+1],complete:e[s+2]};else{const g=Di(r,Ia);f=Di(g.firestore,Ls),m=g._query;const p=new up(f);u={next:E=>{e[s]&&e[s](new Ea(f,p,g,E))},error:e[s+1],complete:e[s+2]},u1(r._query)}return(function(p,E,b,A){const N=new XT(A),q=new jT(E,N,b);return p.asyncQueue.enqueueAndForget((async()=>PT(await lg(p),q))),()=>{N.Nu(),p.asyncQueue.enqueueAndForget((async()=>zT(await lg(p),q)))}})(cf(f),m,o,u)}function df(r,e){return(function(s,o){const u=new Is;return s.asyncQueue.enqueueAndForget((async()=>tD(await fD(s),o,u))),u.promise})(cf(r),e)}function DD(r,e,n){const s=n.docs.get(e._key),o=new up(r);return new _a(r,o,e._key,s,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}class ND{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hf(e)}set(e,n,s){this._verifyNotCommitted();const o=Om(e,this._firestore),u=f1(o.converter,n,s),f=t1(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Pn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Om(e,this._firestore);let f;return f=typeof(n=Bt(n))=="string"||n instanceof Ru?i1(this._dataReader,"WriteBatch.update",u._key,n,s,o):n1(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Om(e,this._firestore);return this._mutations=this._mutations.concat(new rf(n._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Om(r,e){if((r=Bt(r)).firestore!==e)throw new ce(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function OD(r){return cf(r=Di(r,Ls)),new ND(r,(e=>df(r,e)))}(function(e,n=!0){(function(o){Po=o})(Lo),Co(new Ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ls(new TC(s.getProvider("auth-internal")),new wC(f,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Rs(w0,R0,e),Rs(w0,R0,"esm2020")})();const MD={apiKey:"AIzaSyAx1NQceCmvJcLj8lLYEMfBh3WdkClEADE",authDomain:"story2scale-7e039.firebaseapp.com",projectId:"story2scale-7e039",storageBucket:"story2scale-7e039.firebasestorage.app",messagingSenderId:"116406874952",appId:"1:116406874952:web:027d12066dd3ee47c1f97d"},d1=$E(MD),Dr=gD(d1),Ss=pC(d1);var Kl=zE();function VD(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return B.useMemo(()=>s=>{e.forEach(o=>o(s))},e)}const mf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qo(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function cp(r){return"nodeType"in r}function Rn(r){var e,n;return r?qo(r)?r:cp(r)&&(e=(n=r.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function hp(r){const{Document:e}=Rn(r);return r instanceof e}function Iu(r){return qo(r)?!1:r instanceof Rn(r).HTMLElement}function m1(r){return r instanceof Rn(r).SVGElement}function Ho(r){return r?qo(r)?r.document:cp(r)?hp(r)?r:Iu(r)||m1(r)?r.ownerDocument:document:document:document}const Oi=mf?B.useLayoutEffect:B.useEffect;function gf(r){const e=B.useRef(r);return Oi(()=>{e.current=r}),B.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e.current==null?void 0:e.current(...s)},[])}function kD(){const r=B.useRef(null),e=B.useCallback((s,o)=>{r.current=setInterval(s,o)},[]),n=B.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,n]}function fu(r,e){e===void 0&&(e=[r]);const n=B.useRef(r);return Oi(()=>{n.current!==r&&(n.current=r)},e),n}function xu(r,e){const n=B.useRef();return B.useMemo(()=>{const s=r(n.current);return n.current=s,s},[...e])}function zh(r){const e=gf(r),n=B.useRef(null),s=B.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,s]}function jh(r){const e=B.useRef();return B.useEffect(()=>{e.current=r},[r]),e.current}let Mm={};function Du(r,e){return B.useMemo(()=>{if(e)return e;const n=Mm[r]==null?0:Mm[r]+1;return Mm[r]=n,r+"-"+n},[r,e])}function g1(r){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,f)=>{const m=Object.entries(f);for(const[g,p]of m){const E=u[g];E!=null&&(u[g]=E+r*p)}return u},{...e})}}const Ro=g1(1),du=g1(-1);function LD(r){return"clientX"in r&&"clientY"in r}function pf(r){if(!r)return!1;const{KeyboardEvent:e}=Rn(r.target);return e&&r instanceof e}function UD(r){if(!r)return!1;const{TouchEvent:e}=Rn(r.target);return e&&r instanceof e}function Bh(r){if(UD(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:n}=r.touches[0];return{x:e,y:n}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:n}=r.changedTouches[0];return{x:e,y:n}}}return LD(r)?{x:r.clientX,y:r.clientY}:null}const Us=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:n}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:n}=r;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(r){if(r)return[Us.Translate.toString(r),Us.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:n,easing:s}=r;return e+" "+n+"ms "+s}}}),AE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function PD(r){return r.matches(AE)?r:r.querySelector(AE)}const zD={display:"none"};function jD(r){let{id:e,value:n}=r;return vt.createElement("div",{id:e,style:zD},n)}function BD(r){let{id:e,announcement:n,ariaLiveType:s="assertive"}=r;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return vt.createElement("div",{id:e,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function qD(){const[r,e]=B.useState("");return{announce:B.useCallback(s=>{s!=null&&e(s)},[]),announcement:r}}const p1=B.createContext(null);function HD(r){const e=B.useContext(p1);B.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function FD(){const[r]=B.useState(()=>new Set),e=B.useCallback(s=>(r.add(s),()=>r.delete(s)),[r]);return[B.useCallback(s=>{let{type:o,event:u}=s;r.forEach(f=>{var m;return(m=f[o])==null?void 0:m.call(f,u)})},[r]),e]}const GD={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},QD={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:n}=r;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:n}=r;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function YD(r){let{announcements:e=QD,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=GD}=r;const{announce:u,announcement:f}=qD(),m=Du("DndLiveRegion"),[g,p]=B.useState(!1);if(B.useEffect(()=>{p(!0)},[]),HD(B.useMemo(()=>({onDragStart(b){let{active:A}=b;u(e.onDragStart({active:A}))},onDragMove(b){let{active:A,over:N}=b;e.onDragMove&&u(e.onDragMove({active:A,over:N}))},onDragOver(b){let{active:A,over:N}=b;u(e.onDragOver({active:A,over:N}))},onDragEnd(b){let{active:A,over:N}=b;u(e.onDragEnd({active:A,over:N}))},onDragCancel(b){let{active:A,over:N}=b;u(e.onDragCancel({active:A,over:N}))}}),[u,e])),!g)return null;const E=vt.createElement(vt.Fragment,null,vt.createElement(jD,{id:s,value:o.draggable}),vt.createElement(BD,{id:m,announcement:f}));return n?Kl.createPortal(E,n):E}var Ft;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Ft||(Ft={}));function qh(){}function wE(r,e){return B.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function KD(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return B.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Mi=Object.freeze({x:0,y:0});function XD(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function $D(r,e){const n=Bh(r);if(!n)return"0 0";const s={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return s.x+"% "+s.y+"%"}function JD(r,e){let{data:{value:n}}=r,{data:{value:s}}=e;return n-s}function ZD(r,e){let{data:{value:n}}=r,{data:{value:s}}=e;return s-n}function RE(r){let{left:e,top:n,height:s,width:o}=r;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+s},{x:e+o,y:n+s}]}function y1(r,e){if(!r||r.length===0)return null;const[n]=r;return n[e]}const v1=r=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=r;const o=RE(e),u=[];for(const f of s){const{id:m}=f,g=n.get(m);if(g){const p=RE(g),E=o.reduce((A,N,q)=>A+XD(p[q],N),0),b=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:f,value:b}})}}return u.sort(JD)};function WD(r,e){const n=Math.max(e.top,r.top),s=Math.max(e.left,r.left),o=Math.min(e.left+e.width,r.left+r.width),u=Math.min(e.top+e.height,r.top+r.height),f=o-s,m=u-n;if(s<o&&n<u){const g=e.width*e.height,p=r.width*r.height,E=f*m,b=E/(g+p-E);return Number(b.toFixed(4))}return 0}const eN=r=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=r;const o=[];for(const u of s){const{id:f}=u,m=n.get(f);if(m){const g=WD(m,e);g>0&&o.push({id:f,data:{droppableContainer:u,value:g}})}}return o.sort(ZD)};function tN(r,e,n){return{...r,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function _1(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:Mi}function nN(r){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((f,m)=>({...f,top:f.top+r*m.y,bottom:f.bottom+r*m.y,left:f.left+r*m.x,right:f.right+r*m.x}),{...n})}}const iN=nN(1);function E1(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function rN(r,e,n){const s=E1(e);if(!s)return r;const{scaleX:o,scaleY:u,x:f,y:m}=s,g=r.left-f-(1-o)*parseFloat(n),p=r.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),E=o?r.width/o:r.width,b=u?r.height/u:r.height;return{width:E,height:b,top:p,right:g+E,bottom:p+b,left:g}}const sN={ignoreTransform:!1};function Fo(r,e){e===void 0&&(e=sN);let n=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:E}=Rn(r).getComputedStyle(r);p&&(n=rN(n,p,E))}const{top:s,left:o,width:u,height:f,bottom:m,right:g}=n;return{top:s,left:o,width:u,height:f,bottom:m,right:g}}function CE(r){return Fo(r,{ignoreTransform:!0})}function aN(r){const e=r.innerWidth,n=r.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function oN(r,e){return e===void 0&&(e=Rn(r).getComputedStyle(r)),e.position==="fixed"}function lN(r,e){e===void 0&&(e=Rn(r).getComputedStyle(r));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=e[o];return typeof u=="string"?n.test(u):!1})}function yf(r,e){const n=[];function s(o){if(e!=null&&n.length>=e||!o)return n;if(hp(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Iu(o)||m1(o)||n.includes(o))return n;const u=Rn(r).getComputedStyle(o);return o!==r&&lN(o,u)&&n.push(o),oN(o,u)?n:s(o.parentNode)}return r?s(r):n}function b1(r){const[e]=yf(r,1);return e??null}function Vm(r){return!mf||!r?null:qo(r)?r:cp(r)?hp(r)||r===Ho(r).scrollingElement?window:Iu(r)?r:null:null}function T1(r){return qo(r)?r.scrollX:r.scrollLeft}function S1(r){return qo(r)?r.scrollY:r.scrollTop}function cg(r){return{x:T1(r),y:S1(r)}}var Zt;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Zt||(Zt={}));function A1(r){return!mf||!r?!1:r===document.scrollingElement}function w1(r){const e={x:0,y:0},n=A1(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},s={x:r.scrollWidth-n.width,y:r.scrollHeight-n.height},o=r.scrollTop<=e.y,u=r.scrollLeft<=e.x,f=r.scrollTop>=s.y,m=r.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:f,isRight:m,maxScroll:s,minScroll:e}}const uN={x:.2,y:.2};function cN(r,e,n,s,o){let{top:u,left:f,right:m,bottom:g}=n;s===void 0&&(s=10),o===void 0&&(o=uN);const{isTop:p,isBottom:E,isLeft:b,isRight:A}=w1(r),N={x:0,y:0},q={x:0,y:0},Q={height:e.height*o.y,width:e.width*o.x};return!p&&u<=e.top+Q.height?(N.y=Zt.Backward,q.y=s*Math.abs((e.top+Q.height-u)/Q.height)):!E&&g>=e.bottom-Q.height&&(N.y=Zt.Forward,q.y=s*Math.abs((e.bottom-Q.height-g)/Q.height)),!A&&m>=e.right-Q.width?(N.x=Zt.Forward,q.x=s*Math.abs((e.right-Q.width-m)/Q.width)):!b&&f<=e.left+Q.width&&(N.x=Zt.Backward,q.x=s*Math.abs((e.left+Q.width-f)/Q.width)),{direction:N,speed:q}}function hN(r){if(r===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:e,left:n,right:s,bottom:o}=r.getBoundingClientRect();return{top:e,left:n,right:s,bottom:o,width:r.clientWidth,height:r.clientHeight}}function R1(r){return r.reduce((e,n)=>Ro(e,cg(n)),Mi)}function fN(r){return r.reduce((e,n)=>e+T1(n),0)}function dN(r){return r.reduce((e,n)=>e+S1(n),0)}function C1(r,e){if(e===void 0&&(e=Fo),!r)return;const{top:n,left:s,bottom:o,right:u}=e(r);b1(r)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const mN=[["x",["left","right"],fN],["y",["top","bottom"],dN]];class fp{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=yf(n),o=R1(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,f,m]of mN)for(const g of f)Object.defineProperty(this,g,{get:()=>{const p=m(s),E=o[u]-p;return this.rect[g]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class tu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var o;(o=this.target)==null||o.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function gN(r){const{EventTarget:e}=Rn(r);return r instanceof e?r:Ho(r)}function km(r,e){const n=Math.abs(r.x),s=Math.abs(r.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var yi;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(yi||(yi={}));function IE(r){r.preventDefault()}function pN(r){r.stopPropagation()}var He;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(He||(He={}));const I1={start:[He.Space,He.Enter],cancel:[He.Esc],end:[He.Space,He.Enter,He.Tab]},yN=(r,e)=>{let{currentCoordinates:n}=e;switch(r.code){case He.Right:return{...n,x:n.x+25};case He.Left:return{...n,x:n.x-25};case He.Down:return{...n,y:n.y+25};case He.Up:return{...n,y:n.y-25}}};class dp{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new tu(Ho(n)),this.windowListeners=new tu(Rn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(yi.Resize,this.handleCancel),this.windowListeners.add(yi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(yi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&C1(s),n(Mi)}handleKeyDown(e){if(pf(e)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=I1,coordinateGetter:f=yN,scrollBehavior:m="smooth"}=o,{code:g}=e;if(u.end.includes(g)){this.handleEnd(e);return}if(u.cancel.includes(g)){this.handleCancel(e);return}const{collisionRect:p}=s.current,E=p?{x:p.left,y:p.top}:Mi;this.referenceCoordinates||(this.referenceCoordinates=E);const b=f(e,{active:n,context:s.current,currentCoordinates:E});if(b){const A=du(b,E),N={x:0,y:0},{scrollableAncestors:q}=s.current;for(const Q of q){const F=e.code,{isTop:ee,isRight:re,isLeft:ne,isBottom:fe,maxScroll:le,minScroll:oe}=w1(Q),R=hN(Q),w={x:Math.min(F===He.Right?R.right-R.width/2:R.right,Math.max(F===He.Right?R.left:R.left+R.width/2,b.x)),y:Math.min(F===He.Down?R.bottom-R.height/2:R.bottom,Math.max(F===He.Down?R.top:R.top+R.height/2,b.y))},C=F===He.Right&&!re||F===He.Left&&!ne,M=F===He.Down&&!fe||F===He.Up&&!ee;if(C&&w.x!==b.x){const D=Q.scrollLeft+A.x,L=F===He.Right&&D<=le.x||F===He.Left&&D>=oe.x;if(L&&!A.y){Q.scrollTo({left:D,behavior:m});return}L?N.x=Q.scrollLeft-D:N.x=F===He.Right?Q.scrollLeft-le.x:Q.scrollLeft-oe.x,N.x&&Q.scrollBy({left:-N.x,behavior:m});break}else if(M&&w.y!==b.y){const D=Q.scrollTop+A.y,L=F===He.Down&&D<=le.y||F===He.Up&&D>=oe.y;if(L&&!A.x){Q.scrollTo({top:D,behavior:m});return}L?N.y=Q.scrollTop-D:N.y=F===He.Down?Q.scrollTop-le.y:Q.scrollTop-oe.y,N.y&&Q.scrollBy({top:-N.y,behavior:m});break}}this.handleMove(e,Ro(du(b,this.referenceCoordinates),N))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}dp.activators=[{eventName:"onKeyDown",handler:(r,e,n)=>{let{keyboardCodes:s=I1,onActivation:o}=e,{active:u}=n;const{code:f}=r.nativeEvent;if(s.start.includes(f)){const m=u.activatorNode.current;return m&&r.target!==m?!1:(r.preventDefault(),o?.({event:r.nativeEvent}),!0)}return!1}}];function xE(r){return!!(r&&"distance"in r)}function DE(r){return!!(r&&"delay"in r)}class mp{constructor(e,n,s){var o;s===void 0&&(s=gN(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:u}=e,{target:f}=u;this.props=e,this.events=n,this.document=Ho(f),this.documentListeners=new tu(this.document),this.listeners=new tu(s),this.windowListeners=new tu(Rn(f)),this.initialCoordinates=(o=Bh(u))!=null?o:Mi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(yi.Resize,this.handleCancel),this.windowListeners.add(yi.DragStart,IE),this.windowListeners.add(yi.VisibilityChange,this.handleCancel),this.windowListeners.add(yi.ContextMenu,IE),this.documentListeners.add(yi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(DE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(xE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:o}=this.props;o(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(yi.Click,pN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(yi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!o)return;const g=(n=Bh(e))!=null?n:Mi,p=du(o,g);if(!s&&m){if(xE(m)){if(m.tolerance!=null&&km(p,m.tolerance))return this.handleCancel();if(km(p,m.distance))return this.handleStart()}if(DE(m)&&km(p,m.tolerance))return this.handleCancel();this.handlePending(m,p);return}e.cancelable&&e.preventDefault(),f(g)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===He.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const vN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gp extends mp{constructor(e){const{event:n}=e,s=Ho(n.target);super(e,vN,s)}}gp.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const _N={move:{name:"mousemove"},end:{name:"mouseup"}};var hg;(function(r){r[r.RightClick=2]="RightClick"})(hg||(hg={}));class EN extends mp{constructor(e){super(e,_N,Ho(e.event.target))}}EN.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:s}=e;return n.button===hg.RightClick?!1:(s?.({event:n}),!0)}}];const Lm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class bN extends mp{constructor(e){super(e,Lm)}static setup(){return window.addEventListener(Lm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Lm.move.name,e)};function e(){}}}bN.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:s}=e;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var nu;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(nu||(nu={}));var Hh;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Hh||(Hh={}));function TN(r){let{acceleration:e,activator:n=nu.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:f=5,order:m=Hh.TreeOrder,pointerCoordinates:g,scrollableAncestors:p,scrollableAncestorRects:E,delta:b,threshold:A}=r;const N=AN({delta:b,disabled:!u}),[q,Q]=kD(),F=B.useRef({x:0,y:0}),ee=B.useRef({x:0,y:0}),re=B.useMemo(()=>{switch(n){case nu.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case nu.DraggableRect:return o}},[n,o,g]),ne=B.useRef(null),fe=B.useCallback(()=>{const oe=ne.current;if(!oe)return;const R=F.current.x*ee.current.x,w=F.current.y*ee.current.y;oe.scrollBy(R,w)},[]),le=B.useMemo(()=>m===Hh.TreeOrder?[...p].reverse():p,[m,p]);B.useEffect(()=>{if(!u||!p.length||!re){Q();return}for(const oe of le){if(s?.(oe)===!1)continue;const R=p.indexOf(oe),w=E[R];if(!w)continue;const{direction:C,speed:M}=cN(oe,w,re,e,A);for(const D of["x","y"])N[D][C[D]]||(M[D]=0,C[D]=0);if(M.x>0||M.y>0){Q(),ne.current=oe,q(fe,f),F.current=M,ee.current=C;return}}F.current={x:0,y:0},ee.current={x:0,y:0},Q()},[e,fe,s,Q,u,f,JSON.stringify(re),JSON.stringify(N),q,p,le,E,JSON.stringify(A)])}const SN={x:{[Zt.Backward]:!1,[Zt.Forward]:!1},y:{[Zt.Backward]:!1,[Zt.Forward]:!1}};function AN(r){let{delta:e,disabled:n}=r;const s=jh(e);return xu(o=>{if(n||!s||!o)return SN;const u={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Zt.Backward]:o.x[Zt.Backward]||u.x===-1,[Zt.Forward]:o.x[Zt.Forward]||u.x===1},y:{[Zt.Backward]:o.y[Zt.Backward]||u.y===-1,[Zt.Forward]:o.y[Zt.Forward]||u.y===1}}},[n,e,s])}function wN(r,e){const n=e!=null?r.get(e):void 0,s=n?n.node.current:null;return xu(o=>{var u;return e==null?null:(u=s??o)!=null?u:null},[s,e])}function RN(r,e){return B.useMemo(()=>r.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(f=>({eventName:f.eventName,handler:e(f.handler,s)}));return[...n,...u]},[]),[r,e])}var mu;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(mu||(mu={}));var fg;(function(r){r.Optimized="optimized"})(fg||(fg={}));const NE=new Map;function CN(r,e){let{dragging:n,dependencies:s,config:o}=e;const[u,f]=B.useState(null),{frequency:m,measure:g,strategy:p}=o,E=B.useRef(r),b=F(),A=fu(b),N=B.useCallback(function(ee){ee===void 0&&(ee=[]),!A.current&&f(re=>re===null?ee:re.concat(ee.filter(ne=>!re.includes(ne))))},[A]),q=B.useRef(null),Q=xu(ee=>{if(b&&!n)return NE;if(!ee||ee===NE||E.current!==r||u!=null){const re=new Map;for(let ne of r){if(!ne)continue;if(u&&u.length>0&&!u.includes(ne.id)&&ne.rect.current){re.set(ne.id,ne.rect.current);continue}const fe=ne.node.current,le=fe?new fp(g(fe),fe):null;ne.rect.current=le,le&&re.set(ne.id,le)}return re}return ee},[r,u,n,b,g]);return B.useEffect(()=>{E.current=r},[r]),B.useEffect(()=>{b||N()},[n,b]),B.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),B.useEffect(()=>{b||typeof m!="number"||q.current!==null||(q.current=setTimeout(()=>{N(),q.current=null},m))},[m,b,N,...s]),{droppableRects:Q,measureDroppableContainers:N,measuringScheduled:u!=null};function F(){switch(p){case mu.Always:return!1;case mu.BeforeDragging:return n;default:return!n}}}function pp(r,e){return xu(n=>r?n||(typeof e=="function"?e(r):r):null,[e,r])}function IN(r,e){return pp(r,e)}function xN(r){let{callback:e,disabled:n}=r;const s=gf(e),o=B.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return B.useEffect(()=>()=>o?.disconnect(),[o]),o}function vf(r){let{callback:e,disabled:n}=r;const s=gf(e),o=B.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return B.useEffect(()=>()=>o?.disconnect(),[o]),o}function DN(r){return new fp(Fo(r),r)}function OE(r,e,n){e===void 0&&(e=DN);const[s,o]=B.useState(null);function u(){o(g=>{if(!r)return null;if(r.isConnected===!1){var p;return(p=g??n)!=null?p:null}const E=e(r);return JSON.stringify(g)===JSON.stringify(E)?g:E})}const f=xN({callback(g){if(r)for(const p of g){const{type:E,target:b}=p;if(E==="childList"&&b instanceof HTMLElement&&b.contains(r)){u();break}}}}),m=vf({callback:u});return Oi(()=>{u(),r?(m?.observe(r),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[r]),s}function NN(r){const e=pp(r);return _1(r,e)}const ME=[];function ON(r){const e=B.useRef(r),n=xu(s=>r?s&&s!==ME&&r&&e.current&&r.parentNode===e.current.parentNode?s:yf(r):ME,[r]);return B.useEffect(()=>{e.current=r},[r]),n}function MN(r){const[e,n]=B.useState(null),s=B.useRef(r),o=B.useCallback(u=>{const f=Vm(u.target);f&&n(m=>m?(m.set(f,cg(f)),new Map(m)):null)},[]);return B.useEffect(()=>{const u=s.current;if(r!==u){f(u);const m=r.map(g=>{const p=Vm(g);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,cg(p)]):null}).filter(g=>g!=null);n(m.length?new Map(m):null),s.current=r}return()=>{f(r),f(u)};function f(m){m.forEach(g=>{const p=Vm(g);p?.removeEventListener("scroll",o)})}},[o,r]),B.useMemo(()=>r.length?e?Array.from(e.values()).reduce((u,f)=>Ro(u,f),Mi):R1(r):Mi,[r,e])}function VE(r,e){e===void 0&&(e=[]);const n=B.useRef(null);return B.useEffect(()=>{n.current=null},e),B.useEffect(()=>{const s=r!==Mi;s&&!n.current&&(n.current=r),!s&&n.current&&(n.current=null)},[r]),n.current?du(r,n.current):Mi}function VN(r){B.useEffect(()=>{if(!mf)return;const e=r.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},r.map(e=>{let{sensor:n}=e;return n}))}function kN(r,e){return B.useMemo(()=>r.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=f=>{u(f,e)},n},{}),[r,e])}function x1(r){return B.useMemo(()=>r?aN(r):null,[r])}const kE=[];function LN(r,e){e===void 0&&(e=Fo);const[n]=r,s=x1(n?Rn(n):null),[o,u]=B.useState(kE);function f(){u(()=>r.length?r.map(g=>A1(g)?s:new fp(e(g),g)):kE)}const m=vf({callback:f});return Oi(()=>{m?.disconnect(),f(),r.forEach(g=>m?.observe(g))},[r]),o}function D1(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return Iu(e)?e:r}function UN(r){let{measure:e}=r;const[n,s]=B.useState(null),o=B.useCallback(p=>{for(const{target:E}of p)if(Iu(E)){s(b=>{const A=e(E);return b?{...b,width:A.width,height:A.height}:A});break}},[e]),u=vf({callback:o}),f=B.useCallback(p=>{const E=D1(p);u?.disconnect(),E&&u?.observe(E),s(E?e(E):null)},[e,u]),[m,g]=zh(f);return B.useMemo(()=>({nodeRef:m,rect:n,setRef:g}),[n,m,g])}const PN=[{sensor:gp,options:{}},{sensor:dp,options:{}}],zN={current:{}},vh={draggable:{measure:CE},droppable:{measure:CE,strategy:mu.WhileDragging,frequency:fg.Optimized},dragOverlay:{measure:Fo}};class iu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const jN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new iu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:vh,measureDroppableContainers:qh,windowRect:null,measuringScheduled:!1},N1={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qh,draggableNodes:new Map,over:null,measureDroppableContainers:qh},Nu=B.createContext(N1),O1=B.createContext(jN);function BN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new iu}}}function qN(r,e){switch(e.type){case Ft.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ft.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case Ft.DragEnd:case Ft.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ft.RegisterDroppable:{const{element:n}=e,{id:s}=n,o=new iu(r.droppable.containers);return o.set(s,n),{...r,droppable:{...r.droppable,containers:o}}}case Ft.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=e,u=r.droppable.containers.get(n);if(!u||s!==u.key)return r;const f=new iu(r.droppable.containers);return f.set(n,{...u,disabled:o}),{...r,droppable:{...r.droppable,containers:f}}}case Ft.UnregisterDroppable:{const{id:n,key:s}=e,o=r.droppable.containers.get(n);if(!o||s!==o.key)return r;const u=new iu(r.droppable.containers);return u.delete(n),{...r,droppable:{...r.droppable,containers:u}}}default:return r}}function HN(r){let{disabled:e}=r;const{active:n,activatorEvent:s,draggableNodes:o}=B.useContext(Nu),u=jh(s),f=jh(n?.id);return B.useEffect(()=>{if(!e&&!s&&u&&f!=null){if(!pf(u)||document.activeElement===u.target)return;const m=o.get(f);if(!m)return;const{activatorNode:g,node:p}=m;if(!g.current&&!p.current)return;requestAnimationFrame(()=>{for(const E of[g.current,p.current]){if(!E)continue;const b=PD(E);if(b){b.focus();break}}})}},[s,e,o,f,u]),null}function M1(r,e){let{transform:n,...s}=e;return r!=null&&r.length?r.reduce((o,u)=>u({transform:o,...s}),n):n}function FN(r){return B.useMemo(()=>({draggable:{...vh.draggable,...r?.draggable},droppable:{...vh.droppable,...r?.droppable},dragOverlay:{...vh.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function GN(r){let{activeNode:e,measure:n,initialRect:s,config:o=!0}=r;const u=B.useRef(!1),{x:f,y:m}=typeof o=="boolean"?{x:o,y:o}:o;Oi(()=>{if(!f&&!m||!e){u.current=!1;return}if(u.current||!s)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const E=n(p),b=_1(E,s);if(f||(b.x=0),m||(b.y=0),u.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const A=b1(p);A&&A.scrollBy({top:b.y,left:b.x})}},[e,f,m,s,n])}const _f=B.createContext({...Mi,scaleX:1,scaleY:1});var vs;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(vs||(vs={}));const QN=B.memo(function(e){var n,s,o,u;let{id:f,accessibility:m,autoScroll:g=!0,children:p,sensors:E=PN,collisionDetection:b=eN,measuring:A,modifiers:N,...q}=e;const Q=B.useReducer(qN,void 0,BN),[F,ee]=Q,[re,ne]=FD(),[fe,le]=B.useState(vs.Uninitialized),oe=fe===vs.Initialized,{draggable:{active:R,nodes:w,translate:C},droppable:{containers:M}}=F,D=R!=null?w.get(R):null,L=B.useRef({initial:null,translated:null}),I=B.useMemo(()=>{var Ne;return R!=null?{id:R,data:(Ne=D?.data)!=null?Ne:zN,rect:L}:null},[R,D]),je=B.useRef(null),[lt,K]=B.useState(null),[ie,ge]=B.useState(null),Re=fu(q,Object.values(q)),Be=Du("DndDescribedBy",f),V=B.useMemo(()=>M.getEnabled(),[M]),X=FN(A),{droppableRects:se,measureDroppableContainers:ue,measuringScheduled:_e}=CN(V,{dragging:oe,dependencies:[C.x,C.y],config:X.droppable}),ve=wN(w,R),De=B.useMemo(()=>ie?Bh(ie):null,[ie]),et=lr(),Fe=IN(ve,X.draggable.measure);GN({activeNode:R!=null?w.get(R):null,config:et.layoutShiftCompensation,initialRect:Fe,measure:X.draggable.measure});const Ve=OE(ve,X.draggable.measure,Fe),ti=OE(ve?ve.parentElement:null),en=B.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),zn=M.getNodeFor((n=en.current.over)==null?void 0:n.id),It=UN({measure:X.dragOverlay.measure}),ni=(s=It.nodeRef.current)!=null?s:ve,Cn=oe?(o=It.rect)!=null?o:Ve:null,Ur=!!(It.nodeRef.current&&It.rect),Pr=NN(Ur?null:Ve),ft=x1(ni?Rn(ni):null),tt=ON(oe?zn??ve:null),jn=LN(tt),zr=M1(N,{transform:{x:C.x-Pr.x,y:C.y-Pr.y,scaleX:1,scaleY:1},activatorEvent:ie,active:I,activeNodeRect:Ve,containerNodeRect:ti,draggingNodeRect:Cn,over:en.current.over,overlayNodeRect:It.rect,scrollableAncestors:tt,scrollableAncestorRects:jn,windowRect:ft}),js=De?Ro(De,C):null,Qt=MN(tt),sr=VE(Qt),Bs=VE(Qt,[Ve]),ii=Ro(zr,sr),En=Cn?iN(Cn,zr):null,ar=I&&En?b({active:I,collisionRect:En,droppableRects:se,droppableContainers:V,pointerCoordinates:js}):null,qs=y1(ar,"id"),[Bn,Hs]=B.useState(null),qn=Ur?zr:Ro(zr,Bs),qt=tN(qn,(u=Bn?.rect)!=null?u:null,Ve),hn=B.useRef(null),dt=B.useCallback((Ne,mt)=>{let{sensor:gt,options:xt}=mt;if(je.current==null)return;const fn=w.get(je.current);if(!fn)return;const Yt=Ne.nativeEvent,Tt=new gt({active:je.current,activeNode:fn,event:Yt,options:xt,context:en,onAbort(St){if(!w.get(St))return;const{onDragAbort:mn}=Re.current,bn={id:St};mn?.(bn),re({type:"onDragAbort",event:bn})},onPending(St,dn,mn,bn){if(!w.get(St))return;const{onDragPending:Tn}=Re.current,Fn={id:St,constraint:dn,initialCoordinates:mn,offset:bn};Tn?.(Fn),re({type:"onDragPending",event:Fn})},onStart(St){const dn=je.current;if(dn==null)return;const mn=w.get(dn);if(!mn)return;const{onDragStart:bn}=Re.current,Hn={activatorEvent:Yt,active:{id:dn,data:mn.data,rect:L}};Kl.unstable_batchedUpdates(()=>{bn?.(Hn),le(vs.Initializing),ee({type:Ft.DragStart,initialCoordinates:St,active:dn}),re({type:"onDragStart",event:Hn}),K(hn.current),ge(Yt)})},onMove(St){ee({type:Ft.DragMove,coordinates:St})},onEnd:In(Ft.DragEnd),onCancel:In(Ft.DragCancel)});hn.current=Tt;function In(St){return async function(){const{active:mn,collisions:bn,over:Hn,scrollAdjustedTranslate:Tn}=en.current;let Fn=null;if(mn&&Tn){const{cancelDrop:tn}=Re.current;Fn={activatorEvent:Yt,active:mn,collisions:bn,delta:Tn,over:Hn},St===Ft.DragEnd&&typeof tn=="function"&&await Promise.resolve(tn(Fn))&&(St=Ft.DragCancel)}je.current=null,Kl.unstable_batchedUpdates(()=>{ee({type:St}),le(vs.Uninitialized),Hs(null),K(null),ge(null),hn.current=null;const tn=St===Ft.DragEnd?"onDragEnd":"onDragCancel";if(Fn){const Sn=Re.current[tn];Sn?.(Fn),re({type:tn,event:Fn})}})}}},[w]),xa=B.useCallback((Ne,mt)=>(gt,xt)=>{const fn=gt.nativeEvent,Yt=w.get(xt);if(je.current!==null||!Yt||fn.dndKit||fn.defaultPrevented)return;const Tt={active:Yt};Ne(gt,mt.options,Tt)===!0&&(fn.dndKit={capturedBy:mt.sensor},je.current=xt,dt(gt,mt))},[w,dt]),or=RN(E,xa);VN(E),Oi(()=>{Ve&&fe===vs.Initializing&&le(vs.Initialized)},[Ve,fe]),B.useEffect(()=>{const{onDragMove:Ne}=Re.current,{active:mt,activatorEvent:gt,collisions:xt,over:fn}=en.current;if(!mt||!gt)return;const Yt={active:mt,activatorEvent:gt,collisions:xt,delta:{x:ii.x,y:ii.y},over:fn};Kl.unstable_batchedUpdates(()=>{Ne?.(Yt),re({type:"onDragMove",event:Yt})})},[ii.x,ii.y]),B.useEffect(()=>{const{active:Ne,activatorEvent:mt,collisions:gt,droppableContainers:xt,scrollAdjustedTranslate:fn}=en.current;if(!Ne||je.current==null||!mt||!fn)return;const{onDragOver:Yt}=Re.current,Tt=xt.get(qs),In=Tt&&Tt.rect.current?{id:Tt.id,rect:Tt.rect.current,data:Tt.data,disabled:Tt.disabled}:null,St={active:Ne,activatorEvent:mt,collisions:gt,delta:{x:fn.x,y:fn.y},over:In};Kl.unstable_batchedUpdates(()=>{Hs(In),Yt?.(St),re({type:"onDragOver",event:St})})},[qs]),Oi(()=>{en.current={activatorEvent:ie,active:I,activeNode:ve,collisionRect:En,collisions:ar,droppableRects:se,draggableNodes:w,draggingNode:ni,draggingNodeRect:Cn,droppableContainers:M,over:Bn,scrollableAncestors:tt,scrollAdjustedTranslate:ii},L.current={initial:Cn,translated:En}},[I,ve,ar,En,w,ni,Cn,se,M,Bn,tt,ii]),TN({...et,delta:C,draggingRect:En,pointerCoordinates:js,scrollableAncestors:tt,scrollableAncestorRects:jn});const Da=B.useMemo(()=>({active:I,activeNode:ve,activeNodeRect:Ve,activatorEvent:ie,collisions:ar,containerNodeRect:ti,dragOverlay:It,draggableNodes:w,droppableContainers:M,droppableRects:se,over:Bn,measureDroppableContainers:ue,scrollableAncestors:tt,scrollableAncestorRects:jn,measuringConfiguration:X,measuringScheduled:_e,windowRect:ft}),[I,ve,Ve,ie,ar,ti,It,w,M,se,Bn,ue,tt,jn,X,_e,ft]),ri=B.useMemo(()=>({activatorEvent:ie,activators:or,active:I,activeNodeRect:Ve,ariaDescribedById:{draggable:Be},dispatch:ee,draggableNodes:w,over:Bn,measureDroppableContainers:ue}),[ie,or,I,Ve,ee,Be,w,Bn,ue]);return vt.createElement(p1.Provider,{value:ne},vt.createElement(Nu.Provider,{value:ri},vt.createElement(O1.Provider,{value:Da},vt.createElement(_f.Provider,{value:qt},p)),vt.createElement(HN,{disabled:m?.restoreFocus===!1})),vt.createElement(YD,{...m,hiddenTextDescribedById:Be}));function lr(){const Ne=lt?.autoScrollEnabled===!1,mt=typeof g=="object"?g.enabled===!1:g===!1,gt=oe&&!Ne&&!mt;return typeof g=="object"?{...g,enabled:gt}:{enabled:gt}}}),YN=B.createContext(null),LE="button",KN="Draggable";function XN(r){let{id:e,data:n,disabled:s=!1,attributes:o}=r;const u=Du(KN),{activators:f,activatorEvent:m,active:g,activeNodeRect:p,ariaDescribedById:E,draggableNodes:b,over:A}=B.useContext(Nu),{role:N=LE,roleDescription:q="draggable",tabIndex:Q=0}=o??{},F=g?.id===e,ee=B.useContext(F?_f:YN),[re,ne]=zh(),[fe,le]=zh(),oe=kN(f,e),R=fu(n);Oi(()=>(b.set(e,{id:e,key:u,node:re,activatorNode:fe,data:R}),()=>{const C=b.get(e);C&&C.key===u&&b.delete(e)}),[b,e]);const w=B.useMemo(()=>({role:N,tabIndex:Q,"aria-disabled":s,"aria-pressed":F&&N===LE?!0:void 0,"aria-roledescription":q,"aria-describedby":E.draggable}),[s,N,Q,F,q,E.draggable]);return{active:g,activatorEvent:m,activeNodeRect:p,attributes:w,isDragging:F,listeners:s?void 0:oe,node:re,over:A,setNodeRef:ne,setActivatorNodeRef:le,transform:ee}}function V1(){return B.useContext(O1)}const $N="Droppable",JN={timeout:25};function k1(r){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:o}=r;const u=Du($N),{active:f,dispatch:m,over:g,measureDroppableContainers:p}=B.useContext(Nu),E=B.useRef({disabled:n}),b=B.useRef(!1),A=B.useRef(null),N=B.useRef(null),{disabled:q,updateMeasurementsFor:Q,timeout:F}={...JN,...o},ee=fu(Q??s),re=B.useCallback(()=>{if(!b.current){b.current=!0;return}N.current!=null&&clearTimeout(N.current),N.current=setTimeout(()=>{p(Array.isArray(ee.current)?ee.current:[ee.current]),N.current=null},F)},[F]),ne=vf({callback:re,disabled:q||!f}),fe=B.useCallback((w,C)=>{ne&&(C&&(ne.unobserve(C),b.current=!1),w&&ne.observe(w))},[ne]),[le,oe]=zh(fe),R=fu(e);return B.useEffect(()=>{!ne||!le.current||(ne.disconnect(),b.current=!1,ne.observe(le.current))},[le,ne]),B.useEffect(()=>(m({type:Ft.RegisterDroppable,element:{id:s,key:u,disabled:n,node:le,rect:A,data:R}}),()=>m({type:Ft.UnregisterDroppable,key:u,id:s})),[s]),B.useEffect(()=>{n!==E.current.disabled&&(m({type:Ft.SetDroppableDisabled,id:s,key:u,disabled:n}),E.current.disabled=n)},[s,u,n,m]),{active:f,rect:A,isOver:g?.id===s,node:le,over:g,setNodeRef:oe}}function ZN(r){let{animation:e,children:n}=r;const[s,o]=B.useState(null),[u,f]=B.useState(null),m=jh(n);return!n&&!s&&m&&o(m),Oi(()=>{if(!u)return;const g=s?.key,p=s?.props.id;if(g==null||p==null){o(null);return}Promise.resolve(e(p,u)).then(()=>{o(null)})},[e,s,u]),vt.createElement(vt.Fragment,null,n,s?B.cloneElement(s,{ref:f}):null)}const WN={x:0,y:0,scaleX:1,scaleY:1};function eO(r){let{children:e}=r;return vt.createElement(Nu.Provider,{value:N1},vt.createElement(_f.Provider,{value:WN},e))}const tO={position:"fixed",touchAction:"none"},nO=r=>pf(r)?"transform 250ms ease":void 0,iO=B.forwardRef((r,e)=>{let{as:n,activatorEvent:s,adjustScale:o,children:u,className:f,rect:m,style:g,transform:p,transition:E=nO}=r;if(!m)return null;const b=o?p:{...p,scaleX:1,scaleY:1},A={...tO,width:m.width,height:m.height,top:m.top,left:m.left,transform:Us.Transform.toString(b),transformOrigin:o&&s?$D(s,m):void 0,transition:typeof E=="function"?E(s):E,...g};return vt.createElement(n,{className:f,style:A,ref:e},u)}),rO=r=>e=>{let{active:n,dragOverlay:s}=e;const o={},{styles:u,className:f}=r;if(u!=null&&u.active)for(const[m,g]of Object.entries(u.active))g!==void 0&&(o[m]=n.node.style.getPropertyValue(m),n.node.style.setProperty(m,g));if(u!=null&&u.dragOverlay)for(const[m,g]of Object.entries(u.dragOverlay))g!==void 0&&s.node.style.setProperty(m,g);return f!=null&&f.active&&n.node.classList.add(f.active),f!=null&&f.dragOverlay&&s.node.classList.add(f.dragOverlay),function(){for(const[g,p]of Object.entries(o))n.node.style.setProperty(g,p);f!=null&&f.active&&n.node.classList.remove(f.active)}},sO=r=>{let{transform:{initial:e,final:n}}=r;return[{transform:Us.Transform.toString(e)},{transform:Us.Transform.toString(n)}]},aO={duration:250,easing:"ease",keyframes:sO,sideEffects:rO({styles:{active:{opacity:"0"}}})};function oO(r){let{config:e,draggableNodes:n,droppableContainers:s,measuringConfiguration:o}=r;return gf((u,f)=>{if(e===null)return;const m=n.get(u);if(!m)return;const g=m.node.current;if(!g)return;const p=D1(f);if(!p)return;const{transform:E}=Rn(f).getComputedStyle(f),b=E1(E);if(!b)return;const A=typeof e=="function"?e:lO(e);return C1(g,o.draggable.measure),A({active:{id:u,data:m.data,node:g,rect:o.draggable.measure(g)},draggableNodes:n,dragOverlay:{node:f,rect:o.dragOverlay.measure(p)},droppableContainers:s,measuringConfiguration:o,transform:b})})}function lO(r){const{duration:e,easing:n,sideEffects:s,keyframes:o}={...aO,...r};return u=>{let{active:f,dragOverlay:m,transform:g,...p}=u;if(!e)return;const E={x:m.rect.left-f.rect.left,y:m.rect.top-f.rect.top},b={scaleX:g.scaleX!==1?f.rect.width*g.scaleX/m.rect.width:1,scaleY:g.scaleY!==1?f.rect.height*g.scaleY/m.rect.height:1},A={x:g.x-E.x,y:g.y-E.y,...b},N=o({...p,active:f,dragOverlay:m,transform:{initial:g,final:A}}),[q]=N,Q=N[N.length-1];if(JSON.stringify(q)===JSON.stringify(Q))return;const F=s?.({active:f,dragOverlay:m,...p}),ee=m.node.animate(N,{duration:e,easing:n,fill:"forwards"});return new Promise(re=>{ee.onfinish=()=>{F?.(),re()}})}}let UE=0;function uO(r){return B.useMemo(()=>{if(r!=null)return UE++,UE},[r])}const cO=vt.memo(r=>{let{adjustScale:e=!1,children:n,dropAnimation:s,style:o,transition:u,modifiers:f,wrapperElement:m="div",className:g,zIndex:p=999}=r;const{activatorEvent:E,active:b,activeNodeRect:A,containerNodeRect:N,draggableNodes:q,droppableContainers:Q,dragOverlay:F,over:ee,measuringConfiguration:re,scrollableAncestors:ne,scrollableAncestorRects:fe,windowRect:le}=V1(),oe=B.useContext(_f),R=uO(b?.id),w=M1(f,{activatorEvent:E,active:b,activeNodeRect:A,containerNodeRect:N,draggingNodeRect:F.rect,over:ee,overlayNodeRect:F.rect,scrollableAncestors:ne,scrollableAncestorRects:fe,transform:oe,windowRect:le}),C=pp(A),M=oO({config:s,draggableNodes:q,droppableContainers:Q,measuringConfiguration:re}),D=C?F.setRef:void 0;return vt.createElement(eO,null,vt.createElement(ZN,{animation:M},b&&R?vt.createElement(iO,{key:R,id:b.id,ref:D,as:m,activatorEvent:E,adjustScale:e,className:g,transition:u,rect:C,style:{zIndex:p,...o},transform:w},n):null))});function L1(r,e,n){const s=r.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function hO(r,e){return r.reduce((n,s,o)=>{const u=e.get(s);return u&&(n[o]=u),n},Array(r.length))}function sh(r){return r!==null&&r>=0}function fO(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let n=0;n<r.length;n++)if(r[n]!==e[n])return!1;return!0}function dO(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const U1=r=>{let{rects:e,activeIndex:n,overIndex:s,index:o}=r;const u=L1(e,s,n),f=e[o],m=u[o];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},ah={scaleX:1,scaleY:1},mO=r=>{var e;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:f}=r;const m=(e=u[n])!=null?e:s;if(!m)return null;if(o===n){const p=u[f];return p?{x:0,y:n<f?p.top+p.height-(m.top+m.height):p.top-m.top,...ah}:null}const g=gO(u,o,n);return o>n&&o<=f?{x:0,y:-m.height-g,...ah}:o<n&&o>=f?{x:0,y:m.height+g,...ah}:{x:0,y:0,...ah}};function gO(r,e,n){const s=r[e],o=r[e-1],u=r[e+1];return s?n<e?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const P1="Sortable",z1=vt.createContext({activeIndex:-1,containerId:P1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:U1,disabled:{draggable:!1,droppable:!1}});function pO(r){let{children:e,id:n,items:s,strategy:o=U1,disabled:u=!1}=r;const{active:f,dragOverlay:m,droppableRects:g,over:p,measureDroppableContainers:E}=V1(),b=Du(P1,n),A=m.rect!==null,N=B.useMemo(()=>s.map(oe=>typeof oe=="object"&&"id"in oe?oe.id:oe),[s]),q=f!=null,Q=f?N.indexOf(f.id):-1,F=p?N.indexOf(p.id):-1,ee=B.useRef(N),re=!fO(N,ee.current),ne=F!==-1&&Q===-1||re,fe=dO(u);Oi(()=>{re&&q&&E(N)},[re,N,q,E]),B.useEffect(()=>{ee.current=N},[N]);const le=B.useMemo(()=>({activeIndex:Q,containerId:b,disabled:fe,disableTransforms:ne,items:N,overIndex:F,useDragOverlay:A,sortedRects:hO(N,g),strategy:o}),[Q,b,fe.draggable,fe.droppable,ne,N,F,g,A,o]);return vt.createElement(z1.Provider,{value:le},e)}const yO=r=>{let{id:e,items:n,activeIndex:s,overIndex:o}=r;return L1(n,s,o).indexOf(e)},vO=r=>{let{containerId:e,isSorting:n,wasDragging:s,index:o,items:u,newIndex:f,previousItems:m,previousContainerId:g,transition:p}=r;return!p||!s||m!==u&&o===f?!1:n?!0:f!==o&&e===g},_O={duration:200,easing:"ease"},j1="transform",EO=Us.Transition.toString({property:j1,duration:0,easing:"linear"}),bO={roleDescription:"sortable"};function TO(r){let{disabled:e,index:n,node:s,rect:o}=r;const[u,f]=B.useState(null),m=B.useRef(n);return Oi(()=>{if(!e&&n!==m.current&&s.current){const g=o.current;if(g){const p=Fo(s.current,{ignoreTransform:!0}),E={x:g.left-p.left,y:g.top-p.top,scaleX:g.width/p.width,scaleY:g.height/p.height};(E.x||E.y)&&f(E)}}n!==m.current&&(m.current=n)},[e,n,s,o]),B.useEffect(()=>{u&&f(null)},[u]),u}function SO(r){let{animateLayoutChanges:e=vO,attributes:n,disabled:s,data:o,getNewIndex:u=yO,id:f,strategy:m,resizeObserverConfig:g,transition:p=_O}=r;const{items:E,containerId:b,activeIndex:A,disabled:N,disableTransforms:q,sortedRects:Q,overIndex:F,useDragOverlay:ee,strategy:re}=B.useContext(z1),ne=AO(s,N),fe=E.indexOf(f),le=B.useMemo(()=>({sortable:{containerId:b,index:fe,items:E},...o}),[b,o,fe,E]),oe=B.useMemo(()=>E.slice(E.indexOf(f)),[E,f]),{rect:R,node:w,isOver:C,setNodeRef:M}=k1({id:f,data:le,disabled:ne.droppable,resizeObserverConfig:{updateMeasurementsFor:oe,...g}}),{active:D,activatorEvent:L,activeNodeRect:I,attributes:je,setNodeRef:lt,listeners:K,isDragging:ie,over:ge,setActivatorNodeRef:Re,transform:Be}=XN({id:f,data:le,attributes:{...bO,...n},disabled:ne.draggable}),V=VD(M,lt),X=!!D,se=X&&!q&&sh(A)&&sh(F),ue=!ee&&ie,_e=ue&&se?Be:null,De=se?_e??(m??re)({rects:Q,activeNodeRect:I,activeIndex:A,overIndex:F,index:fe}):null,et=sh(A)&&sh(F)?u({id:f,items:E,activeIndex:A,overIndex:F}):fe,Fe=D?.id,Ve=B.useRef({activeId:Fe,items:E,newIndex:et,containerId:b}),ti=E!==Ve.current.items,en=e({active:D,containerId:b,isDragging:ie,isSorting:X,id:f,index:fe,items:E,newIndex:Ve.current.newIndex,previousItems:Ve.current.items,previousContainerId:Ve.current.containerId,transition:p,wasDragging:Ve.current.activeId!=null}),zn=TO({disabled:!en,index:fe,node:w,rect:R});return B.useEffect(()=>{X&&Ve.current.newIndex!==et&&(Ve.current.newIndex=et),b!==Ve.current.containerId&&(Ve.current.containerId=b),E!==Ve.current.items&&(Ve.current.items=E)},[X,et,b,E]),B.useEffect(()=>{if(Fe===Ve.current.activeId)return;if(Fe!=null&&Ve.current.activeId==null){Ve.current.activeId=Fe;return}const ni=setTimeout(()=>{Ve.current.activeId=Fe},50);return()=>clearTimeout(ni)},[Fe]),{active:D,activeIndex:A,attributes:je,data:le,rect:R,index:fe,newIndex:et,items:E,isOver:C,isSorting:X,isDragging:ie,listeners:K,node:w,overIndex:F,over:ge,setNodeRef:V,setActivatorNodeRef:Re,setDroppableNodeRef:M,setDraggableNodeRef:lt,transform:zn??De,transition:It()};function It(){if(zn||ti&&Ve.current.newIndex===fe)return EO;if(!(ue&&!pf(L)||!p)&&(X||en))return Us.Transition.toString({...p,property:j1})}}function AO(r,e){var n,s;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(n=r?.draggable)!=null?n:e.draggable,droppable:(s=r?.droppable)!=null?s:e.droppable}}function Fh(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const wO=[He.Down,He.Right,He.Up,He.Left],RO=(r,e)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:f,scrollableAncestors:m}}=e;if(wO.includes(r.code)){if(r.preventDefault(),!n||!s)return;const g=[];u.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const A=o.get(b.id);if(A)switch(r.code){case He.Down:s.top<A.top&&g.push(b);break;case He.Up:s.top>A.top&&g.push(b);break;case He.Left:s.left>A.left&&g.push(b);break;case He.Right:s.left<A.left&&g.push(b);break}});const p=v1({collisionRect:s,droppableRects:o,droppableContainers:g});let E=y1(p,"id");if(E===f?.id&&p.length>1&&(E=p[1].id),E!=null){const b=u.get(n.id),A=u.get(E),N=A?o.get(A.id):null,q=A?.node.current;if(q&&N&&b&&A){const F=yf(q).some((oe,R)=>m[R]!==oe),ee=B1(b,A),re=CO(b,A),ne=F||!ee?{x:0,y:0}:{x:re?s.width-N.width:0,y:re?s.height-N.height:0},fe={x:N.left,y:N.top};return ne.x&&ne.y?fe:du(fe,ne)}}}};function B1(r,e){return!Fh(r)||!Fh(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function CO(r,e){return!Fh(r)||!Fh(e)||!B1(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const Nr=[{id:"tintas-marfim",name:"Tintas Marfim",color:"orange"},{id:"openpower-back",name:"OpenPower Backend",color:"blue"},{id:"openpower-front",name:"OpenPower Frontend",color:"sky"},{id:"equihealth",name:"EquiHealth",color:"green"},{id:"amae",name:"AMAE",color:"red"},{id:"vita-ai",name:"Vita.AI",color:"purple"}],dg={backlog:"Backlog",todo:"A Fazer","in-progress":"Em Andamento",done:"Concludo"},IO={low:"bg-slate-200 text-slate-700",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},yp={orange:"bg-orange-100 text-orange-800 border-orange-200",blue:"bg-blue-100 text-blue-800 border-blue-200",sky:"bg-sky-100 text-sky-800 border-sky-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",purple:"bg-purple-100 text-purple-800 border-purple-200"};const xO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),PE=r=>{const e=DO(r);return e.charAt(0).toUpperCase()+e.slice(1)},q1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),NO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var OO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MO=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>B.createElement("svg",{ref:g,...OO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:q1("lucide",o),...!u&&!NO(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,E])=>B.createElement(p,E)),...Array.isArray(u)?u:[u]]));const Wt=(r,e)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(MO,{ref:u,iconNode:e,className:q1(`lucide-${xO(PE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=PE(r),n};const VO=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],mg=Wt("archive",VO);const kO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vp=Wt("calendar",kO);const LO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],H1=Wt("circle-alert",LO);const UO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PO=Wt("circle-question-mark",UO);const zO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gg=Wt("clock",zO);const jO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],BO=Wt("database",jO);const qO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],HO=Wt("funnel",qO);const FO=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],F1=Wt("layout-grid",FO);const GO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],QO=Wt("loader-circle",GO);const YO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],G1=Wt("log-out",YO);const KO=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],XO=Wt("mouse-pointer-click",KO);const $O=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],JO=Wt("pen",$O);const ZO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],WO=Wt("plus",ZO);const eM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tM=Wt("rotate-ccw",eM);const nM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Q1=Wt("shield-alert",nM);const iM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rM=Wt("shield-check",iM);const sM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Y1=Wt("trash-2",sM);const aM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_p=Wt("x",aM);function K1({task:r,onDelete:e,onEdit:n}){const{attributes:s,listeners:o,setNodeRef:u,transform:f,transition:m,isDragging:g}=SO({id:r.id,data:{type:"Task",task:r}}),p={transform:Us.Transform.toString(f),transition:m},E=Nr.find(q=>q.id===r.projectId),b=E?yp[E.color]:"bg-gray-100 text-gray-800 border-gray-200",A=q=>{if(r.status==="done")return{status:"normal",days:0};const Q=new Date(q),ee=Math.abs(new Date().getTime()-Q.getTime()),re=Math.ceil(ee/(1e3*60*60*24));return re>30?{status:"critical",days:re}:re>14?{status:"warning",days:re}:{status:"normal",days:re}};if(g)return x.jsx("div",{ref:u,style:p,className:"opacity-30 bg-gray-50 p-4 rounded-lg border-2 border-dashed border-gray-400 h-[150px] w-full cursor-grab"});const N=r.date?A(r.date):{status:"normal",days:0};return x.jsxs("div",{ref:u,style:p,...s,...o,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow group cursor-grab active:cursor-grabbing",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border ${b}`,children:E?.name||"Unknown Project"}),x.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[x.jsx("button",{onClick:q=>{q.stopPropagation(),n(r)},className:"p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-blue-600",children:x.jsx(JO,{size:14})}),x.jsx("button",{onClick:q=>{q.stopPropagation(),e(r.id)},className:"p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-red-600",children:x.jsx(Y1,{size:14})})]})]}),x.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:r.title}),r.description&&x.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:r.description}),x.jsxs("div",{className:"flex justify-between items-center mt-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${IO[r.priority]}`,children:r.priority.toUpperCase()}),r.date&&x.jsxs("div",{className:`flex items-center gap-1 text-xs ${N.status==="critical"?"text-red-700 font-bold bg-red-50 px-2 py-1 rounded-md border border-red-100":N.status==="warning"?"text-amber-600 font-medium":"text-gray-500"}`,title:N.status==="critical"?`CRTICO: Tarefa aberta h ${N.days} dias`:N.status==="warning"?`Tarefa aberta h ${N.days} dias`:void 0,children:[N.status==="critical"?x.jsx(H1,{size:12}):N.status==="warning"?x.jsx(gg,{size:12}):x.jsx(vp,{size:12}),x.jsx("span",{children:new Date(r.date).toLocaleDateString("pt-BR")})]})]}),x.jsxs("div",{className:"flex items-center",children:[r.assignee?x.jsx("img",{src:r.assignee,alt:"Assignee",className:"w-6 h-6 rounded-full border border-gray-200 object-cover",onError:q=>{q.currentTarget.style.display="none",q.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,x.jsx("div",{className:`w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 ${r.assignee?"hidden":""}`,children:x.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:"U"})})]})]})]})}function oM({id:r,tasks:e,onDeleteTask:n,onEditTask:s}){const{setNodeRef:o}=k1({id:r});return x.jsxs("div",{className:"flex flex-col h-full w-80 min-w-80 bg-gray-50/50 rounded-xl border border-gray-200/60",children:[x.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-white/50 rounded-t-xl backdrop-blur-sm",children:x.jsxs("h2",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[dg[r],x.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full",children:e.length})]})}),x.jsx("div",{ref:o,className:"flex-1 p-3 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:x.jsx(pO,{items:e.map(u=>u.id),strategy:mO,children:x.jsx("div",{className:"flex flex-col gap-3",children:e.map(u=>x.jsx(K1,{task:u,onDelete:n,onEdit:s},u.id))})})})]})}function lM({isOpen:r,onClose:e,onSubmit:n,editingTask:s}){const[o,u]=B.useState(""),[f,m]=B.useState(""),[g,p]=B.useState("medium"),[E,b]=B.useState("todo"),[A,N]=B.useState(Nr[0].id),[q,Q]=B.useState(new Date().toISOString().split("T")[0]);if(B.useEffect(()=>{s?(u(s.title),m(s.description||""),p(s.priority),b(s.status),N(s.projectId),Q(s.date||new Date().toISOString().split("T")[0])):(u(""),m(""),p("medium"),b("todo"),N(Nr[0].id),Q(new Date().toISOString().split("T")[0]))},[s,r]),!r)return null;const F=ee=>{ee.preventDefault(),n({title:o,description:f,priority:g,status:E,projectId:A,date:q}),e()};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Task":"New Task"}),x.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:x.jsx(_p,{size:20})})]}),x.jsxs("form",{onSubmit:F,className:"p-4 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),x.jsx("input",{type:"text",required:!0,value:o,onChange:ee=>u(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Enter task title"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),x.jsx("textarea",{value:f,onChange:ee=>m(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all resize-none h-24",placeholder:"Enter task description (optional)"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project"}),x.jsx("select",{value:A,onChange:ee=>N(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:Nr.map(ee=>x.jsx("option",{value:ee.id,children:ee.name},ee.id))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),x.jsx("input",{type:"date",value:q,onChange:ee=>Q(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),x.jsxs("select",{value:g,onChange:ee=>p(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[x.jsx("option",{value:"low",children:"Low"}),x.jsx("option",{value:"medium",children:"Medium"}),x.jsx("option",{value:"high",children:"High"}),x.jsx("option",{value:"critical",children:"Critical"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),x.jsxs("select",{value:E,onChange:ee=>b(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[x.jsx("option",{value:"backlog",children:"Backlog"}),x.jsx("option",{value:"todo",children:"To Do"}),x.jsx("option",{value:"in-progress",children:"In Progress"}),x.jsx("option",{value:"done",children:"Done"})]})]})]}),x.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[x.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:s?"Save Changes":"Create Task"})]})]})]})})}const uM=async()=>{if(!Ss.currentUser){alert("Please sign in to seed the database");return}const r=OD(Dr),e=tp(Dr,"tasks"),n=c1(e);(await RD(n)).docs.forEach(u=>{r.delete(u.ref)}),[{title:"Implementar Stack de Observabilidade (Prometheus/Grafana/Loki)",status:"backlog",priority:"high",projectId:"tintas-marfim",date:"2025-11-25"},{title:"Configurao de CI/CD (GitHub Actions)",status:"todo",priority:"high",projectId:"tintas-marfim",date:"2025-11-25"},{title:"Implementar Fila de Mensagens (Celery/Redis)",status:"todo",priority:"medium",projectId:"tintas-marfim",date:"2025-11-25"},{title:"Saneamento de Base de Dados (LID & Identidade Persistente)",status:"done",priority:"critical",projectId:"tintas-marfim",date:"2025-11-20"},{title:"Migrao para PostgreSQL Dockerizado",status:"done",priority:"high",projectId:"tintas-marfim",date:"2025-10-23"},{title:"Implementar Revogao de Consentimentos (Endpoint DELETE)",status:"todo",priority:"high",projectId:"openpower-back",date:"2025-11-25"},{title:"Expandir Endpoints de Gesto (Admin CRUD)",status:"in-progress",priority:"medium",projectId:"openpower-back",date:"2025-11-25"},{title:"Implementao Completa do Fluxo de Recuperao de Senha",status:"done",priority:"high",projectId:"openpower-back",date:"2025-11-22"},{title:"Refatorao Arquitetural (SQLAlchemy/Alembic)",status:"done",priority:"critical",projectId:"openpower-back",date:"2025-11-19"},{title:"Implementar Login com Google (SSO)",status:"backlog",priority:"medium",projectId:"openpower-front",date:"2025-11-25"},{title:"Implementar Pgina Wallet",status:"todo",priority:"high",projectId:"openpower-front",date:"2025-11-25"},{title:"Implementar Polling (Home/Wallet) para status de consentimento",status:"in-progress",priority:"medium",projectId:"openpower-front",date:"2025-11-25"},{title:"Tela de Perfil Completa (Edio e Senha)",status:"done",priority:"low",projectId:"openpower-front",date:"2025-11-22"},{title:"Refatorao UI/UX Geral (Design System)",status:"done",priority:"high",projectId:"openpower-front",date:"2025-11-21"},{title:"Treinamento YOLOv8 Nano (Proof of Concept)",status:"todo",priority:"critical",projectId:"equihealth",date:"2025-11-25"},{title:"Otimizao I/O Frames (Leitura de Vdeo Streamada)",status:"in-progress",priority:"high",projectId:"equihealth",date:"2025-11-25"},{title:"Curadoria de Negativos (Baias Vazias) e Safety Mining",status:"done",priority:"medium",projectId:"equihealth",date:"2025-11-14"},{title:"Implementao do Split Determinstico 80/20",status:"done",priority:"low",projectId:"equihealth",date:"2025-11-14"},{title:"Levantamento de requisitos funcionais",status:"todo",priority:"high",projectId:"amae",date:"2025-11-25"},{title:"Configurao de ambiente Python/Jupyter",status:"todo",priority:"medium",projectId:"vita-ai",date:"2025-11-25"}].forEach(u=>{const f=va(e);r.set(f,{...u,createdAt:new Date().toISOString(),assignee:Ss.currentUser?.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(Ss.currentUser?.displayName||"User")}&background=random`,userId:Ss.currentUser?.uid})}),await r.commit(),console.log("Database seeded successfully!"),alert("Database seeded successfully!")};function cM({isOpen:r,onClose:e}){return r?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50/50",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Guia de Bordo"}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manual de referncia do sistema"})]}),x.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:x.jsx(_p,{size:24})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[x.jsxs("section",{children:[x.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:[x.jsx(F1,{size:16,className:"text-blue-600"}),"Mapa de Projetos"]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Nr.map(n=>x.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg border border-gray-100 bg-gray-50/50",children:[x.jsx("div",{className:`w-3 h-3 rounded-full ${yp[n.color].split(" ")[0].replace("bg-","bg-").replace("-100","-500")}`}),x.jsx("span",{className:"text-sm font-medium text-gray-700",children:n.name})]},n.id))})]}),x.jsxs("section",{children:[x.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:[x.jsx(gg,{size:16,className:"text-amber-600"}),"Status & Envelhecimento"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-white shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[x.jsx(vp,{size:18}),x.jsx("span",{className:"font-semibold text-sm",children:"Recente"})]}),x.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Tarefas criadas ou atualizadas nos ltimos 14 dias. Fluxo normal de trabalho."})]}),x.jsxs("div",{className:"p-4 rounded-xl border border-amber-200 bg-amber-50 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[x.jsx(gg,{size:18}),x.jsx("span",{className:"font-semibold text-sm",children:"Ateno"})]}),x.jsx("p",{className:"text-xs text-amber-800 leading-relaxed",children:"Tarefas paradas h mais de 14 dias. Requerem reviso ou acompanhamento."})]}),x.jsxs("div",{className:"p-4 rounded-xl border border-red-200 bg-red-50 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-2",children:[x.jsx(H1,{size:18}),x.jsx("span",{className:"font-semibold text-sm",children:"Crtico"})]}),x.jsx("p",{className:"text-xs text-red-800 leading-relaxed",children:"Tarefas estagnadas h mais de 30 dias. Ao imediata necessria."})]})]})]}),x.jsxs("section",{children:[x.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:[x.jsx(XO,{size:16,className:"text-purple-600"}),"Funcionalidades"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-md mt-0.5",children:x.jsx(HO,{size:14})}),x.jsxs("div",{children:[x.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Filtro de Projetos"}),x.jsx("span",{className:"text-xs text-gray-500",children:"Clique nos projetos na barra lateral para filtrar o quadro. Selecione mltiplos para comparar."})]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"p-1.5 bg-green-100 text-green-600 rounded-md mt-0.5",children:x.jsx(rM,{size:14})}),x.jsxs("div",{children:[x.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Segurana & Auditoria"}),x.jsx("span",{className:"text-xs text-gray-500",children:"Login seguro via Google. Apenas administradores podem resetar o banco de dados."})]})]})]})]})]}),x.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 text-center",children:x.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Story2Scale Control Tower v1.0  Desenvolvido com React & Firebase"})})]})}):null}function hM({isOpen:r,onClose:e,tasks:n,user:s}){if(!r)return null;const o=n.filter(p=>p.isArchived),u=s.email==="viniciusbrancos@gmail.com",f=o.reduce((p,E)=>(p[E.projectId]||(p[E.projectId]=[]),p[E.projectId].push(E),p),{});Object.keys(f).forEach(p=>{f[p].sort((E,b)=>{const A=E.date?new Date(E.date).getTime():0,N=b.date?new Date(b.date).getTime():0;return A-N})});const m=async p=>{const E=va(Dr,"tasks",p);await yh(E,{isArchived:!1})},g=async p=>{confirm("Tem certeza? Esta ao no pode ser desfeita.")&&await CD(va(Dr,"tasks",p))};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50/50",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:x.jsx(mg,{className:"text-gray-600",size:24})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Arquivo"}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tarefas arquivadas e histrico"})]})]}),x.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:x.jsx(_p,{size:24})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:o.length===0?x.jsxs("div",{className:"text-center py-12 text-gray-400",children:[x.jsx(mg,{size:48,className:"mx-auto mb-4 opacity-20"}),x.jsx("p",{children:"Nenhuma tarefa arquivada."})]}):Object.keys(f).map(p=>{const E=Nr.find(A=>A.id===p),b=E?yp[E.color].split(" ")[0].replace("bg-","text-").replace("-100","-600"):"text-gray-600";return x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h3",{className:`text-sm font-bold uppercase tracking-wider flex items-center gap-2 ${b}`,children:[E?.name||"Projeto Desconhecido",x.jsx("span",{className:"text-xs font-normal text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:f[p].length})]}),x.jsx("div",{className:"grid gap-3",children:f[p].map(A=>x.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-xl shadow-sm hover:shadow-md transition-shadow group",children:[x.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[x.jsx("h4",{className:"font-medium text-gray-900 truncate",children:A.title}),x.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[A.date&&x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(vp,{size:12}),new Date(A.date).toLocaleDateString("pt-BR")]}),x.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-gray-600 capitalize",children:A.status})]})]}),x.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[x.jsx("button",{onClick:()=>m(A.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Restaurar para o quadro",children:x.jsx(tM,{size:18})}),u&&x.jsx("button",{onClick:()=>g(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir permanentemente",children:x.jsx(Y1,{size:18})})]})]},A.id))})]},p)})})]})})}function fM({user:r,tasks:e,onSignOut:n,onNewTask:s,selectedProjects:o,onToggleProject:u}){const[f,m]=B.useState(!1),[g,p]=B.useState(!1),E=A=>{const N=e.filter(F=>F.projectId===A&&!F.isArchived),q=N.length;if(q===0)return 0;const Q=N.filter(F=>F.status==="done").length;return Math.round(Q/q*100)},b=A=>{switch(A){case"orange":return"bg-orange-500";case"blue":return"bg-blue-500";case"sky":return"bg-sky-500";case"green":return"bg-green-500";case"red":return"bg-red-500";case"purple":return"bg-purple-500";default:return"bg-gray-500"}};return x.jsxs("div",{className:"w-72 bg-white border-r border-gray-200 flex flex-col h-full shrink-0",children:[x.jsxs("div",{className:"p-6 border-b border-gray-100",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[x.jsx("div",{className:"bg-blue-600 p-2 rounded-lg shadow-lg shadow-blue-600/20",children:x.jsx(F1,{className:"text-white",size:20})}),x.jsx("span",{className:"font-bold text-gray-800 text-lg tracking-tight",children:"Meus Projetos"})]}),x.jsx("p",{className:"text-xs text-gray-500 font-medium pl-1 mb-6",children:"Visualizao Unificada"}),x.jsxs("button",{onClick:s,className:"w-full py-2.5 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium text-sm transition-all shadow-sm hover:shadow-md active:scale-[0.98] flex items-center justify-center gap-2 cursor-pointer",children:[x.jsx(WO,{size:18}),"Nova Tarefa"]}),r&&r.email==="viniciusbrancos@gmail.com"&&x.jsxs("button",{onClick:()=>{confirm("Isso vai apagar dados existentes e recriar os iniciais. Continuar?")&&uM()},className:"w-full mt-3 py-2 px-4 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl font-medium text-sm transition-all shadow-sm flex items-center justify-center gap-2 cursor-pointer",children:[x.jsx(Q1,{size:18}),"Seed Database"]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[x.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-6",children:"Progresso Geral"}),x.jsx("div",{className:"space-y-4",children:Nr.map(A=>{const N=E(A.id),q=o.includes(A.id);return x.jsxs("div",{onClick:()=>u(A.id),className:`
                                    cursor-pointer p-3 rounded-xl transition-all duration-200 border
                                    ${q?"bg-blue-50 border-blue-200 shadow-sm ring-1 ring-blue-200":"bg-transparent border-transparent hover:bg-gray-50 hover:border-gray-100"}
                                `,children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("span",{className:`text-sm font-medium ${q?"text-blue-800":"text-gray-700"}`,children:A.name}),x.jsxs("span",{className:"text-xs font-semibold text-gray-500",children:[N,"%"]})]}),x.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:x.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${b(A.color)}`,style:{width:`${N}%`}})})]},A.id)})})]}),x.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50 space-y-3",children:[x.jsxs("button",{onClick:()=>p(!0),className:"w-full flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",children:[x.jsx(mg,{size:18}),x.jsx("span",{children:"Arquivo"})]}),x.jsxs("button",{onClick:()=>m(!0),className:"w-full flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",children:[x.jsx(PO,{size:18}),x.jsx("span",{children:"Guia de Bordo"})]}),x.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200/50",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[r.photoURL?x.jsx("img",{src:r.photoURL,alt:r.displayName||"User",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}):x.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold border-2 border-white shadow-sm",children:r.displayName?.[0]||"U"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-sm font-semibold text-gray-900 leading-tight",children:r.displayName||"Usurio"}),x.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),x.jsx("span",{className:"text-xs font-medium text-green-600",children:"Online"})]})]})]}),x.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 cursor-pointer",title:"Sair",children:x.jsx(G1,{size:20})})]})]}),x.jsx(cM,{isOpen:f,onClose:()=>m(!1)}),x.jsx(hM,{isOpen:g,onClose:()=>p(!1),tasks:e,user:r})]})}function dM({user:r,onSignOut:e,tasks:n,allTasks:s,selectedProjects:o,onToggleProject:u}){const[f,m]=B.useState(null),[g,p]=B.useState(!1),[E,b]=B.useState(null),A=KD(wE(gp,{activationConstraint:{distance:5}}),wE(dp,{coordinateGetter:RO})),N=le=>[...le].sort((oe,R)=>{const w=Nr.find(I=>I.id===oe.projectId)?.name||"",C=Nr.find(I=>I.id===R.projectId)?.name||"",M=w.localeCompare(C);if(M!==0)return M;const D=oe.date?new Date(oe.date).getTime():Number.MAX_SAFE_INTEGER,L=R.date?new Date(R.date).getTime():Number.MAX_SAFE_INTEGER;return D-L}),q=le=>{m(le.active.id)},Q=le=>{const{active:oe,over:R}=le;if(!R)return;const w=oe.id,C=R.id;if(w===C)return;const M=oe.data.current?.type==="Task";R.data.current?.type,M&&Object.keys(dg).includes(C)},F=async le=>{m(null);const{active:oe,over:R}=le;if(!R)return;const w=oe.id,C=R.id,M=n.find(L=>L.id===w);if(!M)return;let D=M.status;if(Object.keys(dg).includes(C))D=C;else{const L=n.find(I=>I.id===C);L&&(D=L.status)}if(M.status!==D){const L=va(Dr,"tasks",w);await yh(L,{status:D})}},ee=async le=>{if(E){const oe=va(Dr,"tasks",E.id);await yh(oe,{...le}),b(null)}else await ID(tp(Dr,"tasks"),{...le,createdAt:new Date().toISOString(),assignee:r.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.displayName||"User")}&background=random`,userId:r.uid})},re=async le=>{if(confirm("Deseja arquivar esta tarefa? Voc poder restaur-la no menu Arquivo.")){const oe=va(Dr,"tasks",le);await yh(oe,{isArchived:!0})}},ne=le=>{b(le),p(!0)},fe=["backlog","todo","in-progress","done"];return x.jsxs("div",{className:"h-screen flex flex-row bg-gray-100 text-gray-900 font-sans overflow-hidden",children:[x.jsx(fM,{user:r,tasks:s,onSignOut:e,onNewTask:()=>{b(null),p(!0)},selectedProjects:o,onToggleProject:u}),x.jsx("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:x.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6",children:x.jsxs(QN,{sensors:A,collisionDetection:v1,onDragStart:q,onDragOver:Q,onDragEnd:F,children:[x.jsx("div",{className:"flex gap-6 h-full min-w-max mx-auto",children:fe.map(le=>x.jsx(oM,{id:le,tasks:N(n.filter(oe=>oe.status===le)),onDeleteTask:re,onEditTask:ne},le))}),x.jsx(cO,{children:f?x.jsx(K1,{task:n.find(le=>le.id===f),onDelete:()=>{},onEdit:()=>{}}):null})]})})}),x.jsx(lM,{isOpen:g,onClose:()=>{p(!1),b(null)},onSubmit:ee,editingTask:E})]})}function mM(){const r=async()=>{const e=new Cr;try{await w2(Ss,e)}catch(n){console.error("Error signing in with Google",n)}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:x.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-gray-100",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"bg-blue-600 p-3 rounded-xl shadow-lg shadow-blue-600/20",children:x.jsx(BO,{className:"text-white",size:32})})}),x.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 tracking-tight",children:"My Projects Control Tower"}),x.jsx("p",{className:"text-gray-500 mb-8",children:"Sign in to manage your projects and tasks"}),x.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98]",children:[x.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[x.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),x.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),x.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),x.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})]})})}function gM({userEmail:r}){const e=async()=>{try{await _b(Ss)}catch(n){console.error("Error signing out",n)}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:x.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-gray-100",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:x.jsx(Q1,{className:"text-red-600",size:48})})}),x.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 tracking-tight",children:"Acesso Restrito"}),x.jsxs("p",{className:"text-gray-500 mb-8",children:["Seu email ",x.jsx("span",{className:"font-medium text-gray-700",children:r})," no tem permisso para acessar este painel. Entre em contato com o administrador."]}),x.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-2.5 px-4 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98]",children:[x.jsx(G1,{size:18}),"Sair"]})]})})}function pM(){const[r,e]=B.useState(null),[n,s]=B.useState(!0);B.useEffect(()=>{const N=s2(Ss,q=>{e(q),s(!1)});return()=>N()},[]);const o=async()=>{try{await _b(Ss)}catch(N){console.error("Error signing out",N)}},[u,f]=B.useState([]),[m,g]=B.useState([]);B.useEffect(()=>{const N=c1(tp(Dr,"tasks")),q=xD(N,Q=>{const F=Q.docs.map(ee=>({id:ee.id,...ee.data()}));f(F)});return()=>q()},[]);const p=N=>{g(q=>q.includes(N)?q.filter(Q=>Q!==N):[...q,N])},E=(m.length===0?u:u.filter(N=>m.includes(N.projectId))).filter(N=>!N.isArchived);if(n)return x.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:x.jsx(QO,{className:"w-10 h-10 text-blue-600 animate-spin"})});if(!r)return x.jsx(mM,{});const b="viniciusbrancos@gmail.com,brancodanillo@gmail.com".split(",").map(N=>N.trim())||[];return b.length===0||r.email&&b.includes(r.email)?x.jsx(dM,{user:r,onSignOut:o,tasks:E,allTasks:u,selectedProjects:m,onToggleProject:p}):x.jsx(gM,{userEmail:r.email})}VA.createRoot(document.getElementById("root")).render(x.jsx(B.StrictMode,{children:x.jsx(pM,{})}));
